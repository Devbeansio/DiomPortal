{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useQuery } from 'react-query';\nimport { useHistory } from 'react-router-dom';\nimport { getDataLogs } from '../../APIS/dataLogs';\nimport { DIOM_BASED_URLS } from '../../config/url';\nimport { useAllDataQuery, usePaginatedQuery } from '../../hooks/query';\n\nconst UseDataLogs = () => {\n  _s();\n\n  var _logsDataa$data, _logsDataa$data2, _logsDataa$data3, _logsDataa$data4;\n\n  let history = useHistory();\n  const token = localStorage.getItem(\"Token\");\n  const [modal_static, setModal_static] = useState(false);\n  const [logsDataDetail, setLogsDataDetail] = useState();\n  const [dataDetailId, setDataDetailId] = useState();\n  const [isOpen, setIsOpen] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(50);\n\n  const changeCurrentPage = pageNum => setCurrentPage(pageNum);\n\n  const {\n    data: logsDataa\n  } = useAllDataQuery([\"GetDataLogsss\", `${currentPage}`, `${pageSize}`], () => getDataLogs(token, currentPage, pageSize, history));\n  const logsData = logsDataa === null || logsDataa === void 0 ? void 0 : (_logsDataa$data = logsDataa.data) === null || _logsDataa$data === void 0 ? void 0 : _logsDataa$data.data;\n  const hasNextPage = logsDataa === null || logsDataa === void 0 ? void 0 : (_logsDataa$data2 = logsDataa.data) === null || _logsDataa$data2 === void 0 ? void 0 : _logsDataa$data2.hasNextPage;\n  const total = logsDataa === null || logsDataa === void 0 ? void 0 : (_logsDataa$data3 = logsDataa.data) === null || _logsDataa$data3 === void 0 ? void 0 : _logsDataa$data3.total;\n  const hasPreviousPage = logsDataa === null || logsDataa === void 0 ? void 0 : (_logsDataa$data4 = logsDataa.data) === null || _logsDataa$data4 === void 0 ? void 0 : _logsDataa$data4.hasPreviousPage; // console.log(\"hasNextPage : \",logsDataa.total )\n\n  const removeBodyCss = () => {\n    document.body.classList.add(\"no_padding\");\n  };\n\n  const tog_static = () => {\n    setModal_static(!modal_static);\n    removeBodyCss();\n  };\n\n  const logdetialsfunc = async logId => {\n    // console.log(\"its ID ===>\",logId)\n    //starts\n    try {\n      const response = await fetch(`${DIOM_BASED_URLS}/hyper-pay-logs/${logId}`, {\n        method: 'GET',\n        headers: {\n          Authorization: \"Bearer \" + token,\n          Accept: \"*/*\",\n          // \"Content-Type\": \"application/json\",\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      });\n\n      if (!response.ok) {\n        // if(response.status === 401){\n        //   setError(response.statusText)\n        //   history.push(\"/login\");\n        // }\n        throw new Error(response.statusText);\n      }\n\n      const result = await response.json();\n      const logsDataDeails = result; // console.log(\"logsDataDeails:::::::::::::logsDataDeails\",logsDataDeails.hyperPayMessage)\n\n      setLogsDataDetail(logsDataDeails);\n      setModal_static(true);\n    } catch (error) {\n      console.log(\"error\", error);\n    } //ends\n    // setDataDetailId(logId)\n\n  };\n\n  const pageOptions = {\n    sizePerPage: pageSize,\n    totalSize: total !== null && total !== void 0 ? total : 0,\n    custom: true\n  };\n\n  const pagelengthnum = e => {\n    if (e.target.value === \"1\") {\n      setPageSize(10);\n    } else if (e.target.value === \"2\") {\n      setPageSize(30);\n    } else if (e.target.value === \"3\") {\n      setPageSize(50);\n    }\n  };\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return {\n    logdetialsfunc,\n    tog_static,\n    logsData,\n    modal_static,\n    setModal_static,\n    logsDataDetail,\n    pageOptions,\n    pagelengthnum,\n    currentPage,\n    isOpen,\n    pageSize,\n    hasNextPage,\n    changeCurrentPage,\n    toggle\n  };\n};\n\n_s(UseDataLogs, \"IEZ0DDZg46vf9qsHvo0tlUQhT4k=\", false, function () {\n  return [useHistory, useAllDataQuery];\n});\n\n_c = UseDataLogs;\nexport default UseDataLogs;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseDataLogs\");","map":{"version":3,"names":["React","useState","useEffect","useQuery","useHistory","getDataLogs","DIOM_BASED_URLS","useAllDataQuery","usePaginatedQuery","UseDataLogs","history","token","localStorage","getItem","modal_static","setModal_static","logsDataDetail","setLogsDataDetail","dataDetailId","setDataDetailId","isOpen","setIsOpen","currentPage","setCurrentPage","pageSize","setPageSize","changeCurrentPage","pageNum","data","logsDataa","logsData","hasNextPage","total","hasPreviousPage","removeBodyCss","document","body","classList","add","tog_static","logdetialsfunc","logId","response","fetch","method","headers","Authorization","Accept","ok","Error","statusText","result","json","logsDataDeails","error","console","log","pageOptions","sizePerPage","totalSize","custom","pagelengthnum","e","target","value","toggle"],"sources":["C:/Users/tech sign/Desktop/xyz/src/pages/DataLogs/useDataLogs.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { useQuery } from 'react-query';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { getDataLogs } from '../../APIS/dataLogs';\r\nimport { DIOM_BASED_URLS } from '../../config/url';\r\nimport { useAllDataQuery, usePaginatedQuery } from '../../hooks/query';\r\n\r\nconst UseDataLogs = () => {\r\n  let history = useHistory();\r\n    const token = localStorage.getItem(\"Token\");\r\n    const [modal_static, setModal_static] = useState(false);\r\n    const[logsDataDetail,setLogsDataDetail]=useState();\r\n    const [dataDetailId,setDataDetailId]=useState()\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [pageSize, setPageSize] = useState(50);\r\n  const changeCurrentPage = (pageNum) => setCurrentPage(pageNum);\r\n\r\n\r\n    const { data:logsDataa } = useAllDataQuery(\r\n        [\"GetDataLogsss\",`${currentPage}` ,`${pageSize}`],\r\n        () => getDataLogs(token,currentPage,pageSize,history)\r\n      );\r\n      const logsData = logsDataa?.data?.data;\r\n      const hasNextPage = logsDataa?.data?.hasNextPage;\r\n      const total = logsDataa?.data?.total;\r\n      const hasPreviousPage = logsDataa?.data?.hasPreviousPage\r\n\r\n      // console.log(\"hasNextPage : \",logsDataa.total )\r\n    const removeBodyCss = () => {\r\n      document.body.classList.add(\"no_padding\");\r\n    };\r\n      const tog_static = () => {\r\n        setModal_static(!modal_static);\r\n    \r\n        removeBodyCss();\r\n      };\r\n\r\n\r\n    \r\n\r\n\r\n    const  logdetialsfunc = async(logId)=>{\r\n        \r\n// console.log(\"its ID ===>\",logId)\r\n//starts\r\ntry{\r\nconst response = await   fetch(\r\n  `${DIOM_BASED_URLS}/hyper-pay-logs/${logId}`,\r\n  {\r\n    method: 'GET',\r\n    headers:{\r\nAuthorization:\"Bearer \" + token,\r\nAccept: \"*/*\",\r\n// \"Content-Type\": \"application/json\",\r\n\"Access-Control-Allow-Origin\": \"*\",\r\n    }\r\n  }\r\n)\r\n\r\nif (!response.ok) {\r\n  // if(response.status === 401){\r\n  //   setError(response.statusText)\r\n  //   history.push(\"/login\");\r\n  // }\r\n  throw new Error(response.statusText);\r\n}\r\nconst result = await response.json();\r\nconst logsDataDeails = result\r\n// console.log(\"logsDataDeails:::::::::::::logsDataDeails\",logsDataDeails.hyperPayMessage)\r\n       setLogsDataDetail(logsDataDeails)\r\n       setModal_static(true)\r\n} catch(error){ \r\n  console.log(\"error\", error)\r\n}\r\n//ends\r\n\r\n\r\n\r\n\r\n// setDataDetailId(logId)\r\n      }\r\n\r\n\r\n      const pageOptions = {\r\n        sizePerPage: pageSize,\r\n        totalSize: total ?? 0,\r\n        custom: true,\r\n      };\r\n\r\n      const pagelengthnum = (e) => {\r\n        if (e.target.value === \"1\") {\r\n          setPageSize(10);\r\n        } else if (e.target.value === \"2\") {\r\n          setPageSize(30);\r\n        } else if (e.target.value === \"3\") {\r\n          setPageSize(50);\r\n        }\r\n      };\r\n      const toggle = () => {\r\n        setIsOpen(!isOpen);\r\n      };\r\n     \r\n\r\n\r\n  return {\r\n    logdetialsfunc,\r\n    tog_static,\r\n    logsData,\r\n    modal_static, \r\n    setModal_static,\r\n    logsDataDetail,\r\n    pageOptions,\r\n    pagelengthnum,\r\n    currentPage,\r\n    isOpen,\r\n    pageSize,\r\n    hasNextPage,\r\n\r\n    changeCurrentPage,\r\n    toggle\r\n  }\r\n   \r\n  \r\n}\r\n\r\nexport default UseDataLogs"],"mappings":"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"},"metadata":{},"sourceType":"module"}