{"ast":null,"code":"import _toConsumableArray from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\tech sign\\\\Desktop\\\\1diom-frontend\\\\diom-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState,useEffect}from\"react\";import{DIOM_BASED_URLS}from\"../../../../config/url\";import{useParams}from\"react-router-dom\";import{toast}from\"react-toastify\";import{useQueryClient,useQuery}from\"react-query\";import{getHourlyDayRate,getlocationsresourceTypes,getResourcetypeResources,GetLocationfocusdest,getResourceResourceType}from\"../../../../APIS/resourceType\";var UseResourceTypeDetail=function UseResourceTypeDetail(){var QueryClient=useQueryClient();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),resourceDetailes=_useState4[0],setResourceDetailes=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),resourceTypes=_useState6[0],setResourceTypes=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),locationEditTag=_useState8[0],setLocationEditTag=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),modal_static=_useState10[0],setModal_static=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),loaded=_useState12[0],setLoaded=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),resourceTypeAddMoreBlock=_useState14[0],setResourceTypeAddMoreBlock=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),businesName=_useState16[0],setBusinesName=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),diomLocation=_useState18[0],setDiomLocation=_useState18[1];var _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),prices=_useState20[0],setPrices=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),selectedFiles=_useState22[0],setSelectedFiles=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),locationlabel=_useState24[0],setLocationlabel=_useState24[1];var _useState25=useState([]),_useState26=_slicedToArray(_useState25,2),vat=_useState26[0],setVat=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),enableEdit=_useState28[0],setEnableEdit=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),locationImgId=_useState30[0],setLocationImgId=_useState30[1];var token=localStorage.getItem(\"Token\");var _useParams=useParams(),id=_useParams.id,resourceTypeKey=_useParams.resourceTypeKey;var handellocationeditfunc=function handellocationeditfunc(e,e_id){setLocationEditTag(e);setLocationImgId(e_id);};var locationTagEditButtonfunc=function locationTagEditButtonfunc(){setEnableEdit(true);};var formatBytes=function formatBytes(bytes){var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(bytes===0)return\"0 Bytes\";var k=1024;var dm=decimals<0?0:decimals;var sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"];var i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+\" \"+sizes[i];};var handleAcceptedFiles=function handleAcceptedFiles(files){files.map(function(file){return Object.assign(file,{preview:URL.createObjectURL(file),htmlFormattedSize:formatBytes(file.size)});});setSelectedFiles(files);};var removeBodyCss=function removeBodyCss(){document.body.classList.add(\"no_padding\");};var tog_static=function tog_static(){setModal_static(!modal_static);removeBodyCss();};var descriptionvaulefunc=function descriptionvaulefunc(event){setResourceDetailes(function(prev){return _objectSpread(_objectSpread({},prev),{},{description:event.target.value});});};var perminutpricfunc=function perminutpricfunc(event){setResourceDetailes(function(prev){return _objectSpread(_objectSpread({},prev),{},{perMinuteMinutePrice:event.target.value});});};var pageOptions={sizePerPage:10,totalSize:resourceTypes.length,custom:true};var uploadFile=function uploadFile(){if(selectedFiles<=1||locationlabel.length<=1){return toast.error(\" Please fill all fields\");}else{var myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \".concat(localStorage.getItem(\"Token\")));var formdata=new FormData();formdata.append(\"file\",selectedFiles[0],selectedFiles[0].name);formdata.append(\"locationName\",locationlabel);var requestOptions={method:\"POST\",headers:myHeaders,body:formdata,redirect:\"follow\"};fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories/\").concat(id,\"/uploadimages\"),requestOptions).then(function(response){return response.json();}).then(function(result){if(result[0].statusCode===200){toast.success(\"Image uplaoded\");QueryClient.invalidateQueries(\"resourcetypeResources\");}else if(result[0].statusCode===204){toast.success(\"Image uplaoded\");QueryClient.invalidateQueries(\"resourcetypeResources\");}else{toast.error(\" Something went wrong\");}setModal_static(false);setResourceTypeAddMoreBlock(false);getallresources();}).catch(function(error){return console.log(\"error\",error);});}};var locationedittagfunc=function locationedittagfunc(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories/\").concat(id,\"/\").concat(locationImgId),{method:\"PATCH\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token},body:JSON.stringify({locationName:locationEditTag})}).then(function(result3){if(result3.status===200){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"resourcetypeResources\");}else if(result3.status===204){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"resourcetypeResources\");}else{toast.error(\" Something went wrong\");}setEnableEdit(false);setModal_static(false);}).catch(function(error){return toast.error(\" Something went wrong\");});};var updatelocationbranddetails=function updatelocationbranddetails(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories/\").concat(id),{method:\"PATCH\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token},body:JSON.stringify({isAvailableInWnpl:resourceDetailes.isAvailableInWnpl,description:resourceDetailes.description,perMinuteMinutePrice:resourceDetailes.perMinuteMinutePrice})}).then(function(result3){if(result3.status===200){toast.success(\"Successfully Updated\");QueryClient.invalidateQueries(\"resourcetypeResources\");}else if(result3.status===204){toast.success(\"Successfully Updated\");QueryClient.invalidateQueries(\"resourcetypeResources\");}else{toast.error(\" Something went wrong\");}setModal_static(false);// setLoaded(false);\n}).catch(function(error){return console.log(\"error\",error);});};var imagedeletedfunc=function imagedeletedfunc(_id){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories/\").concat(id,\"/\").concat(_id),{method:\"DELETE\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token}}).then(function(result3){toast.success(\"Deleted Successfully\");QueryClient.invalidateQueries(\"resourcetypeResources\");}).catch(function(error){return toast.error(\" Something went wrong\");});};// *************\nvar resourceResourcetypesdata=useQuery([\"resourceResourcetypdata\",id],function(){return getResourceResourceType(token,id);});var resourceResourcetypedata=resourceResourcetypesdata.data;// *************\nvar getResourceByResourceType=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id,token){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",resourceResourcetypedata.json());case 1:case\"end\":return _context.stop();}}},_callee);}));return function getResourceByResourceType(_x,_x2){return _ref.apply(this,arguments);};}();// *************\nvar Locationfocusdest=useQuery([\"Locationfocusdest\",id],function(){return GetLocationfocusdest(token,resourceTypeKey);});var Locationfocusdestdata=Locationfocusdest.data;// *************\nvar GetLocationWithFocusDeskfunc=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setBusinesName(Locationfocusdestdata.locations);case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function GetLocationWithFocusDeskfunc(){return _ref2.apply(this,arguments);};}();// *************\nvar resourcetypeResources=useQuery([\"resourcetypeResources\",id],function(){return getResourcetypeResources(token,id);});var resourcetypeResourcesdata=resourcetypeResources.data;// *************\nvar getallresources=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setResourceDetailes(resourcetypeResourcesdata);case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function getallresources(){return _ref3.apply(this,arguments);};}();// *************\nvar getHourlydayrate=useQuery([\"gethourlydayrate\",id],function(){return getHourlyDayRate(token,id);});var getHourlydayrateData=getHourlydayrate.data;// *************\nvar gethourlyDayRateFunc=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var Price,Vat;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:Price=getHourlydayrateData.data.resourceTypePrices.map(function(element,index){return{name:element.Name,price:element.Price};});setPrices(Price);Vat=getHourlydayrateData.data.vatPrice.map(function(element,index){return{Vat:element.Rate};});setVat(Vat);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function gethourlyDayRateFunc(){return _ref4.apply(this,arguments);};}();// *************\nvar locationsresourceTypes=useQuery([\"locationsresourceTypes\",id],function(){return getlocationsresourceTypes(token,id);});var locationsresourceTypesdata=locationsresourceTypes.data;// *************\nvar getalllocationsfunc=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var mapdata;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:mapdata=locationsresourceTypesdata.map(function(element,index){return{value:element.id,label:element.Name};});setDiomLocation([{label:\"--All Locations\",options:_toConsumableArray(mapdata)}]);case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function getalllocationsfunc(){return _ref5.apply(this,arguments);};}();var getresoucresbyid=function getresoucresbyid(){var mapdata=resourceResourcetypedata.data.map(function(element,index){return{ID:index+1,_id:element.id,ResourceType:element.Name,ResourceTypeNames:element.ResourceTypeName};});setResourceTypes(mapdata);};var _useQuery=useQuery(\"resources\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var resourcesdata,response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:resourcesdata=data;_context6.next=3;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories?filter={\\\"limit\\\": 10, \\\"skip\\\":0, \\\"where\\\" : { \\\"ResourceTypeId\\\" : \").concat(id,\"}}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 3:response=_context6.sent;return _context6.abrupt(\"return\",response.json());case 5:case\"end\":return _context6.stop();}}},_callee6);}))),status=_useQuery.status,isLoading=_useQuery.isLoading,data=_useQuery.data;useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.t0=resourcetypeResourcesdata;if(!_context7.t0){_context7.next=4;break;}_context7.next=4;return getallresources();case 4:_context7.t1=locationsresourceTypesdata;if(!_context7.t1){_context7.next=8;break;}_context7.next=8;return getalllocationsfunc();case 8:_context7.t2=resourceResourcetypedata;if(!_context7.t2){_context7.next=12;break;}_context7.next=12;return getresoucresbyid();case 12:_context7.t3=Locationfocusdestdata;if(!_context7.t3){_context7.next=16;break;}_context7.next=16;return GetLocationWithFocusDeskfunc();case 16:_context7.t4=getHourlydayrateData;if(!_context7.t4){_context7.next=20;break;}_context7.next=20;return gethourlyDayRateFunc();case 20:case\"end\":return _context7.stop();}}},_callee7);}))();},[Locationfocusdestdata,resourcetypeResourcesdata,getHourlydayrateData,locationsresourceTypesdata,resourceResourcetypedata]);return{isLoading:isLoading,data:data,error:error,setError:setError,resourceDetailes:resourceDetailes,setResourceDetailes:setResourceDetailes,resourceTypes:resourceTypes,setResourceTypes:setResourceTypes,locationEditTag:locationEditTag,setLocationEditTag:setLocationEditTag,modal_static:modal_static,setModal_static:setModal_static,loaded:loaded,setLoaded:setLoaded,resourceTypeAddMoreBlock:resourceTypeAddMoreBlock,setResourceTypeAddMoreBlock:setResourceTypeAddMoreBlock,businesName:businesName,setBusinesName:setBusinesName,diomLocation:diomLocation,setDiomLocation:setDiomLocation,prices:prices,setPrices:setPrices,selectedFiles:selectedFiles,setSelectedFiles:setSelectedFiles,locationlabel:locationlabel,setLocationlabel:setLocationlabel,vat:vat,setVat:setVat,enableEdit:enableEdit,setEnableEdit:setEnableEdit,locationImgId:locationImgId,setLocationImgId:setLocationImgId,getResourceByResourceType:getResourceByResourceType,handellocationeditfunc:handellocationeditfunc,locationTagEditButtonfunc:locationTagEditButtonfunc,uploadFile:uploadFile,handleAcceptedFiles:handleAcceptedFiles,tog_static:tog_static,descriptionvaulefunc:descriptionvaulefunc,perminutpricfunc:perminutpricfunc,GetLocationWithFocusDeskfunc:GetLocationWithFocusDeskfunc,getallresources:getallresources,updatelocationbranddetails:updatelocationbranddetails,gethourlyDayRateFunc:gethourlyDayRateFunc,imagedeletedfunc:imagedeletedfunc,getalllocationsfunc:getalllocationsfunc,locationedittagfunc:locationedittagfunc,pageOptions:pageOptions};};export default UseResourceTypeDetail;","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/src/pages/Inventories/ResourceType/ResourceDetailed/useResourceTypeDetail.js"],"names":["useState","useEffect","DIOM_BASED_URLS","useParams","toast","useQueryClient","useQuery","getHourlyDayRate","getlocationsresourceTypes","getResourcetypeResources","GetLocationfocusdest","getResourceResourceType","UseResourceTypeDetail","QueryClient","error","setError","resourceDetailes","setResourceDetailes","resourceTypes","setResourceTypes","locationEditTag","setLocationEditTag","modal_static","setModal_static","loaded","setLoaded","resourceTypeAddMoreBlock","setResourceTypeAddMoreBlock","businesName","setBusinesName","diomLocation","setDiomLocation","prices","setPrices","selectedFiles","setSelectedFiles","locationlabel","setLocationlabel","vat","setVat","enableEdit","setEnableEdit","locationImgId","setLocationImgId","token","localStorage","getItem","id","resourceTypeKey","handellocationeditfunc","e","e_id","locationTagEditButtonfunc","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","htmlFormattedSize","size","removeBodyCss","document","body","classList","add","tog_static","descriptionvaulefunc","event","prev","description","target","value","perminutpricfunc","perMinuteMinutePrice","pageOptions","sizePerPage","totalSize","length","custom","uploadFile","myHeaders","Headers","append","formdata","FormData","name","requestOptions","method","headers","redirect","fetch","then","response","json","result","statusCode","success","invalidateQueries","getallresources","catch","console","locationedittagfunc","Accept","Authorization","JSON","stringify","locationName","result3","status","updatelocationbranddetails","isAvailableInWnpl","imagedeletedfunc","_id","resourceResourcetypesdata","resourceResourcetypedata","data","getResourceByResourceType","Locationfocusdest","Locationfocusdestdata","GetLocationWithFocusDeskfunc","locations","resourcetypeResources","resourcetypeResourcesdata","getHourlydayrate","getHourlydayrateData","gethourlyDayRateFunc","Price","resourceTypePrices","element","index","Name","price","Vat","vatPrice","Rate","locationsresourceTypes","locationsresourceTypesdata","getalllocationsfunc","mapdata","label","options","getresoucresbyid","ID","ResourceType","ResourceTypeNames","ResourceTypeName","resourcesdata","isLoading"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { DIOM_BASED_URLS } from \"../../../../config/url\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useQueryClient, useQuery } from \"react-query\";\r\n\r\nimport {\r\n  getHourlyDayRate,\r\n  getlocationsresourceTypes,\r\n  getResourcetypeResources,\r\n  GetLocationfocusdest,\r\n  getResourceResourceType,\r\n} from \"../../../../APIS/resourceType\";\r\nconst UseResourceTypeDetail = () => {\r\n  const QueryClient = useQueryClient();\r\n  const [error, setError] = useState(null);\r\n  const [resourceDetailes, setResourceDetailes] = useState([]);\r\n  const [resourceTypes, setResourceTypes] = useState([]);\r\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\r\n  const [modal_static, setModal_static] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [resourceTypeAddMoreBlock, setResourceTypeAddMoreBlock] =\r\n    useState(false);\r\n  const [businesName, setBusinesName] = useState([]);\r\n  const [diomLocation, setDiomLocation] = useState([]);\r\n  const [prices, setPrices] = useState([]);\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [locationlabel, setLocationlabel] = useState([]);\r\n  const [vat, setVat] = useState([]);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n  const [locationImgId, setLocationImgId] = useState(\"\");\r\n  const token = localStorage.getItem(\"Token\");\r\n  const { id, resourceTypeKey } = useParams();\r\n\r\n  const handellocationeditfunc = (e, e_id) => {\r\n    setLocationEditTag(e);\r\n    setLocationImgId(e_id);\r\n  };\r\n  const locationTagEditButtonfunc = () => {\r\n    setEnableEdit(true);\r\n  };\r\n\r\n  const formatBytes = (bytes, decimals = 2) => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  };\r\n  const handleAcceptedFiles = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles(files);\r\n  };\r\n\r\n  const removeBodyCss = () => {\r\n    document.body.classList.add(\"no_padding\");\r\n  };\r\n  const tog_static = () => {\r\n    setModal_static(!modal_static);\r\n    removeBodyCss();\r\n  };\r\n\r\n  const descriptionvaulefunc = (event) => {\r\n    setResourceDetailes((prev) => ({\r\n      ...prev,\r\n      description: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const perminutpricfunc = (event) => {\r\n    setResourceDetailes((prev) => ({\r\n      ...prev,\r\n      perMinuteMinutePrice: event.target.value,\r\n    }));\r\n  };\r\n  const pageOptions = {\r\n    sizePerPage: 10,\r\n    totalSize: resourceTypes.length,\r\n    custom: true,\r\n  };\r\n\r\n  const uploadFile = () => {\r\n    if (selectedFiles <= 1 || locationlabel.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].name);\r\n      formdata.append(\"locationName\", locationlabel);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/uploadimages`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (result[0].statusCode === 200) {\r\n            toast.success(\"Image uplaoded\");\r\n            QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n          } else if (result[0].statusCode === 204) {\r\n            toast.success(\"Image uplaoded\");\r\n            QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n          setModal_static(false);\r\n          setResourceTypeAddMoreBlock(false);\r\n          getallresources();\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  };\r\n\r\n  const locationedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${locationImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationName: locationEditTag,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const updatelocationbranddetails = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}`,\r\n\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          isAvailableInWnpl: resourceDetailes.isAvailableInWnpl,\r\n          description: resourceDetailes.description,\r\n          perMinuteMinutePrice: resourceDetailes.perMinuteMinutePrice,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Successfully Updated\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Successfully Updated\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setModal_static(false);\r\n        // setLoaded(false);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  const imagedeletedfunc = (_id) => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n      })\r\n\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  // *************\r\n  const resourceResourcetypesdata = useQuery(\r\n    [\"resourceResourcetypdata\", id],\r\n    () => getResourceResourceType(token, id)\r\n  );\r\n  const resourceResourcetypedata = resourceResourcetypesdata.data;\r\n  // *************\r\n\r\n  const getResourceByResourceType = async (id, token) => {\r\n    return resourceResourcetypedata.json();\r\n  };\r\n\r\n  // *************\r\n  const Locationfocusdest = useQuery([\"Locationfocusdest\", id], () =>\r\n    GetLocationfocusdest(token, resourceTypeKey)\r\n  );\r\n  const Locationfocusdestdata = Locationfocusdest.data;\r\n  // *************\r\n  const GetLocationWithFocusDeskfunc = async () => {\r\n    setBusinesName(Locationfocusdestdata.locations);\r\n  };\r\n\r\n  // *************\r\n  const resourcetypeResources = useQuery([\"resourcetypeResources\", id], () =>\r\n    getResourcetypeResources(token, id)\r\n  );\r\n  const resourcetypeResourcesdata = resourcetypeResources.data;\r\n  // *************\r\n  const getallresources = async () => {\r\n    setResourceDetailes(resourcetypeResourcesdata);\r\n  };\r\n\r\n  // *************\r\n  const getHourlydayrate = useQuery([\"gethourlydayrate\", id], () =>\r\n    getHourlyDayRate(token, id)\r\n  );\r\n  const getHourlydayrateData = getHourlydayrate.data;\r\n  // *************\r\n  const gethourlyDayRateFunc = async () => {\r\n    const Price = getHourlydayrateData.data.resourceTypePrices.map(\r\n      (element, index) => ({\r\n        name: element.Name,\r\n        price: element.Price,\r\n      })\r\n    );\r\n    setPrices(Price);\r\n\r\n    const Vat = getHourlydayrateData.data.vatPrice.map((element, index) => ({\r\n      Vat: element.Rate,\r\n    }));\r\n\r\n    setVat(Vat);\r\n  };\r\n\r\n  // *************\r\n  const locationsresourceTypes = useQuery([\"locationsresourceTypes\", id], () =>\r\n    getlocationsresourceTypes(token, id)\r\n  );\r\n  const locationsresourceTypesdata = locationsresourceTypes.data;\r\n  // *************\r\n  const getalllocationsfunc = async () => {\r\n    const mapdata = locationsresourceTypesdata.map((element, index) => ({\r\n      value: element.id,\r\n      label: element.Name,\r\n    }));\r\n\r\n    setDiomLocation([\r\n      {\r\n        label: \"--All Locations\",\r\n        options: [\r\n          // {\r\n          //   value: \"All\",\r\n          //   label: \"All\",\r\n          // },\r\n          ...mapdata,\r\n        ],\r\n      },\r\n    ]);\r\n  };\r\n  const getresoucresbyid = () => {\r\n    const mapdata = resourceResourcetypedata.data.map((element, index) => ({\r\n      ID: index + 1,\r\n      _id: element.id,\r\n      ResourceType: element.Name,\r\n      ResourceTypeNames: element.ResourceTypeName,\r\n    }));\r\n    setResourceTypes(mapdata);\r\n  };\r\n\r\n  const { status, isLoading, data } = useQuery(\"resources\", async () => {\r\n    const resourcesdata = data;\r\n    const response = await fetch(\r\n      `${DIOM_BASED_URLS}/admin-resources-inventories?filter={\"limit\": 10, \"skip\":0, \"where\" : { \"ResourceTypeId\" : ${id}}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    );\r\n    return response.json();\r\n  });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      resourcetypeResourcesdata && (await getallresources());\r\n      locationsresourceTypesdata && (await getalllocationsfunc());\r\n      resourceResourcetypedata && (await getresoucresbyid());\r\n      Locationfocusdestdata && (await GetLocationWithFocusDeskfunc());\r\n      getHourlydayrateData && (await gethourlyDayRateFunc());\r\n      // resourceResourcetypesdata && (await getresoucresbyid());\r\n    })();\r\n  }, [\r\n    Locationfocusdestdata,\r\n    resourcetypeResourcesdata,\r\n    getHourlydayrateData,\r\n    locationsresourceTypesdata,\r\n    resourceResourcetypedata,\r\n  ]);\r\n\r\n  return {\r\n    isLoading,\r\n    data,\r\n    error,\r\n    setError,\r\n    resourceDetailes,\r\n    setResourceDetailes,\r\n    resourceTypes,\r\n    setResourceTypes,\r\n    locationEditTag,\r\n    setLocationEditTag,\r\n    modal_static,\r\n    setModal_static,\r\n    loaded,\r\n    setLoaded,\r\n    resourceTypeAddMoreBlock,\r\n    setResourceTypeAddMoreBlock,\r\n    businesName,\r\n    setBusinesName,\r\n    diomLocation,\r\n    setDiomLocation,\r\n    prices,\r\n    setPrices,\r\n    selectedFiles,\r\n    setSelectedFiles,\r\n    locationlabel,\r\n    setLocationlabel,\r\n    vat,\r\n    setVat,\r\n    enableEdit,\r\n    setEnableEdit,\r\n    locationImgId,\r\n    setLocationImgId,\r\n    getResourceByResourceType,\r\n    handellocationeditfunc,\r\n    locationTagEditButtonfunc,\r\n    uploadFile,\r\n    handleAcceptedFiles,\r\n    tog_static,\r\n    descriptionvaulefunc,\r\n    perminutpricfunc,\r\n    GetLocationWithFocusDeskfunc,\r\n    getallresources,\r\n    updatelocationbranddetails,\r\n    gethourlyDayRateFunc,\r\n    imagedeletedfunc,\r\n    getalllocationsfunc,\r\n    locationedittagfunc,\r\n    pageOptions,\r\n  };\r\n};\r\nexport default UseResourceTypeDetail;\r\n"]},"metadata":{},"sourceType":"module"}