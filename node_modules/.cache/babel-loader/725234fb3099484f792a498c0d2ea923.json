{"ast":null,"code":"import _objectSpread from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\diom working project\\\\staging\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{DIOM_BASED_URLS}from\"../config/url\";import moment from\"moment\";/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all cehckedIn Customers in DIOM\r\n */export var getcustomers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(filter){var size,page,token,applyLocationFilter,res,_resJson,resJson,customerCheckInData,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:size=_args.length>1&&_args[1]!==undefined?_args[1]:30;page=_args.length>2&&_args[2]!==undefined?_args[2]:1;token=_args.length>3&&_args[3]!==undefined?_args[3]:\"\";applyLocationFilter=_args.length>4?_args[4]:undefined;_context.next=6;return fetch(!applyLocationFilter?\"\".concat(DIOM_BASED_URLS,\"/users/checked-in\"):\"\".concat(DIOM_BASED_URLS,\"/admin-diom-location/\").concat(filter,\"/active-customers\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context.sent;if(res.ok){_context.next=12;break;}_context.next=10;return res.json();case 10:_resJson=_context.sent;throw new Error(_resJson.error.message);case 12:_context.next=14;return res.json();case 14:resJson=_context.sent;// console.log(\"resJson : \", resJson);\ncustomerCheckInData=resJson.data.map(function(e,index){return _objectSpread(_objectSpread({},e),{},{id:index+1,_id:e.id,checkInTime:moment(e.checkInTime).format(\"DD/MM/YYYY hh:mm\")});});return _context.abrupt(\"return\",{data:customerCheckInData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context.stop();}}},_callee);}));return function getcustomers(_x){return _ref.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all cehckedIn details in DIOM\r\n */export var getcustomer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var size,page,token,id,res,_resJson2,resJson,customerdetailedData,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:size=_args2.length>0&&_args2[0]!==undefined?_args2[0]:30;page=_args2.length>1&&_args2[1]!==undefined?_args2[1]:1;token=_args2.length>2&&_args2[2]!==undefined?_args2[2]:\"\";id=_args2.length>3?_args2[3]:undefined;_context2.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/users/\").concat(id),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context2.sent;if(res.ok){_context2.next=12;break;}_context2.next=10;return res.json();case 10:_resJson2=_context2.sent;throw new Error(_resJson2.error.message);case 12:_context2.next=14;return res.json();case 14:resJson=_context2.sent;_context2.next=17;return resJson.json();case 17:customerdetailedData=_context2.sent;return _context2.abrupt(\"return\",{data:customerdetailedData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 19:case\"end\":return _context2.stop();}}},_callee2);}));return function getcustomer(){return _ref2.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of today bookings in DIOM\r\n */export var getUseractivebookings=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var size,page,token,id,res,_resJson3,resJson,userActiveBookingData,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:size=_args3.length>0&&_args3[0]!==undefined?_args3[0]:30;page=_args3.length>1&&_args3[1]!==undefined?_args3[1]:1;token=_args3.length>2&&_args3[2]!==undefined?_args3[2]:\"\";id=_args3.length>3?_args3[3]:undefined;_context3.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/\").concat(id,\"/active\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context3.sent;if(res.ok){_context3.next=12;break;}_context3.next=10;return res.json();case 10:_resJson3=_context3.sent;throw new Error(_resJson3.error.message);case 12:_context3.next=14;return res.json();case 14:resJson=_context3.sent;// const userActiveBookingData = resJson.bookings.map((booking, index) => ({\nuserActiveBookingData=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,createdAt:moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id});});return _context3.abrupt(\"return\",{data:userActiveBookingData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context3.stop();}}},_callee3);}));return function getUseractivebookings(){return _ref3.apply(this,arguments);};}();export var getUserscheduledbookings=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var size,page,token,id,res,_resJson4,resJson,userSechduledBookigsData,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:size=_args4.length>0&&_args4[0]!==undefined?_args4[0]:30;page=_args4.length>1&&_args4[1]!==undefined?_args4[1]:1;token=_args4.length>2&&_args4[2]!==undefined?_args4[2]:\"\";id=_args4.length>3?_args4[3]:undefined;_context4.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/bookings/users/\").concat(id,\"/scheduled\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context4.sent;if(res.ok){_context4.next=12;break;}_context4.next=10;return res.json();case 10:_resJson4=_context4.sent;throw new Error(_resJson4.error.message);case 12:_context4.next=14;return res.json();case 14:resJson=_context4.sent;userSechduledBookigsData=resJson.bookings.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,createdAt:moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id});});return _context4.abrupt(\"return\",{data:userSechduledBookigsData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context4.stop();}}},_callee4);}));return function getUserscheduledbookings(){return _ref4.apply(this,arguments);};}();export var getUserpastbookings=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var size,page,token,id,res,_resJson5,resJson,usePastBookingsData,_args5=arguments;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:size=_args5.length>0&&_args5[0]!==undefined?_args5[0]:30;page=_args5.length>1&&_args5[1]!==undefined?_args5[1]:1;token=_args5.length>2&&_args5[2]!==undefined?_args5[2]:\"\";id=_args5.length>3?_args5[3]:undefined;_context5.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/bookings/users/\").concat(id,\"/history\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context5.sent;if(res.ok){_context5.next=12;break;}_context5.next=10;return res.json();case 10:_resJson5=_context5.sent;throw new Error(_resJson5.error.message);case 12:_context5.next=14;return res.json();case 14:resJson=_context5.sent;// const usePastBookingsData = resJson.bookings.map((booking, index) => ({\nusePastBookingsData=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,createdAt:moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id});});return _context5.abrupt(\"return\",{data:usePastBookingsData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context5.stop();}}},_callee5);}));return function getUserpastbookings(){return _ref5.apply(this,arguments);};}();","map":{"version":3,"sources":["D:/diom working project/staging/src/APIS/customerCheckedIn.js"],"names":["DIOM_BASED_URLS","moment","getcustomers","filter","size","page","token","applyLocationFilter","fetch","method","headers","Authorization","res","ok","json","resJson","Error","error","message","customerCheckInData","data","map","e","index","id","_id","checkInTime","format","total","hasNextPage","hasPreviousPage","getcustomer","customerdetailedData","getUseractivebookings","userActiveBookingData","booking","createdAt","getUserscheduledbookings","userSechduledBookigsData","bookings","getUserpastbookings","usePastBookingsData"],"mappings":"wWAAA,OAASA,eAAT,KAAgC,eAAhC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMC,CAAAA,YAAY,0FAAG,iBAC1BC,MAD0B,mNAE1BC,IAF0B,+CAEnB,EAFmB,CAG1BC,IAH0B,+CAGnB,CAHmB,CAI1BC,KAJ0B,+CAIlB,EAJkB,CAK1BC,mBAL0B,yDAORC,CAAAA,KAAK,CACrB,CAACD,mBAAD,WACOP,eADP,gCAEOA,eAFP,iCAE8CG,MAF9C,qBADqB,CAIrB,CACEM,MAAM,CAAE,KADV,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAJqB,CAPG,QAOpBM,GAPoB,kBAmBrBA,GAAG,CAACC,EAnBiB,iDAoBFD,CAAAA,GAAG,CAACE,IAAJ,EApBE,SAoBlBC,QApBkB,oBAqBlB,IAAIC,CAAAA,KAAJ,CAAUD,QAAO,CAACE,KAAR,CAAcC,OAAxB,CArBkB,gCAuBJN,CAAAA,GAAG,CAACE,IAAJ,EAvBI,SAuBpBC,OAvBoB,eAwB1B;AACMI,mBAzBoB,CAyBEJ,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,SAACC,CAAD,CAAIC,KAAJ,CAAc,CACzD,sCACKD,CADL,MAEEE,EAAE,CAAED,KAAK,CAAG,CAFd,CAGEE,GAAG,CAAEH,CAAC,CAACE,EAHT,CAIEE,WAAW,CAAEzB,MAAM,CAACqB,CAAC,CAACI,WAAH,CAAN,CAAsBC,MAAtB,CAA6B,kBAA7B,CAJf,GAMD,CAP2B,CAzBF,iCAkCnB,CACLP,IAAI,CAAED,mBADD,CAELS,KAAK,CAAEb,OAAO,CAACa,KAFV,CAGLC,WAAW,CAAEd,OAAO,CAACc,WAHhB,CAILC,eAAe,CAAEf,OAAO,CAACe,eAJpB,CAlCmB,yDAAH,kBAAZ5B,CAAAA,YAAY,4CAAlB,CA0CP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAM6B,CAAAA,WAAW,2FAAG,2NAAO3B,IAAP,kDAAc,EAAd,CAAkBC,IAAlB,kDAAyB,CAAzB,CAA4BC,KAA5B,kDAAoC,EAApC,CAAwCkB,EAAxC,4DACPhB,CAAAA,KAAK,WAClBR,eADkB,mBACOwB,EADP,EAGrB,CACEf,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAFX,CAHqB,CADE,QACnBM,GADmB,mBAWpBA,GAAG,CAACC,EAXgB,mDAYDD,CAAAA,GAAG,CAACE,IAAJ,EAZC,SAYjBC,SAZiB,qBAajB,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAbiB,iCAeHN,CAAAA,GAAG,CAACE,IAAJ,EAfG,SAenBC,OAfmB,wCAiBUA,CAAAA,OAAO,CAACD,IAAR,EAjBV,SAiBnBkB,oBAjBmB,iDAmBlB,CACLZ,IAAI,CAAEY,oBADD,CAELJ,KAAK,CAAEb,OAAO,CAACa,KAFV,CAGLC,WAAW,CAAEd,OAAO,CAACc,WAHhB,CAILC,eAAe,CAAEf,OAAO,CAACe,eAJpB,CAnBkB,2DAAH,kBAAXC,CAAAA,WAAW,2CAAjB,CA2BP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAME,CAAAA,qBAAqB,2FAAG,4NACnC7B,IADmC,kDAC5B,EAD4B,CAEnCC,IAFmC,kDAE5B,CAF4B,CAGnCC,KAHmC,kDAG3B,EAH2B,CAInCkB,EAJmC,4DAMjBhB,CAAAA,KAAK,WAClBR,eADkB,iCACqBwB,EADrB,YAGrB,CACEf,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAFX,CAHqB,CANY,QAM7BM,GAN6B,mBAgB9BA,GAAG,CAACC,EAhB0B,mDAiBXD,CAAAA,GAAG,CAACE,IAAJ,EAjBW,SAiB3BC,SAjB2B,qBAkB3B,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAlB2B,iCAoBbN,CAAAA,GAAG,CAACE,IAAJ,EApBa,SAoB7BC,OApB6B,gBAqBnC;AAEMmB,qBAvB6B,CAuBLnB,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,SAACc,OAAD,CAAUZ,KAAV,wCAC1CY,OAD0C,MAE7CX,EAAE,CAAED,KAAK,CAAG,CAFiC,CAG7Ca,SAAS,CAAEnC,MAAM,CAACkC,OAAO,CAACC,SAAT,CAAN,CAA0BT,MAA1B,CAAiC,kBAAjC,CAHkC,CAI7CF,GAAG,CAAEU,OAAO,CAACX,EAJgC,IAAjB,CAvBK,kCA6B5B,CACLJ,IAAI,CAAEc,qBADD,CAELN,KAAK,CAAEb,OAAO,CAACa,KAFV,CAGLC,WAAW,CAAEd,OAAO,CAACc,WAHhB,CAILC,eAAe,CAAEf,OAAO,CAACe,eAJpB,CA7B4B,2DAAH,kBAArBG,CAAAA,qBAAqB,2CAA3B,CAqCP,MAAO,IAAMI,CAAAA,wBAAwB,2FAAG,+NACtCjC,IADsC,kDAC/B,EAD+B,CAEtCC,IAFsC,kDAE/B,CAF+B,CAGtCC,KAHsC,kDAG9B,EAH8B,CAItCkB,EAJsC,4DAMpBhB,CAAAA,KAAK,WAClBR,eADkB,4BACgBwB,EADhB,eAGrB,CACEf,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAFX,CAHqB,CANe,QAMhCM,GANgC,mBAgBjCA,GAAG,CAACC,EAhB6B,mDAiBdD,CAAAA,GAAG,CAACE,IAAJ,EAjBc,SAiB9BC,SAjB8B,qBAkB9B,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAlB8B,iCAoBhBN,CAAAA,GAAG,CAACE,IAAJ,EApBgB,SAoBhCC,OApBgC,gBAsBhCuB,wBAtBgC,CAsBLvB,OAAO,CAACwB,QAAR,CAAiBlB,GAAjB,CAAqB,SAACc,OAAD,CAAUZ,KAAV,wCACjDY,OADiD,MAEpDX,EAAE,CAAED,KAAK,CAAG,CAFwC,CAGpDa,SAAS,CAAEnC,MAAM,CAACkC,OAAO,CAACC,SAAT,CAAN,CAA0BT,MAA1B,CAAiC,kBAAjC,CAHyC,CAIpDF,GAAG,CAAEU,OAAO,CAACX,EAJuC,IAArB,CAtBK,kCA4B/B,CACLJ,IAAI,CAAEkB,wBADD,CAELV,KAAK,CAAEb,OAAO,CAACa,KAFV,CAGLC,WAAW,CAAEd,OAAO,CAACc,WAHhB,CAILC,eAAe,CAAEf,OAAO,CAACe,eAJpB,CA5B+B,2DAAH,kBAAxBO,CAAAA,wBAAwB,2CAA9B,CAoCP,MAAO,IAAMG,CAAAA,mBAAmB,2FAAG,0NACjCpC,IADiC,kDAC1B,EAD0B,CAEjCC,IAFiC,kDAE1B,CAF0B,CAGjCC,KAHiC,kDAGzB,EAHyB,CAIjCkB,EAJiC,4DAMfhB,CAAAA,KAAK,WAClBR,eADkB,4BACgBwB,EADhB,aAGrB,CACEf,MAAM,CAAE,KADV,CAEEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAFX,CAHqB,CANU,QAM3BM,GAN2B,mBAgB5BA,GAAG,CAACC,EAhBwB,mDAiBTD,CAAAA,GAAG,CAACE,IAAJ,EAjBS,SAiBzBC,SAjByB,qBAkBzB,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAlByB,iCAoBXN,CAAAA,GAAG,CAACE,IAAJ,EApBW,SAoB3BC,OApB2B,gBAqBjC;AACM0B,mBAtB2B,CAsBL1B,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,SAACc,OAAD,CAAUZ,KAAV,wCACxCY,OADwC,MAE3CX,EAAE,CAAED,KAAK,CAAG,CAF+B,CAG3Ca,SAAS,CAAEnC,MAAM,CAACkC,OAAO,CAACC,SAAT,CAAN,CAA0BT,MAA1B,CAAiC,kBAAjC,CAHgC,CAI3CF,GAAG,CAAEU,OAAO,CAACX,EAJ8B,IAAjB,CAtBK,kCA4B1B,CACLJ,IAAI,CAAEqB,mBADD,CAELb,KAAK,CAAEb,OAAO,CAACa,KAFV,CAGLC,WAAW,CAAEd,OAAO,CAACc,WAHhB,CAILC,eAAe,CAAEf,OAAO,CAACe,eAJpB,CA5B0B,2DAAH,kBAAnBU,CAAAA,mBAAmB,2CAAzB","sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\n\r\nimport moment from \"moment\";\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all cehckedIn Customers in DIOM\r\n */\r\n\r\nexport const getcustomers = async (\r\n  filter,\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  applyLocationFilter\r\n) => {\r\n  const res = await fetch(\r\n    !applyLocationFilter\r\n      ? `${DIOM_BASED_URLS}/users/checked-in`\r\n      : `${DIOM_BASED_URLS}/admin-diom-location/${filter}/active-customers`,\r\n    {\r\n      method: \"GET\",\r\n      \r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  // console.log(\"resJson : \", resJson);\r\n  const customerCheckInData = resJson.data.map((e, index) => {\r\n    return {\r\n      ...e,\r\n      id: index + 1,\r\n      _id: e.id,\r\n      checkInTime: moment(e.checkInTime).format(\"DD/MM/YYYY hh:mm\"),\r\n    };\r\n  });\r\n\r\n  return {\r\n    data: customerCheckInData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all cehckedIn details in DIOM\r\n */\r\n\r\nexport const getcustomer = async (size = 30, page = 1, token = \"\", id) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/users/${id}`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n\r\n  const customerdetailedData = await resJson.json();\r\n\r\n  return {\r\n    data: customerdetailedData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of today bookings in DIOM\r\n */\r\n\r\nexport const getUseractivebookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  id\r\n) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/admin-diom-bookings/${id}/active`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  // const userActiveBookingData = resJson.bookings.map((booking, index) => ({\r\n\r\n  const userActiveBookingData = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    createdAt: moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n  }));\r\n  return {\r\n    data: userActiveBookingData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\nexport const getUserscheduledbookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  id\r\n) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/bookings/users/${id}/scheduled`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n\r\n  const userSechduledBookigsData = resJson.bookings.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    createdAt: moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n  }));\r\n  return {\r\n    data: userSechduledBookigsData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\nexport const getUserpastbookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  id\r\n) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/bookings/users/${id}/history`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  // const usePastBookingsData = resJson.bookings.map((booking, index) => ({\r\n  const usePastBookingsData = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    createdAt: moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n  }));\r\n  return {\r\n    data: usePastBookingsData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}