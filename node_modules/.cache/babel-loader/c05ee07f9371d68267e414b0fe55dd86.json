{"ast":null,"code":"var _jsxFileName = \"D:\\\\diom working project\\\\staging\\\\src\\\\pages\\\\Inventories\\\\ResourceType\\\\ResourceDetailed\\\\useResourceTypeDetail.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { DIOM_BASED_URLS } from \"../../../../config/url\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useQueryClient, useQuery } from \"react-query\";\nimport { getHourlyDayRate, getlocationsresourceTypes, getResourcetypeResources, GetLocationfocusdest, getResourceResourceType } from \"../../../../APIS/resourceType\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UseResourceTypeDetail = () => {\n  _s();\n\n  const QueryClient = useQueryClient();\n  const [error, setError] = useState(null);\n  const [resourceDetailes, setResourceDetailes] = useState([]);\n  const [resourceTypes, setResourceTypes] = useState([]);\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\n  const [modal_static, setModal_static] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [resourceTypeAddMoreBlock, setResourceTypeAddMoreBlock] = useState(false);\n  const [businesName, setBusinesName] = useState([]);\n  const [diomLocation, setDiomLocation] = useState([]);\n  const [prices, setPrices] = useState([]);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [locationlabel, setLocationlabel] = useState([]);\n  const [vat, setVat] = useState([]);\n  const [enableEdit, setEnableEdit] = useState(false);\n  const [locationImgId, setLocationImgId] = useState(\"\");\n  const token = localStorage.getItem(\"Token\");\n  const {\n    id,\n    resourceTypeKey\n  } = useParams();\n\n  const handellocationeditfunc = (e, e_id) => {\n    setLocationEditTag(e);\n    setLocationImgId(e_id);\n  };\n\n  const locationTagEditButtonfunc = () => {\n    setEnableEdit(true);\n  };\n\n  const getresourcetypeStatusFunc = async e => {\n    const response = await fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/togglevisibility`, {\n      method: \"PATCH\",\n      redirect: \"follow\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        visibility: e\n      })\n    });\n\n    if (!response.ok) {\n      const message = `An error has occured: ${response.status}`;\n      throw new Error(message);\n    } else {\n      toast.success(response.message);\n      QueryClient.invalidateQueries(\"resourcetypeResources\");\n    }\n  };\n\n  function Offsymbol(text) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        fontSize: 12,\n        color: \"#fff\",\n        paddingRight: 2\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this);\n  }\n\n  function OnSymbol(text) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        fontSize: 12,\n        color: \"#fff\",\n        paddingRight: 2\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n  const formatBytes = function (bytes) {\n    let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  };\n\n  const handleAcceptedFiles = files => {\n    files.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file),\n      htmlFormattedSize: formatBytes(file.size)\n    }));\n    setSelectedFiles(files);\n  };\n\n  const removeBodyCss = () => {\n    document.body.classList.add(\"no_padding\");\n  };\n\n  const tog_static = () => {\n    setModal_static(!modal_static);\n    removeBodyCss();\n  };\n\n  const descriptionvaulefunc = event => {\n    setResourceDetailes(prev => ({ ...prev,\n      description: event.target.value\n    }));\n  };\n\n  const perminutpricfunc = event => {\n    setResourceDetailes(prev => ({ ...prev,\n      perMinuteMinutePrice: event.target.value\n    }));\n  };\n\n  const pageOptions = {\n    sizePerPage: 10,\n    totalSize: resourceTypes.length,\n    custom: true\n  };\n\n  const uploadFile = () => {\n    if (selectedFiles <= 1 || locationlabel.length <= 1) {\n      return toast.error(\" Please fill all fields\");\n    } else {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", `Bearer ${localStorage.getItem(\"Token\")}`);\n      var formdata = new FormData();\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].name);\n      formdata.append(\"locationName\", locationlabel);\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: formdata,\n        redirect: \"follow\"\n      };\n      fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/uploadimages`, requestOptions).then(response => response.json()).then(result => {\n        if (result[0].statusCode === 200) {\n          toast.success(\"Image uplaoded\");\n          setSelectedFiles([]);\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\n        } else if (result[0].statusCode === 204) {\n          toast.success(\"Image uplaoded\");\n          setSelectedFiles([]);\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\n        } else {\n          toast.error(\" Something went wrong\");\n        }\n\n        setModal_static(false);\n        setResourceTypeAddMoreBlock(false);\n        getallresources();\n      }).catch(error => console.log(\"error\", error));\n    }\n  };\n\n  const locationedittagfunc = () => {\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${locationImgId}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        locationName: locationEditTag\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else if (result3.status === 204) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setEnableEdit(false);\n      setModal_static(false);\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const updatelocationbranddetails = () => {\n    // console.log(\n    //   \" resourceDetailes.perMinuteMinutePrice : \",\n    //   resourceDetailes.perMinuteMinutePrice\n    // );\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        isAvailableInWnpl: resourceDetailes.isAvailableInWnpl,\n        description: resourceDetailes.description,\n        perMinuteMinutePrice: Number(resourceDetailes.perMinuteMinutePrice)\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Successfully Updated\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else if (result3.status === 204) {\n        toast.success(\"Successfully Updated\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setModal_static(false); // setLoaded(false);\n    }).catch(error => console.log(\"error\", error));\n  };\n\n  const imagedeletedfunc = _id => {\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(result3 => {\n      toast.success(\"Deleted Successfully\");\n      QueryClient.invalidateQueries(\"resourcetypeResources\");\n    }).catch(error => toast.error(\" Something went wrong\"));\n  }; // *************\n\n\n  const resourceResourcetypesdata = useQuery([\"resourceResourcetypdata\", id], () => getResourceResourceType(token, id));\n  const resourceResourcetypedata = resourceResourcetypesdata.data; // *************\n\n  const getResourceByResourceType = async (id, token) => {\n    return resourceResourcetypedata.json();\n  }; // *************\n\n\n  const Locationfocusdest = useQuery([\"Locationfocusdest\", id], () => GetLocationfocusdest(token, resourceTypeKey));\n  const Locationfocusdestdata = Locationfocusdest.data; // *************\n\n  const GetLocationWithFocusDeskfunc = async () => {\n    setBusinesName(Locationfocusdestdata.locations);\n  }; // *************\n\n\n  const resourcetypeResources = useQuery([\"resourcetypeResources\", id], () => getResourcetypeResources(token, id));\n  console.log(\"resourcetypeResources ====> \", resourcetypeResources);\n  const resourcetypeResourcesdata = resourcetypeResources.data; // *************\n\n  const getallresources = async () => {\n    setResourceDetailes(resourcetypeResourcesdata);\n  }; // *************\n\n\n  const getHourlydayrate = useQuery([\"gethourlydayrate\", id], () => getHourlyDayRate(token, id));\n  const getHourlydayrateData = getHourlydayrate.data; // *************\n\n  const gethourlyDayRateFunc = async () => {\n    const Price = getHourlydayrateData.data.resourceTypePrices.map((element, index) => ({\n      name: element.Name,\n      price: element.Price\n    }));\n    setPrices(Price);\n    const Vat = getHourlydayrateData.data.vatPrice.map((element, index) => ({\n      Vat: element.Rate\n    }));\n    setVat(Vat);\n  }; // *************\n\n\n  const locationsresourceTypes = useQuery([\"locationsresourceTypes\", id], () => getlocationsresourceTypes(token, id));\n  const locationsresourceTypesdata = locationsresourceTypes.data; // *************\n\n  const getalllocationsfunc = async () => {\n    const mapdata = locationsresourceTypesdata.map((element, index) => ({\n      value: element.id,\n      label: element.Name\n    }));\n    setDiomLocation([{\n      label: \"--All Locations\",\n      options: [// {\n      //   value: \"All\",\n      //   label: \"All\",\n      // },\n      ...mapdata]\n    }]);\n  };\n\n  const getresoucresbyid = () => {\n    const mapdata = resourceResourcetypedata.data.map((element, index) => ({\n      ID: index + 1,\n      _id: element.id,\n      ResourceType: element.Name,\n      ResourceTypeNames: element.ResourceTypeName\n    }));\n    setResourceTypes(mapdata);\n  };\n\n  const {\n    status,\n    isLoading,\n    data\n  } = useQuery(\"resources\", async () => {\n    const resourcesdata = data;\n    const response = await fetch(`${DIOM_BASED_URLS}/admin-resources-inventories?filter={\"limit\": 10, \"skip\":0, \"where\" : { \"ResourceTypeId\" : ${id}}}`, {\n      method: \"GET\",\n      redirect: \"follow\",\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    return response.json();\n  });\n  useEffect(() => {\n    (async () => {\n      resourcetypeResourcesdata && (await getallresources());\n      locationsresourceTypesdata && (await getalllocationsfunc());\n      resourceResourcetypedata && (await getresoucresbyid());\n      Locationfocusdestdata && (await GetLocationWithFocusDeskfunc());\n      getHourlydayrateData && (await gethourlyDayRateFunc()); // resourceResourcetypesdata && (await getresoucresbyid());\n    })();\n  }, [Locationfocusdestdata, resourcetypeResourcesdata, getHourlydayrateData, locationsresourceTypesdata, resourceResourcetypedata]);\n  return {\n    isLoading,\n    data,\n    error,\n    setError,\n    resourceDetailes,\n    setResourceDetailes,\n    resourceTypes,\n    setResourceTypes,\n    locationEditTag,\n    setLocationEditTag,\n    modal_static,\n    setModal_static,\n    loaded,\n    setLoaded,\n    OnSymbol,\n    Offsymbol,\n    getresourcetypeStatusFunc,\n    resourceTypeAddMoreBlock,\n    setResourceTypeAddMoreBlock,\n    businesName,\n    setBusinesName,\n    diomLocation,\n    setDiomLocation,\n    prices,\n    setPrices,\n    selectedFiles,\n    setSelectedFiles,\n    locationlabel,\n    setLocationlabel,\n    vat,\n    setVat,\n    enableEdit,\n    setEnableEdit,\n    locationImgId,\n    setLocationImgId,\n    getResourceByResourceType,\n    handellocationeditfunc,\n    locationTagEditButtonfunc,\n    uploadFile,\n    handleAcceptedFiles,\n    tog_static,\n    descriptionvaulefunc,\n    perminutpricfunc,\n    GetLocationWithFocusDeskfunc,\n    getallresources,\n    updatelocationbranddetails,\n    gethourlyDayRateFunc,\n    imagedeletedfunc,\n    getalllocationsfunc,\n    locationedittagfunc,\n    resourcetypeResourcesdata,\n    pageOptions\n  };\n};\n\n_s(UseResourceTypeDetail, \"jU2WWE1A4JkG+RMVS3Jut+zA2us=\", false, function () {\n  return [useQueryClient, useParams, useQuery, useQuery, useQuery, useQuery, useQuery, useQuery];\n});\n\n_c = UseResourceTypeDetail;\nexport default UseResourceTypeDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseResourceTypeDetail\");","map":{"version":3,"sources":["D:/diom working project/staging/src/pages/Inventories/ResourceType/ResourceDetailed/useResourceTypeDetail.js"],"names":["useState","useEffect","DIOM_BASED_URLS","useParams","toast","useQueryClient","useQuery","getHourlyDayRate","getlocationsresourceTypes","getResourcetypeResources","GetLocationfocusdest","getResourceResourceType","UseResourceTypeDetail","QueryClient","error","setError","resourceDetailes","setResourceDetailes","resourceTypes","setResourceTypes","locationEditTag","setLocationEditTag","modal_static","setModal_static","loaded","setLoaded","resourceTypeAddMoreBlock","setResourceTypeAddMoreBlock","businesName","setBusinesName","diomLocation","setDiomLocation","prices","setPrices","selectedFiles","setSelectedFiles","locationlabel","setLocationlabel","vat","setVat","enableEdit","setEnableEdit","locationImgId","setLocationImgId","token","localStorage","getItem","id","resourceTypeKey","handellocationeditfunc","e","e_id","locationTagEditButtonfunc","getresourcetypeStatusFunc","response","fetch","method","redirect","headers","Accept","Authorization","body","JSON","stringify","visibility","ok","message","status","Error","success","invalidateQueries","Offsymbol","text","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","htmlFormattedSize","size","removeBodyCss","document","classList","add","tog_static","descriptionvaulefunc","event","prev","description","target","value","perminutpricfunc","perMinuteMinutePrice","pageOptions","sizePerPage","totalSize","length","custom","uploadFile","myHeaders","Headers","append","formdata","FormData","name","requestOptions","then","json","result","statusCode","getallresources","catch","console","locationedittagfunc","locationName","result3","updatelocationbranddetails","isAvailableInWnpl","Number","imagedeletedfunc","_id","resourceResourcetypesdata","resourceResourcetypedata","data","getResourceByResourceType","Locationfocusdest","Locationfocusdestdata","GetLocationWithFocusDeskfunc","locations","resourcetypeResources","resourcetypeResourcesdata","getHourlydayrate","getHourlydayrateData","gethourlyDayRateFunc","Price","resourceTypePrices","element","index","Name","price","Vat","vatPrice","Rate","locationsresourceTypes","locationsresourceTypesdata","getalllocationsfunc","mapdata","label","options","getresoucresbyid","ID","ResourceType","ResourceTypeNames","ResourceTypeName","isLoading","resourcesdata"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { DIOM_BASED_URLS } from \"../../../../config/url\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useQueryClient, useQuery } from \"react-query\";\r\n\r\nimport {\r\n  getHourlyDayRate,\r\n  getlocationsresourceTypes,\r\n  getResourcetypeResources,\r\n  GetLocationfocusdest,\r\n  getResourceResourceType,\r\n} from \"../../../../APIS/resourceType\";\r\nconst UseResourceTypeDetail = () => {\r\n  const QueryClient = useQueryClient();\r\n  const [error, setError] = useState(null);\r\n  const [resourceDetailes, setResourceDetailes] = useState([]);\r\n  const [resourceTypes, setResourceTypes] = useState([]);\r\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\r\n  const [modal_static, setModal_static] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [resourceTypeAddMoreBlock, setResourceTypeAddMoreBlock] =\r\n    useState(false);\r\n  const [businesName, setBusinesName] = useState([]);\r\n  const [diomLocation, setDiomLocation] = useState([]);\r\n  const [prices, setPrices] = useState([]);\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [locationlabel, setLocationlabel] = useState([]);\r\n  const [vat, setVat] = useState([]);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n  const [locationImgId, setLocationImgId] = useState(\"\");\r\n  const token = localStorage.getItem(\"Token\");\r\n  const { id, resourceTypeKey } = useParams();\r\n\r\n  const handellocationeditfunc = (e, e_id) => {\r\n    setLocationEditTag(e);\r\n    setLocationImgId(e_id);\r\n  };\r\n  const locationTagEditButtonfunc = () => {\r\n    setEnableEdit(true);\r\n  };\r\n  const getresourcetypeStatusFunc = async (e) => {\r\n    const response = await fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/togglevisibility`,\r\n      {\r\n        method: \"PATCH\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          visibility: e,\r\n        }),\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const message = `An error has occured: ${response.status}`;\r\n      throw new Error(message);\r\n    } else {\r\n      toast.success(response.message);\r\n\r\n      QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n    }\r\n  };\r\n\r\n  function Offsymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function OnSymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatBytes = (bytes, decimals = 2) => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  };\r\n  const handleAcceptedFiles = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles(files);\r\n  };\r\n\r\n  const removeBodyCss = () => {\r\n    document.body.classList.add(\"no_padding\");\r\n  };\r\n  const tog_static = () => {\r\n    setModal_static(!modal_static);\r\n    removeBodyCss();\r\n  };\r\n\r\n  const descriptionvaulefunc = (event) => {\r\n    setResourceDetailes((prev) => ({\r\n      ...prev,\r\n      description: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const perminutpricfunc = (event) => {\r\n    setResourceDetailes((prev) => ({\r\n      ...prev,\r\n      perMinuteMinutePrice: event.target.value,\r\n    }));\r\n  };\r\n  const pageOptions = {\r\n    sizePerPage: 10,\r\n    totalSize: resourceTypes.length,\r\n    custom: true,\r\n  };\r\n\r\n  const uploadFile = () => {\r\n    if (selectedFiles <= 1 || locationlabel.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].name);\r\n      formdata.append(\"locationName\", locationlabel);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/uploadimages`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (result[0].statusCode === 200) {\r\n            toast.success(\"Image uplaoded\");\r\n            setSelectedFiles([]);\r\n            QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n          } else if (result[0].statusCode === 204) {\r\n            toast.success(\"Image uplaoded\");\r\n            setSelectedFiles([]);\r\n            QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n          setModal_static(false);\r\n          setResourceTypeAddMoreBlock(false);\r\n          getallresources();\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  };\r\n\r\n  const locationedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${locationImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationName: locationEditTag,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const updatelocationbranddetails = () => {\r\n    // console.log(\r\n    //   \" resourceDetailes.perMinuteMinutePrice : \",\r\n    //   resourceDetailes.perMinuteMinutePrice\r\n    // );\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}`,\r\n\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          isAvailableInWnpl: resourceDetailes.isAvailableInWnpl,\r\n          description: resourceDetailes.description,\r\n          perMinuteMinutePrice: Number(resourceDetailes.perMinuteMinutePrice),\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Successfully Updated\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Successfully Updated\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setModal_static(false);\r\n        // setLoaded(false);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  const imagedeletedfunc = (_id) => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n      })\r\n\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  // *************\r\n\r\n  const resourceResourcetypesdata = useQuery(\r\n    [\"resourceResourcetypdata\", id],\r\n    () => getResourceResourceType(token, id)\r\n  );\r\n  const resourceResourcetypedata = resourceResourcetypesdata.data;\r\n\r\n  // *************\r\n\r\n  const getResourceByResourceType = async (id, token) => {\r\n    return resourceResourcetypedata.json();\r\n  };\r\n\r\n  // *************\r\n\r\n  const Locationfocusdest = useQuery([\"Locationfocusdest\", id], () =>\r\n    GetLocationfocusdest(token, resourceTypeKey)\r\n  );\r\n  const Locationfocusdestdata = Locationfocusdest.data;\r\n\r\n  // *************\r\n\r\n  const GetLocationWithFocusDeskfunc = async () => {\r\n    setBusinesName(Locationfocusdestdata.locations);\r\n  };\r\n\r\n  // *************\r\n\r\n  const resourcetypeResources = useQuery([\"resourcetypeResources\", id], () =>\r\n    getResourcetypeResources(token, id)\r\n  );\r\n  console.log(\"resourcetypeResources ====> \",resourcetypeResources)\r\n  const resourcetypeResourcesdata = resourcetypeResources.data;\r\n\r\n  // *************\r\n\r\n  const getallresources = async () => {\r\n    setResourceDetailes(resourcetypeResourcesdata);\r\n  };\r\n\r\n  // *************\r\n\r\n  const getHourlydayrate = useQuery([\"gethourlydayrate\", id], () =>\r\n    getHourlyDayRate(token, id)\r\n  );\r\n  const getHourlydayrateData = getHourlydayrate.data;\r\n\r\n  // *************\r\n  const gethourlyDayRateFunc = async () => {\r\n    const Price = getHourlydayrateData.data.resourceTypePrices.map(\r\n      (element, index) => ({\r\n        name: element.Name,\r\n        price: element.Price,\r\n      })\r\n    );\r\n    setPrices(Price);\r\n\r\n    const Vat = getHourlydayrateData.data.vatPrice.map((element, index) => ({\r\n      Vat: element.Rate,\r\n    }));\r\n\r\n    setVat(Vat);\r\n  };\r\n\r\n  // *************\r\n  const locationsresourceTypes = useQuery([\"locationsresourceTypes\", id], () =>\r\n    getlocationsresourceTypes(token, id)\r\n  );\r\n  const locationsresourceTypesdata = locationsresourceTypes.data;\r\n  // *************\r\n  const getalllocationsfunc = async () => {\r\n    const mapdata = locationsresourceTypesdata.map((element, index) => ({\r\n      value: element.id,\r\n      label: element.Name,\r\n    }));\r\n\r\n    setDiomLocation([\r\n      {\r\n        label: \"--All Locations\",\r\n        options: [\r\n          // {\r\n          //   value: \"All\",\r\n          //   label: \"All\",\r\n          // },\r\n          ...mapdata,\r\n        ],\r\n      },\r\n    ]);\r\n  };\r\n  const getresoucresbyid = () => {\r\n    const mapdata = resourceResourcetypedata.data.map((element, index) => ({\r\n      ID: index + 1,\r\n      _id: element.id,\r\n      ResourceType: element.Name,\r\n      ResourceTypeNames: element.ResourceTypeName,\r\n    }));\r\n    setResourceTypes(mapdata);\r\n  };\r\n\r\n  const { status, isLoading, data } = useQuery(\"resources\", async () => {\r\n    const resourcesdata = data;\r\n    const response = await fetch(\r\n      `${DIOM_BASED_URLS}/admin-resources-inventories?filter={\"limit\": 10, \"skip\":0, \"where\" : { \"ResourceTypeId\" : ${id}}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    );\r\n    return response.json();\r\n  });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      resourcetypeResourcesdata && (await getallresources());\r\n      locationsresourceTypesdata && (await getalllocationsfunc());\r\n      resourceResourcetypedata && (await getresoucresbyid());\r\n      Locationfocusdestdata && (await GetLocationWithFocusDeskfunc());\r\n      getHourlydayrateData && (await gethourlyDayRateFunc());\r\n      // resourceResourcetypesdata && (await getresoucresbyid());\r\n    })();\r\n  }, [\r\n    Locationfocusdestdata,\r\n    resourcetypeResourcesdata,\r\n    getHourlydayrateData,\r\n    locationsresourceTypesdata,\r\n    resourceResourcetypedata,\r\n  ]);\r\n\r\n  return {\r\n    isLoading,\r\n    data,\r\n    error,\r\n    setError,\r\n    resourceDetailes,\r\n    setResourceDetailes,\r\n    resourceTypes,\r\n    setResourceTypes,\r\n    locationEditTag,\r\n    setLocationEditTag,\r\n    modal_static,\r\n    setModal_static,\r\n    loaded,\r\n    setLoaded,\r\n    OnSymbol,\r\n    Offsymbol,\r\n    getresourcetypeStatusFunc,\r\n    resourceTypeAddMoreBlock,\r\n    setResourceTypeAddMoreBlock,\r\n    businesName,\r\n    setBusinesName,\r\n    diomLocation,\r\n    setDiomLocation,\r\n    prices,\r\n    setPrices,\r\n    selectedFiles,\r\n    setSelectedFiles,\r\n    locationlabel,\r\n    setLocationlabel,\r\n    vat,\r\n    setVat,\r\n    enableEdit,\r\n    setEnableEdit,\r\n    locationImgId,\r\n    setLocationImgId,\r\n    getResourceByResourceType,\r\n    handellocationeditfunc,\r\n    locationTagEditButtonfunc,\r\n    uploadFile,\r\n    handleAcceptedFiles,\r\n    tog_static,\r\n    descriptionvaulefunc,\r\n    perminutpricfunc,\r\n    GetLocationWithFocusDeskfunc,\r\n    getallresources,\r\n    updatelocationbranddetails,\r\n    gethourlyDayRateFunc,\r\n    imagedeletedfunc,\r\n    getalllocationsfunc,\r\n    locationedittagfunc,\r\n    resourcetypeResourcesdata,\r\n    pageOptions,\r\n  };\r\n};\r\nexport default UseResourceTypeDetail;\r\n"]},"metadata":{},"sourceType":"module"}