{"ast":null,"code":"import _toConsumableArray from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\diom working project\\\\staging\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{DIOM_BASED_URLS}from\"../config/url\";export var getreportLocations=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token,locationApplyFilter,reportFinalValues,locationInvalidatequerry){var _yield$yield$fetch$js;var diomBrandValues,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:diomBrandValues=reportFinalValues===null||reportFinalValues===void 0?void 0:reportFinalValues.locationCategoriesId;_context.next=3;return fetch(!locationApplyFilter||(diomBrandValues===null||diomBrandValues===void 0?void 0:diomBrandValues.length)===0?\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations?filter={\\\"where\\\":{\\\"visibility\\\":true}}\"):\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations?filter={\\\"where\\\":{\\\"locationCategoriesId\\\":{\\\"inq\\\":\").concat(JSON.stringify(diomBrandValues),\"}}}\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 3:_context.next=5;return _context.sent.json();case 5:_context.t1=_yield$yield$fetch$js=_context.sent;_context.t0=_context.t1===null;if(_context.t0){_context.next=9;break;}_context.t0=_yield$yield$fetch$js===void 0;case 9:if(!_context.t0){_context.next=13;break;}_context.t2=void 0;_context.next=14;break;case 13:_context.t2=_yield$yield$fetch$js.map(function(element){return{value:element.id,label:element.Name};});case 14:res=_context.t2;return _context.abrupt(\"return\",[{label:\"--All Locations\",options:_toConsumableArray(res)}]);case 16:case\"end\":return _context.stop();}}},_callee);}));return function getreportLocations(_x,_x2,_x3,_x4){return _ref.apply(this,arguments);};}();export var getreportLocationBrand=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-location-categories\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 2:_context2.next=4;return _context2.sent.json();case 4:res=_context2.sent.map(function(element){return{value:element.id,label:element.name};});return _context2.abrupt(\"return\",[{label:\"--All Brands\",options:_toConsumableArray(res)}]);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function getreportLocationBrand(_x5){return _ref2.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of resourcetype dropdown in DIOM\r\n */export var getResourcetypereports=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,resourcetypeApplyFilter,reportFinalValues,diomLocationValue,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=_args3.length>0&&_args3[0]!==undefined?_args3[0]:\"\";resourcetypeApplyFilter=_args3.length>1?_args3[1]:undefined;reportFinalValues=_args3.length>2?_args3[2]:undefined;diomLocationValue=reportFinalValues===null||reportFinalValues===void 0?void 0:reportFinalValues.businessId;_context3.next=6;return fetch(!resourcetypeApplyFilter||(diomLocationValue===null||diomLocationValue===void 0?void 0:diomLocationValue.length)===0?\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories\"):\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories?filter={\\\"where\\\":{\\\"BusinessId\\\":{\\\"inq\\\":\").concat(JSON.stringify(diomLocationValue),\"}}}\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 6:_context3.next=8;return _context3.sent.json();case 8:return _context3.abrupt(\"return\",_context3.sent);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function getResourcetypereports(){return _ref3.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of Past in DIOM\r\n */export var getPastreports=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(token,selectedReportType,postFilter,pageSize,currentPage){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(!postFilter?\"\".concat(DIOM_BASED_URLS,\"/reports?page=\").concat(currentPage,\"&size=\").concat(pageSize,\"&filter={\\\"where\\\":{\\\"exported\\\": true}}\"):\"\".concat(DIOM_BASED_URLS,\"/reports?page=1&size=\").concat(pageSize,\"&filter={\\\"where\\\":{\\\"exported\\\": true,\\\"reportType\\\":\\\"\").concat(selectedReportType,\"\\\"}}\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 2:_context4.next=4;return _context4.sent.json();case 4:return _context4.abrupt(\"return\",_context4.sent);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function getPastreports(_x6,_x7,_x8,_x9,_x10){return _ref4.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of New in DIOM\r\n */export var getNewreports=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(token,selectedReportType,postFilter,pageSize,currentPage){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(!postFilter?\"\".concat(DIOM_BASED_URLS,\"/reports?page=\").concat(currentPage,\"&size=\").concat(pageSize,\"&filter={\\\"where\\\":{\\\"exported\\\": false}}\"):\"\".concat(DIOM_BASED_URLS,\"/reports?page=1&size=\").concat(pageSize,\"&filter={\\\"where\\\":{\\\"exported\\\": false,\\\"reportType\\\":\\\"\").concat(selectedReportType,\"\\\"}}\"),{method:\"GET\",headers:{Authorization:\"Bearer \"+token}});case 2:_context5.next=4;return _context5.sent.json();case 4:return _context5.abrupt(\"return\",_context5.sent);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function getNewreports(_x11,_x12,_x13,_x14,_x15){return _ref5.apply(this,arguments);};}();export var exportApiFunc=function exportApiFunc(requestOptions,enqueueSnackbar){fetch(\"\".concat(DIOM_BASED_URLS,\"/reports\"),requestOptions);};","map":{"version":3,"sources":["D:/diom working project/staging/src/APIS/reports.js"],"names":["DIOM_BASED_URLS","getreportLocations","token","locationApplyFilter","reportFinalValues","locationInvalidatequerry","diomBrandValues","locationCategoriesId","fetch","length","JSON","stringify","method","headers","Authorization","json","map","element","value","id","label","Name","res","options","getreportLocationBrand","name","getResourcetypereports","resourcetypeApplyFilter","diomLocationValue","businessId","getPastreports","selectedReportType","postFilter","pageSize","currentPage","getNewreports","exportApiFunc","requestOptions","enqueueSnackbar"],"mappings":"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","sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\n\r\nexport const getreportLocations = async (\r\n  token,\r\n  locationApplyFilter,\r\n  reportFinalValues,\r\n  locationInvalidatequerry\r\n) => {\r\n  const diomBrandValues = reportFinalValues?.locationCategoriesId;\r\n\r\n  const res = (\r\n    await (\r\n      await fetch(\r\n        !locationApplyFilter || diomBrandValues?.length === 0\r\n          ? `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true}}`\r\n          : `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"locationCategoriesId\":{\"inq\":${JSON.stringify(\r\n              diomBrandValues\r\n            )}}}}`,\r\n        {\r\n          method: \"GET\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      )\r\n    ).json()\r\n  )?.map((element) => ({\r\n    value: element.id,\r\n    label: element.Name,\r\n  }));\r\n  return [\r\n    {\r\n      label: \"--All Locations\",\r\n      options: [...res],\r\n    },\r\n  ];\r\n};\r\n\r\nexport const getreportLocationBrand = async (token) => {\r\n  const res = (\r\n    await (\r\n      await fetch(`${DIOM_BASED_URLS}/admin-location-categories`, {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n    ).json()\r\n  ).map((element) => ({\r\n    value: element.id,\r\n    label: element.name,\r\n  }));\r\n  return [\r\n    {\r\n      label: \"--All Brands\",\r\n      options: [...res],\r\n    },\r\n  ];\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of resourcetype dropdown in DIOM\r\n */\r\n\r\nexport const getResourcetypereports = async (\r\n  token = \"\",\r\n  resourcetypeApplyFilter,\r\n  reportFinalValues\r\n) => {\r\n  const diomLocationValue = reportFinalValues?.businessId;\r\n \r\n\r\n  return await (\r\n    await fetch(\r\n      !resourcetypeApplyFilter || diomLocationValue?.length === 0\r\n        ? `${DIOM_BASED_URLS}/admin-resource-types-inventories`\r\n        : `${DIOM_BASED_URLS}/admin-resource-types-inventories?filter={\"where\":{\"BusinessId\":{\"inq\":${JSON.stringify(\r\n            diomLocationValue\r\n          )}}}}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n  ).json();\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of Past in DIOM\r\n */\r\n\r\n export const getPastreports = async (token,selectedReportType,postFilter,pageSize,currentPage) => {\r\n  \r\n  \r\n  return await (\r\n    await fetch(\r\n      !postFilter?\r\n      `${DIOM_BASED_URLS}/reports?page=${currentPage}&size=${pageSize}&filter={\"where\":{\"exported\": true}}`\r\n      :`${DIOM_BASED_URLS}/reports?page=1&size=${pageSize}&filter={\"where\":{\"exported\": true,\"reportType\":\"${selectedReportType}\"}}`,\r\n      \r\n          {\r\n        \r\n          method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n  ).json();\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of New in DIOM\r\n */\r\n\r\n export const getNewreports = async (\r\n  token,selectedReportType,postFilter,pageSize,currentPage\r\n) => {\r\n\r\n\r\n  return await (\r\n    await fetch(\r\n      !postFilter?\r\n       \r\n         `${DIOM_BASED_URLS}/reports?page=${currentPage}&size=${pageSize}&filter={\"where\":{\"exported\": false}}`\r\n         : `${DIOM_BASED_URLS}/reports?page=1&size=${pageSize}&filter={\"where\":{\"exported\": false,\"reportType\":\"${selectedReportType}\"}}`,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n  ).json();\r\n};\r\n\r\n\r\n\r\n\r\nexport const exportApiFunc =( requestOptions,enqueueSnackbar) => {\r\n  fetch(`${DIOM_BASED_URLS}/reports`, requestOptions\r\n      )\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}