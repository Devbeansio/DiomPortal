{"ast":null,"code":"import { DIOM_BASED_URLS } from \"../config/url\";\nexport const getreportLocations = async (token, locationApplyFilter, reportFinalValues, locationInvalidatequerry) => {\n  // const diomBrandValues = reportFinalValues?.diomBrand;\n  const diomBrandValues = reportFinalValues === null || reportFinalValues === void 0 ? void 0 : reportFinalValues.locationCategoriesName;\n  const res = await await fetch(!locationApplyFilter || (diomBrandValues === null || diomBrandValues === void 0 ? void 0 : diomBrandValues.length) === 0 ? `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true}}` : `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"locationCategoriesId\":{\"inq\":${JSON.stringify(diomBrandValues)}}}}`, {\n    method: \"GET\",\n    redirect: \"follow\",\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  });\n\n  if (res.statusCode === 200 || res.statusCode === 204) {\n    const data = res.json();\n    const resultData = data === null || data === void 0 ? void 0 : data.map(element => ({\n      value: element.id,\n      label: element.Name\n    }));\n    return [{\n      label: \"--All Locations\",\n      options: [...resultData]\n    }];\n  }\n\n  if (!res.ok) {\n    const resJson = await res.json();\n    throw new Error(resJson.error.message);\n  }\n\n  return [];\n};\nexport const getreportLocationBrand = async token => {\n  const res = (await (await fetch(`${DIOM_BASED_URLS}/admin-location-categories`, {\n    method: \"GET\",\n    redirect: \"follow\",\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  })).json()).map(element => ({\n    value: element.id,\n    label: element.name\n  }));\n  return [{\n    label: \"--All Brands\",\n    options: [...res]\n  }];\n};\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of resourcetype dropdown in DIOM\r\n */\n\nexport const getResourcetypereports = async function () {\n  let token = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  let resourcetypeApplyFilter = arguments.length > 1 ? arguments[1] : undefined;\n  let reportFinalValues = arguments.length > 2 ? arguments[2] : undefined;\n  const diomLocationValue = reportFinalValues === null || reportFinalValues === void 0 ? void 0 : reportFinalValues.diomLocations;\n  return await (await fetch(!resourcetypeApplyFilter || (diomLocationValue === null || diomLocationValue === void 0 ? void 0 : diomLocationValue.length) === 0 ? `${DIOM_BASED_URLS}/admin-resource-types-inventories` : `${DIOM_BASED_URLS}/admin-resource-types-inventories?filter={\"where\":{\"BusinessId\":{\"inq\":${JSON.stringify(diomLocationValue)}}}}`, {\n    method: \"GET\",\n    redirect: \"follow\",\n    headers: {\n      Authorization: \"Bearer \" + token\n    }\n  })).json();\n};","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/diom(3)/src/APIS/reports.js"],"names":["DIOM_BASED_URLS","getreportLocations","token","locationApplyFilter","reportFinalValues","locationInvalidatequerry","diomBrandValues","locationCategoriesName","res","fetch","length","JSON","stringify","method","redirect","headers","Authorization","statusCode","data","json","resultData","map","element","value","id","label","Name","options","ok","resJson","Error","error","message","getreportLocationBrand","name","getResourcetypereports","resourcetypeApplyFilter","diomLocationValue","diomLocations"],"mappings":"AAAA,SAASA,eAAT,QAAgC,eAAhC;AAEA,OAAO,MAAMC,kBAAkB,GAAG,OAChCC,KADgC,EAEhCC,mBAFgC,EAGhCC,iBAHgC,EAIhCC,wBAJgC,KAK7B;AACH;AACA,QAAMC,eAAe,GAAGF,iBAAH,aAAGA,iBAAH,uBAAGA,iBAAiB,CAAEG,sBAA3C;AAEA,QAAMC,GAAG,GACP,MACE,MAAMC,KAAK,CACT,CAACN,mBAAD,IAAwB,CAAAG,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe,CAAEI,MAAjB,MAA4B,CAApD,GACK,GAAEV,eAAgB,gEADvB,GAEK,GAAEA,eAAgB,4EAA2EW,IAAI,CAACC,SAAL,CAC5FN,eAD4F,CAE5F,KALG,EAMT;AACEO,IAAAA,MAAM,EAAE,KADV;AAEEC,IAAAA,QAAQ,EAAE,QAFZ;AAGEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYd;AADpB;AAHX,GANS,CAFf;;AAkBE,MAAGM,GAAG,CAACS,UAAJ,KAAmB,GAAnB,IAA0BT,GAAG,CAACS,UAAJ,KAAmB,GAAhD,EAAoD;AACxD,UAAMC,IAAI,GAAGV,GAAG,CAACW,IAAJ,EAAb;AACM,UAAMC,UAAU,GAAGF,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAEG,GAAN,CAAWC,OAAD,KAAc;AACzCC,MAAAA,KAAK,EAAED,OAAO,CAACE,EAD0B;AAEzCC,MAAAA,KAAK,EAAEH,OAAO,CAACI;AAF0B,KAAd,CAAV,CAAnB;AAKA,WAAO,CACL;AACED,MAAAA,KAAK,EAAE,iBADT;AAEEE,MAAAA,OAAO,EAAE,CAAC,GAAGP,UAAJ;AAFX,KADK,CAAP;AAOD;;AACL,MAAI,CAACZ,GAAG,CAACoB,EAAT,EAAa;AACT,UAAMC,OAAO,GAAG,MAAMrB,GAAG,CAACW,IAAJ,EAAtB;AACA,UAAM,IAAIW,KAAJ,CAAUD,OAAO,CAACE,KAAR,CAAcC,OAAxB,CAAN;AACD;;AACH,SAAO,EAAP;AAEC,CAhDM;AAkDP,OAAO,MAAMC,sBAAsB,GAAG,MAAO/B,KAAP,IAAiB;AACrD,QAAMM,GAAG,GAAG,CACV,MAAM,CACJ,MAAMC,KAAK,CAAE,GAAET,eAAgB,4BAApB,EAAiD;AAC1Da,IAAAA,MAAM,EAAE,KADkD;AAE1DC,IAAAA,QAAQ,EAAE,QAFgD;AAG1DC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYd;AADpB;AAHiD,GAAjD,CADP,EAQJiB,IARI,EADI,EAUVE,GAVU,CAULC,OAAD,KAAc;AAClBC,IAAAA,KAAK,EAAED,OAAO,CAACE,EADG;AAElBC,IAAAA,KAAK,EAAEH,OAAO,CAACY;AAFG,GAAd,CAVM,CAAZ;AAcA,SAAO,CACL;AACET,IAAAA,KAAK,EAAE,cADT;AAEEE,IAAAA,OAAO,EAAE,CAAC,GAAGnB,GAAJ;AAFX,GADK,CAAP;AAMD,CArBM;AAuBP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAM2B,sBAAsB,GAAG,kBAIjC;AAAA,MAHHjC,KAGG,uEAHK,EAGL;AAAA,MAFHkC,uBAEG;AAAA,MADHhC,iBACG;AACH,QAAMiC,iBAAiB,GAAGjC,iBAAH,aAAGA,iBAAH,uBAAGA,iBAAiB,CAAEkC,aAA7C;AAEA,SAAO,MAAM,CACX,MAAM7B,KAAK,CACT,CAAC2B,uBAAD,IAA4B,CAAAC,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAE3B,MAAnB,MAA8B,CAA1D,GACK,GAAEV,eAAgB,mCADvB,GAEK,GAAEA,eAAgB,0EAAyEW,IAAI,CAACC,SAAL,CAC1FyB,iBAD0F,CAE1F,KALG,EAMT;AACExB,IAAAA,MAAM,EAAE,KADV;AAEEC,IAAAA,QAAQ,EAAE,QAFZ;AAGEC,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,YAAYd;AADpB;AAHX,GANS,CADA,EAeXiB,IAfW,EAAb;AAgBD,CAvBM","sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\n\r\nexport const getreportLocations = async (\r\n  token,\r\n  locationApplyFilter,\r\n  reportFinalValues,\r\n  locationInvalidatequerry\r\n) => {\r\n  // const diomBrandValues = reportFinalValues?.diomBrand;\r\n  const diomBrandValues = reportFinalValues?.locationCategoriesName\r\n  \r\n  const res = \r\n    await (\r\n      await fetch(\r\n        !locationApplyFilter || diomBrandValues?.length === 0\r\n          ? `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true}}`\r\n          : `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"locationCategoriesId\":{\"inq\":${JSON.stringify(\r\n              diomBrandValues\r\n            )}}}}`,\r\n        {\r\n          method: \"GET\",\r\n          redirect: \"follow\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      )\r\n    )\r\n\r\n    if(res.statusCode === 200 || res.statusCode === 204){\r\nconst data = res.json()\r\n      const resultData = data?.map((element) => ({\r\n        value: element.id,\r\n        label: element.Name,\r\n      }))\r\n\r\n      return [\r\n        {\r\n          label: \"--All Locations\",\r\n          options: [...resultData],\r\n        },\r\n      ]\r\n      \r\n    }\r\nif (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\nreturn []\r\n\r\n};\r\n\r\nexport const getreportLocationBrand = async (token) => {\r\n  const res = (\r\n    await (\r\n      await fetch(`${DIOM_BASED_URLS}/admin-location-categories`, {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n    ).json()\r\n  ).map((element) => ({\r\n    value: element.id,\r\n    label: element.name,\r\n  }));\r\n  return [\r\n    {\r\n      label: \"--All Brands\",\r\n      options: [...res],\r\n    },\r\n  ];\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of resourcetype dropdown in DIOM\r\n */\r\n\r\nexport const getResourcetypereports = async (\r\n  token = \"\",\r\n  resourcetypeApplyFilter,\r\n  reportFinalValues\r\n) => {\r\n  const diomLocationValue = reportFinalValues?.diomLocations;\r\n\r\n  return await (\r\n    await fetch(\r\n      !resourcetypeApplyFilter || diomLocationValue?.length === 0\r\n        ? `${DIOM_BASED_URLS}/admin-resource-types-inventories`\r\n        : `${DIOM_BASED_URLS}/admin-resource-types-inventories?filter={\"where\":{\"BusinessId\":{\"inq\":${JSON.stringify(\r\n            diomLocationValue\r\n          )}}}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n  ).json();\r\n};\r\n"]},"metadata":{},"sourceType":"module"}