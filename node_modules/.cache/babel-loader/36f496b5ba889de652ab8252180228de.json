{"ast":null,"code":"import _asyncToGenerator from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"D:\\\\diom working project\\\\staging\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{DIOM_BASED_URLS}from\"../config/url\";/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */export var getCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var size,page,token,res,_resJson,resJson,categoriesData,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:size=_args.length>0&&_args[0]!==undefined?_args[0]:30;page=_args.length>1&&_args[1]!==undefined?_args[1]:1;token=_args.length>2&&_args[2]!==undefined?_args[2]:\"\";_context.next=5;return fetch(\"\".concat(DIOM_BASED_URLS,\"/resource-type-categories\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 5:res=_context.sent;if(res.ok){_context.next=11;break;}_context.next=9;return res.json();case 9:_resJson=_context.sent;throw new Error(_resJson.error.message);case 11:_context.next=13;return res.json();case 13:resJson=_context.sent;categoriesData=resJson.data.map(function(e,i){return{id:i+1,_id:e.id,categoryName:e.name,resourcetype:e.resourceTypes.map(function(f){return f.name;}).join(\", \")};});return _context.abrupt(\"return\",{data:categoriesData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 16:case\"end\":return _context.stop();}}},_callee);}));return function getCategories(){return _ref.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of category details in DIOM\r\n */export var getCategoryDetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var token,id,res,resJson,data,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=_args2.length>0&&_args2[0]!==undefined?_args2[0]:\"\";id=_args2.length>1?_args2[1]:undefined;_context2.next=4;return fetch(\"\".concat(DIOM_BASED_URLS,\"/resource-type-categories/\").concat(id),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 4:res=_context2.sent;if(res.ok){_context2.next=10;break;}_context2.next=8;return res.json();case 8:resJson=_context2.sent;throw new Error(resJson.error.message);case 10:_context2.next=12;return res.json();case 12:data=_context2.sent;return _context2.abrupt(\"return\",{data:data});case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function getCategoryDetails(){return _ref2.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of category detail dropdown in DIOM\r\n */export var getCategoryDetaildropdown=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var token,id,res,resJson,data,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:token=_args3.length>0&&_args3[0]!==undefined?_args3[0]:\"\";id=_args3.length>1?_args3[1]:undefined;_context3.next=4;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories?filter={\\\"where\\\":{\\\"resourceTypeCategoryId\\\":\\\"\").concat(id,\"\\\"}}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 4:res=_context3.sent;if(res.ok){_context3.next=10;break;}_context3.next=8;return res.json();case 8:resJson=_context3.sent;throw new Error(resJson.error.message);case 10:_context3.next=12;return res.json();case 12:data=_context3.sent;return _context3.abrupt(\"return\",{data:data});case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function getCategoryDetaildropdown(){return _ref3.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of resourcetype dropdown in DIOM\r\n */export var getResourcetypeDropdown=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var token,id,res,resJson,data,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=_args4.length>0&&_args4[0]!==undefined?_args4[0]:\"\";id=_args4.length>1?_args4[1]:undefined;_context4.next=4;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 4:res=_context4.sent;if(res.ok){_context4.next=10;break;}_context4.next=8;return res.json();case 8:resJson=_context4.sent;throw new Error(resJson.error.message);case 10:_context4.next=12;return res.json();case 12:data=_context4.sent;return _context4.abrupt(\"return\",{data:data});case 14:case\"end\":return _context4.stop();}}},_callee4);}));return function getResourcetypeDropdown(){return _ref4.apply(this,arguments);};}();","map":{"version":3,"sources":["D:/diom working project/staging/src/APIS/categories.js"],"names":["DIOM_BASED_URLS","getCategories","size","page","token","fetch","method","redirect","headers","Authorization","res","ok","json","resJson","Error","error","message","categoriesData","data","map","e","i","id","_id","categoryName","name","resourcetype","resourceTypes","f","join","total","hasNextPage","hasPreviousPage","getCategoryDetails","getCategoryDetaildropdown","getResourcetypeDropdown"],"mappings":"oPAAA,OAASA,eAAT,KAAgC,eAAhC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMC,CAAAA,aAAa,0FAAG,2MAAOC,IAAP,+CAAc,EAAd,CAAkBC,IAAlB,+CAAyB,CAAzB,CAA4BC,KAA5B,+CAAoC,EAApC,uBACTC,CAAAA,KAAK,WAClBL,eADkB,8BAGrB,CACEM,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAHqB,CADI,QACrBM,GADqB,kBAYtBA,GAAG,CAACC,EAZkB,gDAaHD,CAAAA,GAAG,CAACE,IAAJ,EAbG,QAanBC,QAbmB,oBAcnB,IAAIC,CAAAA,KAAJ,CAAUD,QAAO,CAACE,KAAR,CAAcC,OAAxB,CAdmB,gCAgBLN,CAAAA,GAAG,CAACE,IAAJ,EAhBK,SAgBrBC,OAhBqB,eAiBrBI,cAjBqB,CAiBJJ,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,SAACC,CAAD,CAAIC,CAAJ,QAAW,CACjDC,EAAE,CAAED,CAAC,CAAG,CADyC,CAEjDE,GAAG,CAAEH,CAAC,CAACE,EAF0C,CAGjDE,YAAY,CAAEJ,CAAC,CAACK,IAHiC,CAIjDC,YAAY,CAAEN,CAAC,CAACO,aAAF,CAAgBR,GAAhB,CAAoB,SAACS,CAAD,QAAOA,CAAAA,CAAC,CAACH,IAAT,EAApB,EAAmCI,IAAnC,CAAwC,IAAxC,CAJmC,CAAX,EAAjB,CAjBI,iCAwBpB,CACLX,IAAI,CAAED,cADD,CAELa,KAAK,CAAEjB,OAAO,CAACiB,KAFV,CAGLC,WAAW,CAAElB,OAAO,CAACkB,WAHhB,CAILC,eAAe,CAAEnB,OAAO,CAACmB,eAJpB,CAxBoB,yDAAH,kBAAb/B,CAAAA,aAAa,0CAAnB,CAgCP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMgC,CAAAA,kBAAkB,2FAAG,uLAAO7B,KAAP,kDAAe,EAAf,CAAmBkB,EAAnB,4DAEbjB,CAAAA,KAAK,WAAIL,eAAJ,sCAAgDsB,EAAhD,EAAsD,CAC1EhB,MAAM,CAAE,KADkE,CAE1EC,QAAQ,CAAE,QAFgE,CAG1EC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHiE,CAAtD,CAFQ,QAExBM,GAFwB,mBAU3BA,GAAG,CAACC,EAVuB,kDAWRD,CAAAA,GAAG,CAACE,IAAJ,EAXQ,QAWxBC,OAXwB,qBAYxB,IAAIC,CAAAA,KAAJ,CAAUD,OAAO,CAACE,KAAR,CAAcC,OAAxB,CAZwB,iCAcbN,CAAAA,GAAG,CAACE,IAAJ,EAda,SAc1BM,IAd0B,iDAgBzB,CACLA,IAAI,CAAJA,IADK,CAhByB,2DAAH,kBAAlBe,CAAAA,kBAAkB,2CAAxB,CAqBP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMC,CAAAA,yBAAyB,2FAAG,uLAAO9B,KAAP,kDAAe,EAAf,CAAmBkB,EAAnB,4DAEpBjB,CAAAA,KAAK,WACjBL,eADiB,8FAC8EsB,EAD9E,SAEpB,CACEhB,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAFoB,CAFe,QAE/BM,GAF+B,mBAYhCA,GAAG,CAACC,EAZ4B,kDAabD,CAAAA,GAAG,CAACE,IAAJ,EAba,QAa7BC,OAb6B,qBAc7B,IAAIC,CAAAA,KAAJ,CAAUD,OAAO,CAACE,KAAR,CAAcC,OAAxB,CAd6B,iCAgBlBN,CAAAA,GAAG,CAACE,IAAJ,EAhBkB,SAgB/BM,IAhB+B,iDAkB9B,CACLA,IAAI,CAAJA,IADK,CAlB8B,2DAAH,kBAAzBgB,CAAAA,yBAAyB,2CAA/B,CAwBP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMC,CAAAA,uBAAuB,2FAAG,uLAAO/B,KAAP,kDAAe,EAAf,CAAmBkB,EAAnB,4DAElBjB,CAAAA,KAAK,WAAIL,eAAJ,sCAAwD,CAC5EM,MAAM,CAAE,KADoE,CAE5EC,QAAQ,CAAE,QAFkE,CAG5EC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHmE,CAAxD,CAFa,QAE7BM,GAF6B,mBAS9BA,GAAG,CAACC,EAT0B,kDAUXD,CAAAA,GAAG,CAACE,IAAJ,EAVW,QAU3BC,OAV2B,qBAW3B,IAAIC,CAAAA,KAAJ,CAAUD,OAAO,CAACE,KAAR,CAAcC,OAAxB,CAX2B,iCAahBN,CAAAA,GAAG,CAACE,IAAJ,EAbgB,SAa7BM,IAb6B,iDAe5B,CACLA,IAAI,CAAJA,IADK,CAf4B,2DAAH,kBAAvBiB,CAAAA,uBAAuB,2CAA7B","sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */\r\n\r\nexport const getCategories = async (size = 30, page = 1, token = \"\") => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/resource-type-categories`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  const categoriesData = resJson.data.map((e, i) => ({\r\n    id: i + 1,\r\n    _id: e.id,\r\n    categoryName: e.name,\r\n    resourcetype: e.resourceTypes.map((f) => f.name).join(\", \"),\r\n  }));\r\n\r\n  return {\r\n    data: categoriesData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of category details in DIOM\r\n */\r\n\r\nexport const getCategoryDetails = async (token = \"\", id) => {\r\n  // return await (\r\n    const res= await fetch(`${DIOM_BASED_URLS}/resource-type-categories/${id}`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n  // ).json();\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const data = await res.json();\r\n  \r\n  return {\r\n    data\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of category detail dropdown in DIOM\r\n */\r\n\r\nexport const getCategoryDetaildropdown = async (token = \"\", id) => {\r\n  // return await (\r\n    const res= await fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories?filter={\"where\":{\"resourceTypeCategoryId\":\"${id}\"}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n    if (!res.ok) {\r\n      const resJson = await res.json();\r\n      throw new Error(resJson.error.message);\r\n    }\r\n    const data = await res.json();\r\n    \r\n    return {\r\n      data\r\n    };\r\n  // ).json();\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of resourcetype dropdown in DIOM\r\n */\r\n\r\nexport const getResourcetypeDropdown = async (token = \"\", id) => {\r\n  // return await (\r\n    const res= await fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n    if (!res.ok) {\r\n      const resJson = await res.json();\r\n      throw new Error(resJson.error.message);\r\n    }\r\n    const data = await res.json();\r\n    \r\n    return {\r\n      data\r\n    };\r\n  // ).json();\r\n};\r\n"]},"metadata":{},"sourceType":"module"}