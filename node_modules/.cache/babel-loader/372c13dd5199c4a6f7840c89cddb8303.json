{"ast":null,"code":"import _toConsumableArray from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\diom working project\\\\staging\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{toast}from\"react-toastify\";import{DIOM_BASED_URLS}from\"../../../config/url\";import{getdiomlocationBrand,getLocation}from\"../../../APIS/locations\";import{useQueryClient,useQuery}from\"react-query\";import{jsx as _jsx}from\"react/jsx-runtime\";var UseLocationDetailed=function UseLocationDetailed(){var _Locationdata$data,_diomlocationBranddda;var QueryClient=useQueryClient();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal_static=_useState2[0],setModal_static=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),locationstite=_useState4[0],setLocationstitle=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),amentiesImgUrl=_useState6[0],setAmentiesImgUrl=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),nearByImages=_useState8[0],setNearByImages=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),selectedFiles=_useState10[0],setSelectedFiles=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),selectedFiles5=_useState12[0],setSelectedFiles5=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),selectedFiles2=_useState14[0],setSelectedFiles2=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),simple_color=_useState16[0],setSimple_color=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),emenitiesTitle=_useState18[0],setEmenitiesTitle=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),locationAddMoreBlock=_useState20[0],setLocationAddMoreBlock=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),nearbyAddMoreBlock=_useState22[0],setNearbyAddMoreBlock=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),amenitiesAddMoreBlock=_useState24[0],setAmenitiesAddMoreBlock=_useState24[1];var _useState25=useState(true),_useState26=_slicedToArray(_useState25,2),editeminitsbtn=_useState26[0],setEditeminitsbtn=_useState26[1];var _useState27=useState([]),_useState28=_slicedToArray(_useState27,2),selectedLocation=_useState28[0],setSelectedLocation=_useState28[1];var _useState29=useState([]),_useState30=_slicedToArray(_useState29,2),diomBrand=_useState30[0],setDiomBrand=_useState30[1];var _useState31=useState(false),_useState32=_slicedToArray(_useState31,2),loaded=_useState32[0],setLoaded=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),locationEditTag=_useState34[0],setLocationEditTag=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),locationImgId=_useState36[0],setLocationImgId=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),emenitiesstag=_useState38[0],setEmenitiesstag=_useState38[1];var _useState39=useState(false),_useState40=_slicedToArray(_useState39,2),enableEdit=_useState40[0],setEnableEdit=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),enableementiesEdit=_useState42[0],setEnableementiesEdit=_useState42[1];var _useState43=useState(\"\"),_useState44=_slicedToArray(_useState43,2),imentiesImgId=_useState44[0],setImentiesImgId=_useState44[1];var _useParams=useParams(),id=_useParams.id;var token=localStorage.getItem(\"Token\");function Offsymbol(text){return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:text});}function OnSymbol(text){return/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",height:\"100%\",fontSize:12,color:\"#fff\",paddingRight:2},children:text});}var formatBytes=function formatBytes(bytes){var decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(bytes===0)return\"0 Bytes\";var k=1024;// const k = 100;\nvar dm=decimals<0?0:decimals;var sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\",\"PB\",\"EB\",\"ZB\",\"YB\"];var i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+\" \"+sizes[i];};var handleAcceptedFiles=function handleAcceptedFiles(files){files.map(function(file){return Object.assign(file,{preview:URL.createObjectURL(file),htmlFormattedSize:formatBytes(file.size)});});setSelectedFiles(files);};var handleAcceptedFiles5=function handleAcceptedFiles5(files){files.map(function(file){return Object.assign(file,{preview:URL.createObjectURL(file),htmlFormattedSize:formatBytes(file.size)});});setSelectedFiles5(files);};var handleAcceptedFiles2=function handleAcceptedFiles2(files){files.map(function(file){return Object.assign(file,{preview:URL.createObjectURL(file),formattedSize:formatBytes(file.size)});});setSelectedFiles2(files);};var emenitiesedittagfunc=function emenitiesedittagfunc(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/amenities/\").concat(imentiesImgId),{method:\"PATCH\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token},body:JSON.stringify({locationAmenityTitle:\"\".concat(emenitiesstag)})}).then(function(result3){if(result3.status===200){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"locations\");getlocations();}else if(result3.status===204){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"locations\");getlocations();}else{toast.error(\" Something went wrong\");}setEnableEdit(false);setModal_static(false);// getdiomBrandfunc()\n}).catch(function(error){return toast.error(\" Something went wrong\");});};var locationTagEditButtonfunc=function locationTagEditButtonfunc(){setEnableEdit(true);};var emenitiesTagEditButtonfunc=function emenitiesTagEditButtonfunc(){setEnableementiesEdit(true);};var locationedittagfunc=function locationedittagfunc(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/\").concat(locationImgId),{method:\"PATCH\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token},body:JSON.stringify({locationTag:locationEditTag})}).then(function(result3){if(result3.status===200){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"locations\");QueryClient.invalidateQueries(\"locationbrands\");getlocations();}else if(result3.status===204){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"locations\");QueryClient.invalidateQueries(\"locationbrands\");getlocations();}else{toast.error(\" Something went wrong\");}setEnableEdit(false);setModal_static(false);// getdiomBrandfunc()\n}).catch(function(error){return toast.error(\" Something went wrong\");});};var uploadfilelocationfunc=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var myHeaders,formdata,requestOptions;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(selectedFiles<=1||selectedLocation.length<=1)){_context.next=4;break;}return _context.abrupt(\"return\",toast.error(\" Please fill all fields\"));case 4:myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \".concat(localStorage.getItem(\"Token\")));formdata=new FormData();formdata.append(\"file\",selectedFiles[0],selectedFiles[0].preview);formdata.append(\"locationTag\",selectedLocation);requestOptions={method:\"POST\",headers:myHeaders,body:formdata,redirect:\"follow\"};_context.next=12;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/uploadimages\"),requestOptions).then(function(response){return response.json();}).then(function(result){setLocationstitle(_objectSpread(_objectSpread({},locationstite),{},{images:[].concat(_toConsumableArray(locationstite.images),[result[0].data])}));if(result[0].statusCode===200){toast.success(\"Image uplaoded\",result[0].statusCode);QueryClient.invalidateQueries(\"locations\");QueryClient.invalidateQueries(\"locationbrands\");setSelectedFiles([]);}else if(result[0].statusCode===204){toast.success(\"Image uplaoded\",result[0].statusCode);QueryClient.invalidateQueries(\"locations\");QueryClient.invalidateQueries(\"locationbrands\");setSelectedFiles([]);}else{toast.error(\" Something went wrong\");}setModal_static(false);setLocationAddMoreBlock(false);getlocations();}).catch(function(error){return toast.error(\" Something went wrong\");});case 12:case\"end\":return _context.stop();}}},_callee);}));return function uploadfilelocationfunc(){return _ref.apply(this,arguments);};}();var uploadfilenearbyfunc=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var myHeaders,formdata,requestOptions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \".concat(localStorage.getItem(\"Token\")));formdata=new FormData();formdata.append(\"file\",selectedFiles5[0],selectedFiles5[0].preview);// formdata.append(\"facilityName\", selectedLocation);\nrequestOptions={method:\"POST\",headers:myHeaders,body:formdata,redirect:\"follow\"};_context2.next=7;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/nearbyfacilities\"),requestOptions).then(function(response){return response.json();}).then(function(result){setNearByImages(_objectSpread(_objectSpread({},nearByImages),{},{images:[].concat(_toConsumableArray(nearByImages.nearByFacilities),[result[0].data])}));if(result[0].statusCode===200){toast.success(\"Image uplaoded\",result[0].statusCode);QueryClient.invalidateQueries(\"locations\");setSelectedFiles5([]);}else if(result[0].statusCode===204){toast.success(\"Image uplaoded\",result[0].statusCode);QueryClient.invalidateQueries(\"locations\");setSelectedFiles5([]);}else{toast.error(\" Something went wrong\");}setModal_static(false);setNearbyAddMoreBlock(false);getlocations();}).catch(function(error){return toast.error(\" Something went wrong\");});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function uploadfilenearbyfunc(){return _ref2.apply(this,arguments);};}();var uploadfileAmentiesfunc=function uploadfileAmentiesfunc(){if(selectedFiles2<=1||emenitiesTitle.length<=1){return toast.error(\" Please fill all fields\");}else{var myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \".concat(localStorage.getItem(\"Token\")));var formdata=new FormData();formdata.append(\"file\",selectedFiles2[0],selectedFiles2[0].preview);formdata.append(\"title\",emenitiesTitle);var requestOptions={method:\"POST\",headers:myHeaders,body:formdata,redirect:\"follow\"};fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/amenityimage\"),requestOptions).then(function(response){return response.json();}).then(function(result){setAmentiesImgUrl(_objectSpread(_objectSpread({},amentiesImgUrl),{},{amenities:[].concat(_toConsumableArray(amentiesImgUrl.amenities),[result[0].data])}));if(result[0].statusCode===200){QueryClient.invalidateQueries(\"locations\");toast.success(\"Image uplaoded\",{toastId:\"Success1\"});setSelectedFiles2([]);}else if(result[0].statusCode===204){QueryClient.invalidateQueries(\"locations\");toast.success(\"Image uplaoded\",{toastId:\"Success1\"});setSelectedFiles2([]);}else{toast.error(\" Something went wrong\");}setAmenitiesAddMoreBlock(false);setModal_static(false);getlocations();}).catch(function(error){return alert(\"request not responed\");});}};var updateLocationfunction=function updateLocationfunction(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id),{method:\"PATCH\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token},body:JSON.stringify({description:locationstite.description,city:locationstite.city,state:locationstite.state,visibility:locationstite.visibility})}).then(function(result3){if(result3.status===200){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"locations\");}else if(result3.status===204){toast.success(\"Updated Successfully\");QueryClient.invalidateQueries(\"locations\");}else{toast.error(\" Something went wrong\");}setModal_static(false);}).catch(function(error){return console.log(\"error\",error);});};var imagedeletedfunc=function imagedeletedfunc(_id){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/\").concat(_id),{method:\"DELETE\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token}}).then(function(result3){toast.success(\"Deleted Successfully\");QueryClient.invalidateQueries(\"locationbrands\");QueryClient.invalidateQueries(\"locations\");getlocations();}).catch(function(error){return toast.error(\" Something went wrong\");});};var nearbyimagedeletedfunc=function nearbyimagedeletedfunc(_id){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id,\"/nearbyfacilities/\").concat(_id),{method:\"DELETE\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token}}).then(function(result3){toast.success(\"Deleted Successfully\");QueryClient.invalidateQueries(\"locations\");getlocations();}).catch(function(error){return toast.error(\" Something went wrong\");});};var imagedeletedAmentiesfunc=function imagedeletedAmentiesfunc(_id){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations//\").concat(id,\"/amenities/\").concat(_id),{method:\"DELETE\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token}}).then(function(result3){toast.success(\"Deleted Successfully\");QueryClient.invalidateQueries(\"locations\");getlocations();}).catch(function(error){return toast.error(\" Something went wrong\");});};var handellocationeditfunc=function handellocationeditfunc(e,e_id){setLocationEditTag(e);setLocationImgId(e_id);};var emenitiesEditfunc=function emenitiesEditfunc(event,e_id){// setEmenitiesstag((prev) => ({ ...prev, title: event.target.value }));\nsetEmenitiesstag(event.target.value);setImentiesImgId(e_id);};var handellocationfunc=function handellocationfunc(e){setSelectedLocation(e);};var districtfunc=function districtfunc(e){setLocationstitle(function(prev){return _objectSpread(_objectSpread({},prev),{},{state:e.target.value});});};var cityfunc=function cityfunc(e){setLocationstitle(function(prev){return _objectSpread(_objectSpread({},prev),{},{city:e.target.value});});};var textareachange=function textareachange(e){setLocationstitle(function(prev){return _objectSpread(_objectSpread({},prev),{},{description:e.target.value});});};var removeBodyCss=function removeBodyCss(){document.body.classList.add(\"no_padding\");};var tog_static=function tog_static(){setModal_static(!modal_static);removeBodyCss();};var getlocationStatusFunc=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var response,message;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(!(e==true)){_context3.next=12;break;}_context3.next=3;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/active/\").concat(id),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 3:response=_context3.sent;if(response.ok){_context3.next=9;break;}message=\"An error has occured: \".concat(response.status);throw new Error(message);case 9:toast.success(\"Location Actived\");case 10:_context3.next=13;break;case 12:if(e==false){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(id),{method:\"DELETE\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}}).then(function(response){return response.json();}).then(function(result){toast.success(\"Location Archived\");}).catch(function(error){return toast.error(\" Something went wrong\");});}case 13:setLocationstitle(_objectSpread(_objectSpread({},setLocationstitle),{},{visibility:!locationstite.visibility}));case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function getlocationStatusFunc(_x){return _ref3.apply(this,arguments);};}();// *************\nvar Locationdata=useQuery([\"locations\",id],function(){return getLocation(token,id);});var getLocationdata=Locationdata===null||Locationdata===void 0?void 0:(_Locationdata$data=Locationdata.data)===null||_Locationdata$data===void 0?void 0:_Locationdata$data.data;var isLoading=Locationdata===null||Locationdata===void 0?void 0:Locationdata.data;// *************\nvar getlocations=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setLocationstitle(getLocationdata);setAmentiesImgUrl(getLocationdata);setNearByImages(getLocationdata);case 3:case\"end\":return _context4.stop();}}},_callee4);}));return function getlocations(){return _ref4.apply(this,arguments);};}();// *************\nvar diomlocationBrandddata=useQuery([\"locationbrands\",id],function(){return getdiomlocationBrand(token);});var diomlocationBrandata=diomlocationBrandddata===null||diomlocationBrandddata===void 0?void 0:(_diomlocationBranddda=diomlocationBrandddata.data)===null||_diomlocationBranddda===void 0?void 0:_diomlocationBranddda.data;// *************\nvar getdiomBrandfunc=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var mapdata;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:mapdata=diomlocationBrandata===null||diomlocationBrandata===void 0?void 0:diomlocationBrandata.map(function(element){return{value:element.id,label:element.name};});setDiomBrand([{label:\"--All Tags\",options:mapdata}]);case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function getdiomBrandfunc(){return _ref5.apply(this,arguments);};}();useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.t0=getLocationdata;if(!_context6.t0){_context6.next=4;break;}_context6.next=4;return getlocations();case 4:_context6.t1=diomlocationBrandata;if(!_context6.t1){_context6.next=8;break;}_context6.next=8;return getdiomBrandfunc();case 8:case\"end\":return _context6.stop();}}},_callee6);}))();},[getLocationdata,diomlocationBrandata]);return{modal_static:modal_static,setModal_static:setModal_static,locationstite:locationstite,setLocationstitle:setLocationstitle,amentiesImgUrl:amentiesImgUrl,setAmentiesImgUrl:setAmentiesImgUrl,nearByImages:nearByImages,setNearByImages:setNearByImages,selectedFiles:selectedFiles,setSelectedFiles:setSelectedFiles,selectedFiles5:selectedFiles5,setSelectedFiles5:setSelectedFiles5,selectedFiles2:selectedFiles2,setSelectedFiles2:setSelectedFiles2,simple_color:simple_color,setSimple_color:setSimple_color,emenitiesTitle:emenitiesTitle,setEmenitiesTitle:setEmenitiesTitle,locationAddMoreBlock:locationAddMoreBlock,setLocationAddMoreBlock:setLocationAddMoreBlock,nearbyAddMoreBlock:nearbyAddMoreBlock,setNearbyAddMoreBlock:setNearbyAddMoreBlock,amenitiesAddMoreBlock:amenitiesAddMoreBlock,setAmenitiesAddMoreBlock:setAmenitiesAddMoreBlock,editeminitsbtn:editeminitsbtn,setEditeminitsbtn:setEditeminitsbtn,selectedLocation:selectedLocation,setSelectedLocation:setSelectedLocation,diomBrand:diomBrand,setDiomBrand:setDiomBrand,loaded:loaded,setLoaded:setLoaded,getLocationdata:getLocationdata,isLoading:isLoading,locationEditTag:locationEditTag,setLocationEditTag:setLocationEditTag,locationImgId:locationImgId,setLocationImgId:setLocationImgId,emenitiesstag:emenitiesstag,setEmenitiesstag:setEmenitiesstag,enableEdit:enableEdit,setEnableEdit:setEnableEdit,enableementiesEdit:enableementiesEdit,setEnableementiesEdit:setEnableementiesEdit,imentiesImgId:imentiesImgId,setImentiesImgId:setImentiesImgId,Offsymbol:Offsymbol,OnSymbol:OnSymbol,handleAcceptedFiles:handleAcceptedFiles,handleAcceptedFiles5:handleAcceptedFiles5,handleAcceptedFiles2:handleAcceptedFiles2,emenitiesedittagfunc:emenitiesedittagfunc,locationTagEditButtonfunc:locationTagEditButtonfunc,emenitiesTagEditButtonfunc:emenitiesTagEditButtonfunc,locationedittagfunc:locationedittagfunc,uploadfilelocationfunc:uploadfilelocationfunc,uploadfilenearbyfunc:uploadfilenearbyfunc,uploadfileAmentiesfunc:uploadfileAmentiesfunc,handellocationeditfunc:handellocationeditfunc,emenitiesEditfunc:emenitiesEditfunc,handellocationfunc:handellocationfunc,districtfunc:districtfunc,cityfunc:cityfunc,textareachange:textareachange,tog_static:tog_static,getlocationStatusFunc:getlocationStatusFunc,getlocations:getlocations,getdiomBrandfunc:getdiomBrandfunc,updateLocationfunction:updateLocationfunction,imagedeletedfunc:imagedeletedfunc,nearbyimagedeletedfunc:nearbyimagedeletedfunc,imagedeletedAmentiesfunc:imagedeletedAmentiesfunc};};export default UseLocationDetailed;","map":{"version":3,"sources":["D:/diom working project/staging/src/pages/Locations/LocationDetailed/useLocationDetailed.js"],"names":["React","useState","useEffect","useParams","toast","DIOM_BASED_URLS","getdiomlocationBrand","getLocation","useQueryClient","useQuery","UseLocationDetailed","QueryClient","modal_static","setModal_static","locationstite","setLocationstitle","amentiesImgUrl","setAmentiesImgUrl","nearByImages","setNearByImages","selectedFiles","setSelectedFiles","selectedFiles5","setSelectedFiles5","selectedFiles2","setSelectedFiles2","simple_color","setSimple_color","emenitiesTitle","setEmenitiesTitle","locationAddMoreBlock","setLocationAddMoreBlock","nearbyAddMoreBlock","setNearbyAddMoreBlock","amenitiesAddMoreBlock","setAmenitiesAddMoreBlock","editeminitsbtn","setEditeminitsbtn","selectedLocation","setSelectedLocation","diomBrand","setDiomBrand","loaded","setLoaded","locationEditTag","setLocationEditTag","locationImgId","setLocationImgId","emenitiesstag","setEmenitiesstag","enableEdit","setEnableEdit","enableementiesEdit","setEnableementiesEdit","imentiesImgId","setImentiesImgId","id","token","localStorage","getItem","Offsymbol","text","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","htmlFormattedSize","size","handleAcceptedFiles5","handleAcceptedFiles2","formattedSize","emenitiesedittagfunc","fetch","method","headers","Accept","Authorization","body","JSON","stringify","locationAmenityTitle","then","result3","status","success","invalidateQueries","getlocations","error","catch","locationTagEditButtonfunc","emenitiesTagEditButtonfunc","locationedittagfunc","locationTag","uploadfilelocationfunc","length","myHeaders","Headers","append","formdata","FormData","requestOptions","redirect","response","json","result","images","data","statusCode","uploadfilenearbyfunc","nearByFacilities","uploadfileAmentiesfunc","amenities","toastId","alert","updateLocationfunction","description","city","state","visibility","console","imagedeletedfunc","_id","nearbyimagedeletedfunc","imagedeletedAmentiesfunc","handellocationeditfunc","e","e_id","emenitiesEditfunc","event","target","value","handellocationfunc","districtfunc","prev","cityfunc","textareachange","removeBodyCss","document","classList","add","tog_static","getlocationStatusFunc","ok","message","Error","Locationdata","getLocationdata","isLoading","diomlocationBrandddata","diomlocationBrandata","getdiomBrandfunc","mapdata","element","label","name","options"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { DIOM_BASED_URLS } from \"../../../config/url\";\r\nimport { getdiomlocationBrand, getLocation } from \"../../../APIS/locations\";\r\nimport { useQueryClient, useQuery } from \"react-query\";\r\n\r\nconst UseLocationDetailed = () => {\r\n  const QueryClient = useQueryClient();\r\n  const [modal_static, setModal_static] = useState(false);\r\n  const [locationstite, setLocationstitle] = useState({});\r\n  const [amentiesImgUrl, setAmentiesImgUrl] = useState({});\r\n  const [nearByImages, setNearByImages] = useState({});\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [selectedFiles5, setSelectedFiles5] = useState([]);\r\n  const [selectedFiles2, setSelectedFiles2] = useState([]);\r\n  const [simple_color, setSimple_color] = useState([]);\r\n  const [emenitiesTitle, setEmenitiesTitle] = useState([]);\r\n  const [locationAddMoreBlock, setLocationAddMoreBlock] = useState(false);\r\n  const [nearbyAddMoreBlock, setNearbyAddMoreBlock] = useState(false);\r\n  const [amenitiesAddMoreBlock, setAmenitiesAddMoreBlock] = useState(false);\r\n  const [editeminitsbtn, setEditeminitsbtn] = useState(true);\r\n  const [selectedLocation, setSelectedLocation] = useState([]);\r\n  const [diomBrand, setDiomBrand] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\r\n  const [locationImgId, setLocationImgId] = useState(\"\");\r\n  const [emenitiesstag, setEmenitiesstag] = useState(\"\");\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n  const [enableementiesEdit, setEnableementiesEdit] = useState(false);\r\n  const [imentiesImgId, setImentiesImgId] = useState(\"\");\r\n\r\n  const { id } = useParams();\r\n  const token = localStorage.getItem(\"Token\");\r\n\r\n  function Offsymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function OnSymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatBytes = (bytes, decimals = 1) => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    // const k = 100;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  };\r\n\r\n  const handleAcceptedFiles = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles(files);\r\n  };\r\n  const handleAcceptedFiles5 = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles5(files);\r\n  };\r\n\r\n  const handleAcceptedFiles2 = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        formattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles2(files);\r\n  };\r\n\r\n  const emenitiesedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/amenities/${imentiesImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationAmenityTitle: `${emenitiesstag}`,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          getlocations();\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          getlocations();\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n        // getdiomBrandfunc()\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const locationTagEditButtonfunc = () => {\r\n    setEnableEdit(true);\r\n  };\r\n  const emenitiesTagEditButtonfunc = () => {\r\n    setEnableementiesEdit(true);\r\n  };\r\n\r\n  const locationedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/${locationImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationTag: locationEditTag,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          QueryClient.invalidateQueries(\"locationbrands\");\r\n          getlocations();\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          QueryClient.invalidateQueries(\"locationbrands\");\r\n          getlocations();\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n\r\n        // getdiomBrandfunc()\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const uploadfilelocationfunc = async () => {\r\n    if (selectedFiles <= 1 || selectedLocation.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].preview);\r\n      formdata.append(\"locationTag\", selectedLocation);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      await fetch(\r\n        `${DIOM_BASED_URLS}/admin-business-locations/${id}/uploadimages`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          setLocationstitle({\r\n            ...locationstite,\r\n            images: [...locationstite.images, result[0].data],\r\n          });\r\n\r\n          if (result[0].statusCode === 200) {\r\n            toast.success(\"Image uplaoded\", result[0].statusCode);\r\n\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            QueryClient.invalidateQueries(\"locationbrands\");\r\n            setSelectedFiles([]);\r\n          } else if (result[0].statusCode === 204) {\r\n            toast.success(\"Image uplaoded\", result[0].statusCode);\r\n\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            QueryClient.invalidateQueries(\"locationbrands\");\r\n            setSelectedFiles([]);\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n\r\n          setModal_static(false);\r\n          setLocationAddMoreBlock(false);\r\n          getlocations();\r\n        })\r\n        .catch((error) => toast.error(\" Something went wrong\"));\r\n    }\r\n  };\r\n\r\n  const uploadfilenearbyfunc = async () => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\r\n      \"Authorization\",\r\n      `Bearer ${localStorage.getItem(\"Token\")}`\r\n    );\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"file\", selectedFiles5[0], selectedFiles5[0].preview);\r\n    // formdata.append(\"facilityName\", selectedLocation);\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: formdata,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    await fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/nearbyfacilities`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        setNearByImages({\r\n          ...nearByImages,\r\n          images: [...nearByImages.nearByFacilities, result[0].data],\r\n        });\r\n\r\n        if (result[0].statusCode === 200) {\r\n          toast.success(\"Image uplaoded\", result[0].statusCode);\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          setSelectedFiles5([]);\r\n        } else if (result[0].statusCode === 204) {\r\n          toast.success(\"Image uplaoded\", result[0].statusCode);\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          setSelectedFiles5([]);\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setModal_static(false);\r\n        setNearbyAddMoreBlock(false);\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const uploadfileAmentiesfunc = () => {\r\n    if (selectedFiles2 <= 1 || emenitiesTitle.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles2[0], selectedFiles2[0].preview);\r\n      formdata.append(\"title\", emenitiesTitle);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        `${DIOM_BASED_URLS}/admin-business-locations/${id}/amenityimage`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          setAmentiesImgUrl({\r\n            ...amentiesImgUrl,\r\n            amenities: [...amentiesImgUrl.amenities, result[0].data],\r\n          });\r\n\r\n          if (result[0].statusCode === 200) {\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            toast.success(\"Image uplaoded\", {\r\n              toastId: \"Success1\",\r\n            });\r\n            setSelectedFiles2([]);\r\n          } else if (result[0].statusCode === 204) {\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            toast.success(\"Image uplaoded\", {\r\n              toastId: \"Success1\",\r\n            });\r\n            setSelectedFiles2([]);\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n          setAmenitiesAddMoreBlock(false);\r\n          setModal_static(false);\r\n          getlocations();\r\n        })\r\n        .catch((error) => alert(\"request not responed\"));\r\n    }\r\n  };\r\n\r\n  const updateLocationfunction = () => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify({\r\n        description: locationstite.description,\r\n        city: locationstite.city,\r\n        state: locationstite.state,\r\n        visibility: locationstite.visibility,\r\n      }),\r\n    })\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setModal_static(false);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  const imagedeletedfunc = (_id) => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"locationbrands\");\r\n        QueryClient.invalidateQueries(\"locations\");\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const nearbyimagedeletedfunc = (_id) => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/nearbyfacilities/${_id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"locations\");\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const imagedeletedAmentiesfunc = (_id) => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations//${id}/amenities/${_id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"locations\");\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const handellocationeditfunc = (e, e_id) => {\r\n    setLocationEditTag(e);\r\n    setLocationImgId(e_id);\r\n  };\r\n\r\n  const emenitiesEditfunc = (event, e_id) => {\r\n    // setEmenitiesstag((prev) => ({ ...prev, title: event.target.value }));\r\n    setEmenitiesstag(event.target.value);\r\n\r\n    setImentiesImgId(e_id);\r\n  };\r\n\r\n  const handellocationfunc = (e) => {\r\n    setSelectedLocation(e);\r\n  };\r\n\r\n  const districtfunc = (e) => {\r\n    setLocationstitle((prev) => ({\r\n      ...prev,\r\n      state: e.target.value,\r\n    }));\r\n  };\r\n  const cityfunc = (e) => {\r\n    setLocationstitle((prev) => ({\r\n      ...prev,\r\n      city: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const textareachange = (e) => {\r\n    setLocationstitle((prev) => ({\r\n      ...prev,\r\n      description: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const removeBodyCss = () => {\r\n    document.body.classList.add(\"no_padding\");\r\n  };\r\n  const tog_static = () => {\r\n    setModal_static(!modal_static);\r\n    removeBodyCss();\r\n  };\r\n\r\n  const getlocationStatusFunc = async (e) => {\r\n    if (e == true) {\r\n      const response = await fetch(\r\n        `${DIOM_BASED_URLS}/admin-business-locations/active/${id}`,\r\n        {\r\n          method: \"GET\",\r\n          redirect: \"follow\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const message = `An error has occured: ${response.status}`;\r\n        throw new Error(message);\r\n      } else {\r\n        toast.success(\"Location Actived\");\r\n      }\r\n    } else if (e == false) {\r\n      fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}`, {\r\n        method: \"DELETE\",\r\n        redirect: \"follow\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          toast.success(\"Location Archived\");\r\n        })\r\n        .catch((error) => toast.error(\" Something went wrong\"));\r\n    }\r\n\r\n    setLocationstitle({\r\n      ...setLocationstitle,\r\n      visibility: !locationstite.visibility,\r\n    });\r\n  };\r\n\r\n  // *************\r\n  const Locationdata = useQuery([\"locations\", id], () =>\r\n    getLocation(token, id)\r\n  );\r\n  const getLocationdata = Locationdata?.data?.data;\r\n  const isLoading = Locationdata?.data;\r\n  // *************\r\n  const getlocations = async () => {\r\n    setLocationstitle(getLocationdata);\r\n    setAmentiesImgUrl(getLocationdata);\r\n    setNearByImages(getLocationdata);\r\n  };\r\n\r\n  // *************\r\n  const diomlocationBrandddata = useQuery([\"locationbrands\", id], () =>\r\n    getdiomlocationBrand(token)\r\n  );\r\n  const diomlocationBrandata = diomlocationBrandddata?.data?.data;\r\n\r\n  // *************\r\n\r\n  const getdiomBrandfunc = async () => {\r\n    const mapdata = diomlocationBrandata?.map((element) => ({\r\n      value: element.id,\r\n      label: element.name,\r\n    }));\r\n    setDiomBrand([\r\n      {\r\n        label: \"--All Tags\",\r\n        options: mapdata,\r\n      },\r\n    ]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      getLocationdata && (await getlocations());\r\n      diomlocationBrandata && (await getdiomBrandfunc());\r\n    })();\r\n  }, [getLocationdata, diomlocationBrandata]);\r\n\r\n  return {\r\n    modal_static,\r\n    setModal_static,\r\n    locationstite,\r\n    setLocationstitle,\r\n    amentiesImgUrl,\r\n    setAmentiesImgUrl,\r\n    nearByImages,\r\n    setNearByImages,\r\n    selectedFiles,\r\n    setSelectedFiles,\r\n    selectedFiles5,\r\n    setSelectedFiles5,\r\n    selectedFiles2,\r\n    setSelectedFiles2,\r\n    simple_color,\r\n    setSimple_color,\r\n    emenitiesTitle,\r\n    setEmenitiesTitle,\r\n    locationAddMoreBlock,\r\n    setLocationAddMoreBlock,\r\n    nearbyAddMoreBlock,\r\n    setNearbyAddMoreBlock,\r\n    amenitiesAddMoreBlock,\r\n    setAmenitiesAddMoreBlock,\r\n    editeminitsbtn,\r\n    setEditeminitsbtn,\r\n    selectedLocation,\r\n    setSelectedLocation,\r\n    diomBrand,\r\n    setDiomBrand,\r\n    loaded,\r\n    setLoaded,\r\n    getLocationdata,\r\n    isLoading,\r\n    locationEditTag,\r\n    setLocationEditTag,\r\n    locationImgId,\r\n    setLocationImgId,\r\n    emenitiesstag,\r\n    setEmenitiesstag,\r\n    enableEdit,\r\n    setEnableEdit,\r\n    enableementiesEdit,\r\n    setEnableementiesEdit,\r\n    imentiesImgId,\r\n    setImentiesImgId,\r\n    Offsymbol,\r\n    OnSymbol,\r\n    handleAcceptedFiles,\r\n    handleAcceptedFiles5,\r\n    handleAcceptedFiles2,\r\n    emenitiesedittagfunc,\r\n    locationTagEditButtonfunc,\r\n    emenitiesTagEditButtonfunc,\r\n    locationedittagfunc,\r\n    uploadfilelocationfunc,\r\n    uploadfilenearbyfunc,\r\n    uploadfileAmentiesfunc,\r\n    handellocationeditfunc,\r\n    emenitiesEditfunc,\r\n    handellocationfunc,\r\n    districtfunc,\r\n    cityfunc,\r\n    textareachange,\r\n    tog_static,\r\n    getlocationStatusFunc,\r\n    getlocations,\r\n    getdiomBrandfunc,\r\n    updateLocationfunction,\r\n    imagedeletedfunc,\r\n    nearbyimagedeletedfunc,\r\n    imagedeletedAmentiesfunc,\r\n  };\r\n};\r\n\r\nexport default UseLocationDetailed;\r\n"]},"metadata":{},"sourceType":"module"}