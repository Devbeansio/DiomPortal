{"ast":null,"code":"var _classCallCheck = require(\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\n/*!\n* metismenujs - v1.3.1\n* MetisMenu: Collapsible menu plugin with Vanilla-JS\n* https://github.com/onokumus/metismenujs#readme\n*\n* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)\n* Under MIT License\n*/\n!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (t = \"undefined\" != typeof globalThis ? globalThis : t || self).MetisMenu = e();\n}(this, function () {\n  \"use strict\";\n\n  var t = {\n    parentTrigger: \"li\",\n    subMenu: \"ul\",\n    toggle: !0,\n    triggerElement: \"a\"\n  },\n      e = {\n    ACTIVE: \"mm-active\",\n    COLLAPSE: \"mm-collapse\",\n    COLLAPSED: \"mm-collapsed\",\n    COLLAPSING: \"mm-collapsing\",\n    METIS: \"metismenu\",\n    SHOW: \"mm-show\"\n  };\n\n  var s = /*#__PURE__*/function () {\n    function s(e, i) {\n      _classCallCheck(this, s);\n\n      this.element = s.isElement(e) ? e : document.querySelector(e), this.config = Object.assign(Object.assign({}, t), i), this.disposed = !1, this.triggerArr = [], this.init();\n    }\n\n    _createClass(s, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var t = e.METIS,\n            _s = e.ACTIVE,\n            i = e.COLLAPSE;\n        this.element.classList.add(t), [].slice.call(this.element.querySelectorAll(this.config.subMenu)).forEach(function (t) {\n          t.classList.add(i);\n          var e = t.closest(_this.config.parentTrigger);\n          (null == e ? void 0 : e.classList.contains(_s)) ? _this.show(t) : _this.hide(t);\n          var n = null == e ? void 0 : e.querySelector(_this.config.triggerElement);\n          \"true\" !== (null == n ? void 0 : n.getAttribute(\"aria-disabled\")) && (null == n || n.setAttribute(\"aria-expanded\", \"false\"), null == n || n.addEventListener(\"click\", _this.clickEvent.bind(_this)), _this.triggerArr.push(n));\n        });\n      }\n    }, {\n      key: \"clickEvent\",\n      value: function clickEvent(t) {\n        if (!this.disposed) {\n          var _e = null == t ? void 0 : t.currentTarget;\n\n          _e && \"A\" === _e.tagName && t.preventDefault();\n\n          var _s9 = _e.closest(this.config.parentTrigger),\n              i = null == _s9 ? void 0 : _s9.querySelector(this.config.subMenu);\n\n          this.toggle(i);\n        }\n      }\n    }, {\n      key: \"update\",\n      value: function update() {\n        this.disposed = !1, this.init();\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        var _this2 = this;\n\n        this.triggerArr.forEach(function (t) {\n          t.removeEventListener(\"click\", _this2.clickEvent.bind(_this2));\n        }), this.disposed = !0;\n      }\n    }, {\n      key: \"on\",\n      value: function on(t, e, _s3) {\n        return this.element.addEventListener(t, e, _s3), this;\n      }\n    }, {\n      key: \"off\",\n      value: function off(t, e, _s4) {\n        return this.element.removeEventListener(t, e, _s4), this;\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(t, e) {\n        var _s5 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n\n        var i = new CustomEvent(t, {\n          bubbles: _s5,\n          detail: e\n        });\n        this.element.dispatchEvent(i);\n      }\n    }, {\n      key: \"toggle\",\n      value: function toggle(t) {\n        var _s6 = t.closest(this.config.parentTrigger);\n\n        (null == _s6 ? void 0 : _s6.classList.contains(e.ACTIVE)) ? this.hide(t) : this.show(t);\n      }\n    }, {\n      key: \"show\",\n      value: function show(t) {\n        var _this3 = this;\n\n        var _s7;\n\n        var i = t,\n            n = e.ACTIVE,\n            l = e.COLLAPSE,\n            o = e.COLLAPSED,\n            r = e.COLLAPSING,\n            c = e.SHOW;\n        if (this.isTransitioning || i.classList.contains(r)) return;\n\n        var a = function a() {\n          i.classList.remove(r), i.style.height = \"\", i.removeEventListener(\"transitionend\", a), _this3.setTransitioning(!1), _this3.emit(\"shown.metisMenu\", {\n            shownElement: i\n          });\n        },\n            h = i.closest(this.config.parentTrigger);\n\n        null == h || h.classList.add(n);\n        var d = null == h ? void 0 : h.querySelector(this.config.triggerElement);\n        null == d || d.setAttribute(\"aria-expanded\", \"true\"), null == d || d.classList.remove(o), i.style.height = \"0px\", i.classList.remove(l), i.classList.remove(c), i.classList.add(r);\n        var g = [].slice.call(null === (_s7 = null == h ? void 0 : h.parentNode) || void 0 === _s7 ? void 0 : _s7.children).filter(function (t) {\n          return t !== h;\n        });\n        this.config.toggle && g.length > 0 && g.forEach(function (t) {\n          var e = t.querySelector(_this3.config.subMenu);\n          e && _this3.hide(e);\n        }), this.setTransitioning(!0), i.classList.add(l), i.classList.add(c), i.style.height = \"\".concat(i.scrollHeight, \"px\"), this.emit(\"show.metisMenu\", {\n          showElement: i\n        }), i.addEventListener(\"transitionend\", a);\n      }\n    }, {\n      key: \"hide\",\n      value: function hide(t) {\n        var _this4 = this;\n\n        var _s8 = e.ACTIVE,\n            i = e.COLLAPSE,\n            n = e.COLLAPSED,\n            l = e.COLLAPSING,\n            o = e.SHOW,\n            r = t;\n        if (this.isTransitioning || !r.classList.contains(o)) return;\n        this.emit(\"hide.metisMenu\", {\n          hideElement: r\n        });\n        var c = r.closest(this.config.parentTrigger);\n        null == c || c.classList.remove(_s8);\n\n        var a = function a() {\n          r.classList.remove(l), r.classList.add(i), r.style.height = \"\", r.removeEventListener(\"transitionend\", a), _this4.setTransitioning(!1), _this4.emit(\"hidden.metisMenu\", {\n            hiddenElement: r\n          });\n        };\n\n        r.style.height = \"\".concat(r.getBoundingClientRect().height, \"px\"), r.style.height = \"\".concat(r.offsetHeight, \"px\"), r.classList.add(l), r.classList.remove(i), r.classList.remove(o), this.setTransitioning(!0), r.addEventListener(\"transitionend\", a), r.style.height = \"0px\";\n        var h = null == c ? void 0 : c.querySelector(this.config.triggerElement);\n        null == h || h.setAttribute(\"aria-expanded\", \"false\"), null == h || h.classList.add(n);\n      }\n    }, {\n      key: \"setTransitioning\",\n      value: function setTransitioning(t) {\n        this.isTransitioning = t;\n      }\n    }], [{\n      key: \"attach\",\n      value: function attach(t, e) {\n        return new s(t, e);\n      }\n    }, {\n      key: \"isElement\",\n      value: function isElement(t) {\n        return Boolean(t.classList);\n      }\n    }]);\n\n    return s;\n  }();\n\n  return s;\n});","map":{"version":3,"sources":["../src/constant.ts","../src/index.ts"],"names":["Default","parentTrigger","subMenu","toggle","triggerElement","ClassName","ACTIVE","COLLAPSE","COLLAPSED","COLLAPSING","METIS","SHOW","MetisMenu","constructor","element","options","this","isElement","document","querySelector","config","Object","disposed","triggerArr","init","attach","el","opt","classList","add","slice","call","querySelectorAll","forEach","ul","li","closest","contains","show","hide","a","getAttribute","setAttribute","addEventListener","clickEvent","bind","push","evt","target","currentTarget","tagName","preventDefault","update","dispose","arr","removeEventListener","on","evtType","handler","off","emit","evtData","shouldBubble","CustomEvent","bubbles","detail","dispatchEvent","isTransitioning","complete","remove","style","height","setTransitioning","shownElement","eleParentSiblins","_a","parentNode","children","filter","c","length","sibli","sibUl","scrollHeight","showElement","hideElement","hiddenElement","getBoundingClientRect","offsetHeight","Boolean"],"mappings":"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","sourcesContent":["import { IMMOptions } from './interface';\n\nexport type MetisMenuEvents =\n  | 'show.metisMenu'\n  | 'shown.metisMenu'\n  | 'hide.metisMenu'\n  | 'hidden.metisMenu';\n\nexport const Default: IMMOptions = {\n  parentTrigger: 'li',\n  subMenu: 'ul',\n  toggle: true,\n  triggerElement: 'a',\n};\n\nexport const ClassName = {\n  ACTIVE: 'mm-active',\n  COLLAPSE: 'mm-collapse',\n  COLLAPSED: 'mm-collapsed',\n  COLLAPSING: 'mm-collapsing',\n  METIS: 'metismenu',\n  SHOW: 'mm-show',\n};\n","/* eslint-disable max-len */\nimport { ClassName, Default, MetisMenuEvents } from './constant';\nimport { IMMOptions } from './interface';\nimport { EventType, SpecificEventListener, CustomEventListener } from './types';\n\nclass MetisMenu {\n  protected config: IMMOptions;\n\n  protected element: Element;\n\n  protected isTransitioning!: boolean;\n\n  protected disposed: boolean;\n\n  protected triggerArr: Array<Element>;\n\n  /**\n   * Creates an instance of MetisMenu.\n   *\n   * @constructor\n   * @param {Element | string} element\n   * @param {IMMOptions} [options]\n   * @memberof MetisMenu\n   */\n\n  constructor(element: Element | string, options?: IMMOptions) {\n    this.element = MetisMenu.isElement(element) ? element : document.querySelector<HTMLElement>(element)!;\n    this.config = { ...Default, ...options };\n    this.disposed = false;\n    this.triggerArr = [];\n    this.init();\n  }\n\n  static attach(el: Element, opt?: IMMOptions) {\n    return new MetisMenu(el, opt);\n  }\n\n  private init(): void {\n    const { METIS, ACTIVE, COLLAPSE } = ClassName;\n    this.element.classList.add(METIS);\n\n    [].slice.call(this.element.querySelectorAll<HTMLElement>(this.config.subMenu!)).forEach((ul: Element) => {\n      ul.classList.add(COLLAPSE!);\n      const li = ul.closest(this.config.parentTrigger!);\n\n      if (li?.classList.contains(ACTIVE!)) {\n        this.show(ul as HTMLElement);\n      } else {\n        this.hide(ul);\n      }\n\n      const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n      if (a?.getAttribute('aria-disabled') === 'true') {\n        return;\n      }\n\n      a?.setAttribute('aria-expanded', 'false');\n\n      a?.addEventListener('click', this.clickEvent.bind(this));\n      this.triggerArr.push(a!);\n    });\n  }\n\n  private clickEvent(evt?: Event) {\n    if (!this.disposed) {\n      const target = evt?.currentTarget as Element | null;\n      if (target && target.tagName === 'A') {\n        evt!.preventDefault();\n      }\n\n      const li = target!.closest(this.config.parentTrigger!);\n      const ul = li?.querySelector(this.config.subMenu!);\n      this.toggle(ul!);\n    }\n  }\n\n  update() {\n    this.disposed = false;\n    this.init();\n  }\n\n  dispose() {\n    this.triggerArr.forEach((arr) => {\n      arr.removeEventListener('click', this.clickEvent.bind(this));\n    });\n    this.disposed = true;\n  }\n\n  on<K extends EventType>(evtType: K, handler: SpecificEventListener<K>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  on<E extends Event>(evtType: E, handler: CustomEventListener<E>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  on(evtType: MetisMenuEvents, handler: EventListener, options?: AddEventListenerOptions | boolean) {\n    this.element.addEventListener(evtType, handler, options);\n    return this;\n  }\n\n  off<K extends EventType>(evtType: K, handler: SpecificEventListener<K>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  off<E extends Event>(evtType: E, handler: CustomEventListener<E>, options?: AddEventListenerOptions | boolean): MetisMenu;\n\n  off(evtType: MetisMenuEvents, handler: EventListener, options?: AddEventListenerOptions | boolean): MetisMenu {\n    this.element.removeEventListener(evtType, handler, options);\n    return this;\n  }\n\n  emit<T extends object>(evtType: string, evtData: T, shouldBubble = false): void {\n    const evt = new CustomEvent<T>(evtType, {\n        bubbles: shouldBubble,\n        detail: evtData,\n      });\n    this.element.dispatchEvent(evt);\n  }\n\n  toggle(ul: Element) {\n    const li = ul.closest(this.config.parentTrigger!);\n    if (li?.classList.contains(ClassName.ACTIVE)) {\n      this.hide(ul);\n    } else {\n      this.show(ul);\n    }\n  }\n\n  show(el: Element) {\n    const ul = el as HTMLElement;\n    const {\n      ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW,\n    } = ClassName;\n\n    if (this.isTransitioning || ul.classList.contains(COLLAPSING!)) {\n      return;\n    }\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.style.height = '';\n      ul.removeEventListener('transitionend', complete);\n      this.setTransitioning(false);\n      this.emit('shown.metisMenu', {\n        shownElement: ul,\n      });\n    };\n\n    const li = ul.closest(this.config.parentTrigger!);\n    li?.classList.add(ACTIVE!);\n\n    const a = li?.querySelector<HTMLElement>(this.config.triggerElement!);\n    a?.setAttribute('aria-expanded', 'true');\n    a?.classList.remove(COLLAPSED!);\n\n    ul.style.height = '0px';\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    ul.classList.add(COLLAPSING!);\n    const eleParentSiblins = [].slice\n      .call(li?.parentNode?.children)\n      .filter((c) => c !== li);\n    if (this.config.toggle && eleParentSiblins.length > 0) {\n      eleParentSiblins.forEach((sibli: Element) => {\n        const sibUl = sibli.querySelector<HTMLElement>(this.config.subMenu!);\n        if (sibUl) {\n          this.hide(sibUl);\n        }\n      });\n    }\n\n    this.setTransitioning(true);\n\n    ul.classList.add(COLLAPSE!);\n    ul.classList.add(SHOW!);\n    ul.style.height = `${ul.scrollHeight}px`;\n    this.emit('show.metisMenu', {\n      showElement: ul,\n    });\n    ul.addEventListener('transitionend', complete);\n  }\n\n  hide(el: Element) {\n    const {\n      ACTIVE, COLLAPSE, COLLAPSED, COLLAPSING, SHOW,\n    } = ClassName;\n    const ul = el as HTMLElement;\n    if (this.isTransitioning || !ul.classList.contains(SHOW!)) {\n      return;\n    }\n    this.emit('hide.metisMenu', {\n      hideElement: ul,\n    });\n\n    const li = ul.closest(this.config.parentTrigger!);\n    li?.classList.remove(ACTIVE!);\n\n    const complete = () => {\n      ul.classList.remove(COLLAPSING!);\n      ul.classList.add(COLLAPSE!);\n      ul.style.height = '';\n      ul.removeEventListener('transitionend', complete);\n      this.setTransitioning(false);\n      this.emit('hidden.metisMenu', {\n        hiddenElement: ul,\n      });\n    };\n\n    ul.style.height = `${ul.getBoundingClientRect().height}px`;\n    ul.style.height = `${ul.offsetHeight}px`;\n\n    ul.classList.add(COLLAPSING!);\n    ul.classList.remove(COLLAPSE!);\n    ul.classList.remove(SHOW!);\n    this.setTransitioning(true);\n\n    ul.addEventListener('transitionend', complete);\n\n    ul.style.height = '0px';\n\n    const a = li?.querySelector(this.config.triggerElement!);\n    a?.setAttribute('aria-expanded', 'false');\n    a?.classList.add(COLLAPSED!);\n  }\n\n  private setTransitioning(isTransitioning: boolean) {\n    this.isTransitioning = isTransitioning;\n  }\n\n  static isElement(element: unknown): element is Element {\n    return Boolean((element as Element).classList);\n  }\n}\n\nexport default MetisMenu;\n"]},"metadata":{},"sourceType":"script"}