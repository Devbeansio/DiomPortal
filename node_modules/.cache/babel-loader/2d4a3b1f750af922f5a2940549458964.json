{"ast":null,"code":"import _regeneratorRuntime from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";var _marked=/*#__PURE__*/_regeneratorRuntime().mark(registerUser),_marked2=/*#__PURE__*/_regeneratorRuntime().mark(watchUserRegister),_marked3=/*#__PURE__*/_regeneratorRuntime().mark(accountSaga);import{takeEvery,fork,put,all,call}from'redux-saga/effects';//Account Redux states\nimport{REGISTER_USER}from'./actionTypes';import{registerUserSuccessful,registerUserFailed}from'./actions';//AUTH related methods\nimport{postRegister}from'../../../helpers/fackBackend_Helper';import{getFirebaseBackend}from'../../../helpers/firebase_helper';// initialize firebase Auth\nvar fireBaseBackend=getFirebaseBackend();// Is user register successfull then direct plot user in redux.\nfunction registerUser(_ref){var user,response,_response;return _regeneratorRuntime().wrap(function registerUser$(_context){while(1){switch(_context.prev=_context.next){case 0:user=_ref.payload.user;_context.prev=1;if(!(process.env.REACT_APP_DEFAULTAUTH===\"firebase\")){_context.next=10;break;}_context.next=5;return call(fireBaseBackend.registerUser,user.email,user.password);case 5:response=_context.sent;_context.next=8;return put(registerUserSuccessful(response));case 8:_context.next=15;break;case 10:_context.next=12;return call(postRegister,'/post-register',user);case 12:_response=_context.sent;_context.next=15;return put(registerUserSuccessful(_response));case 15:_context.next=21;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](1);_context.next=21;return put(registerUserFailed(_context.t0));case 21:case\"end\":return _context.stop();}}},_marked,null,[[1,17]]);}export function watchUserRegister(){return _regeneratorRuntime().wrap(function watchUserRegister$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeEvery(REGISTER_USER,registerUser);case 2:case\"end\":return _context2.stop();}}},_marked2);}function accountSaga(){return _regeneratorRuntime().wrap(function accountSaga$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return all([fork(watchUserRegister)]);case 2:case\"end\":return _context3.stop();}}},_marked3);}export default accountSaga;","map":{"version":3,"names":["registerUser","watchUserRegister","accountSaga","takeEvery","fork","put","all","call","REGISTER_USER","registerUserSuccessful","registerUserFailed","postRegister","getFirebaseBackend","fireBaseBackend","user","payload","process","env","REACT_APP_DEFAULTAUTH","email","password","response"],"sources":["D:/diom working project/staging/src/store/auth/register/saga.js"],"sourcesContent":["import { takeEvery, fork, put, all, call } from 'redux-saga/effects';\r\n\r\n//Account Redux states\r\nimport { REGISTER_USER } from './actionTypes';\r\nimport { registerUserSuccessful, registerUserFailed } from './actions';\r\n\r\n//AUTH related methods\r\nimport { postRegister } from '../../../helpers/fackBackend_Helper';\r\nimport { getFirebaseBackend } from '../../../helpers/firebase_helper';\r\n\r\n// initialize firebase Auth\r\nconst fireBaseBackend = getFirebaseBackend();\r\n\r\n// Is user register successfull then direct plot user in redux.\r\nfunction* registerUser({ payload: { user } }) {\r\n    try {\r\n        if(process.env.REACT_APP_DEFAULTAUTH === \"firebase\"){\r\n            const response = yield call(fireBaseBackend.registerUser, user.email, user.password);\r\n            yield put(registerUserSuccessful(response));\r\n        }\r\n        else{\r\n            const response = yield call(postRegister, '/post-register', user);\r\n            yield put(registerUserSuccessful(response));\r\n        }\r\n    } catch (error) {\r\n        yield put(registerUserFailed(error));\r\n    }\r\n}\r\n\r\nexport function* watchUserRegister() {\r\n    yield takeEvery(REGISTER_USER, registerUser)\r\n}\r\n\r\nfunction* accountSaga() {\r\n    yield all([fork(watchUserRegister)]);\r\n}\r\n\r\nexport default accountSaga;"],"mappings":"mLAcUA,Y,mDAeOC,iB,mDAIPC,W,EAjCV,OAASC,SAAT,CAAoBC,IAApB,CAA0BC,GAA1B,CAA+BC,GAA/B,CAAoCC,IAApC,KAAgD,oBAAhD,CAEA;AACA,OAASC,aAAT,KAA8B,eAA9B,CACA,OAASC,sBAAT,CAAiCC,kBAAjC,KAA2D,WAA3D,CAEA;AACA,OAASC,YAAT,KAA6B,qCAA7B,CACA,OAASC,kBAAT,KAAmC,kCAAnC,CAEA;AACA,GAAMC,gBAAe,CAAGD,kBAAkB,EAA1C,CAEA;AACA,QAAUZ,aAAV,0JAAoCc,IAApC,MAAyBC,OAAzB,CAAoCD,IAApC,sBAEWE,OAAO,CAACC,GAAR,CAAYC,qBAAZ,GAAsC,UAFjD,2CAG6B,MAAMX,KAAI,CAACM,eAAe,CAACb,YAAjB,CAA+Bc,IAAI,CAACK,KAApC,CAA2CL,IAAI,CAACM,QAAhD,CAAV,CAH7B,OAGkBC,QAHlB,+BAIY,MAAMhB,IAAG,CAACI,sBAAsB,CAACY,QAAD,CAAvB,CAAT,CAJZ,uDAO6B,MAAMd,KAAI,CAACI,YAAD,CAAe,gBAAf,CAAiCG,IAAjC,CAAV,CAP7B,QAOkBO,SAPlB,gCAQY,MAAMhB,IAAG,CAACI,sBAAsB,CAACY,SAAD,CAAvB,CAAT,CARZ,0GAWQ,MAAMhB,IAAG,CAACK,kBAAkB,aAAnB,CAAT,CAXR,qEAeA,MAAO,SAAUT,kBAAV,mJACH,MAAME,UAAS,CAACK,aAAD,CAAgBR,YAAhB,CAAf,CADG,wDAIP,QAAUE,YAAV,6IACI,MAAMI,IAAG,CAAC,CAACF,IAAI,CAACH,iBAAD,CAAL,CAAD,CAAT,CADJ,wDAIA,cAAeC,YAAf"},"metadata":{},"sourceType":"module"}