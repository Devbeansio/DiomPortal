{"ast":null,"code":"import _objectSpread from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\tech sign\\\\Desktop\\\\1diom-frontend\\\\diom-frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{DIOM_BASED_URLS}from\"../config/url\";import moment from\"moment\";/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all userProfile in DIOM\r\n */export var getuserprofile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var size,page,token,res,_resJson,resJson,userProfileData,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:size=_args.length>0&&_args[0]!==undefined?_args[0]:30;page=_args.length>1&&_args[1]!==undefined?_args[1]:1;token=_args.length>2&&_args[2]!==undefined?_args[2]:\"\";_context.next=5;return fetch(\"\".concat(DIOM_BASED_URLS,\"/users?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 5:res=_context.sent;if(res.ok){_context.next=11;break;}_context.next=9;return res.json();case 9:_resJson=_context.sent;throw new Error(_resJson.error.message);case 11:_context.next=13;return res.json();case 13:resJson=_context.sent;userProfileData=resJson.users.map(function(element,index){return _objectSpread(_objectSpread({},element),{},{id:index+1,_id:element.id,userName:element.fullName,email:element.email,MobilePhone:element.MobilePhone,checkInTime:moment(element.checkInTime).format(\"YYYY-MM-DD \")});});return _context.abrupt(\"return\",{data:userProfileData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 16:case\"end\":return _context.stop();}}},_callee);}));return function getuserprofile(){return _ref.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of one user in DIOM\r\n */export var getuserdetails=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var size,page,token,id,res,_resJson2,resJson,userdetailsData,_args2=arguments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:size=_args2.length>0&&_args2[0]!==undefined?_args2[0]:30;page=_args2.length>1&&_args2[1]!==undefined?_args2[1]:1;token=_args2.length>2&&_args2[2]!==undefined?_args2[2]:\"\";id=_args2.length>3?_args2[3]:undefined;_context2.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/users/\").concat(id,\"?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context2.sent;if(res.ok){_context2.next=12;break;}_context2.next=10;return res.json();case 10:_resJson2=_context2.sent;throw new Error(_resJson2.error.message);case 12:_context2.next=14;return res.json();case 14:resJson=_context2.sent;userdetailsData=resJson;return _context2.abrupt(\"return\",{data:userdetailsData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context2.stop();}}},_callee2);}));return function getuserdetails(){return _ref2.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of user active bookings in DIOM\r\n */export var getUseractivebookings=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var size,page,token,id,res,_resJson3,resJson,userActivebookingsData,_args3=arguments;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:size=_args3.length>0&&_args3[0]!==undefined?_args3[0]:30;page=_args3.length>1&&_args3[1]!==undefined?_args3[1]:1;token=_args3.length>2&&_args3[2]!==undefined?_args3[2]:\"\";id=_args3.length>3?_args3[3]:undefined;_context3.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/\").concat(id,\"/active?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context3.sent;if(res.ok){_context3.next=12;break;}_context3.next=10;return res.json();case 10:_resJson3=_context3.sent;throw new Error(_resJson3.error.message);case 12:_context3.next=14;return res.json();case 14:resJson=_context3.sent;// const userActivebookingsData = resJson.bookings.map((booking, index) => ({\nuserActivebookingsData=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,createdAt:moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id});});return _context3.abrupt(\"return\",{data:userActivebookingsData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context3.stop();}}},_callee3);}));return function getUseractivebookings(){return _ref3.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of user past bookings in DIOM\r\n */export var getUserPastBookings=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var size,page,token,id,res,_resJson4,resJson,userPastBookingsData,_args4=arguments;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:size=_args4.length>0&&_args4[0]!==undefined?_args4[0]:30;page=_args4.length>1&&_args4[1]!==undefined?_args4[1]:1;token=_args4.length>2&&_args4[2]!==undefined?_args4[2]:\"\";id=_args4.length>3?_args4[3]:undefined;_context4.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/bookings/users/\").concat(id,\"/history?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context4.sent;if(res.ok){_context4.next=12;break;}_context4.next=10;return res.json();case 10:_resJson4=_context4.sent;throw new Error(_resJson4.error.message);case 12:_context4.next=14;return res.json();case 14:resJson=_context4.sent;console.log(\"resJson : \",resJson);// const userPastBookingsData = resJson.bookings.map((booking, index) => ({\nuserPastBookingsData=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,createdAt:moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id});});return _context4.abrupt(\"return\",{data:userPastBookingsData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 18:case\"end\":return _context4.stop();}}},_callee4);}));return function getUserPastBookings(){return _ref4.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of one user in DIOM\r\n */export var getUserScheduledBookings=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var size,page,token,id,res,_resJson5,resJson,userScheduledBookingsData,_args5=arguments;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:size=_args5.length>0&&_args5[0]!==undefined?_args5[0]:30;page=_args5.length>1&&_args5[1]!==undefined?_args5[1]:1;token=_args5.length>2&&_args5[2]!==undefined?_args5[2]:\"\";id=_args5.length>3?_args5[3]:undefined;_context5.next=6;return fetch(\"\".concat(DIOM_BASED_URLS,\"/bookings/users/\").concat(id,\"/scheduled?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 6:res=_context5.sent;if(res.ok){_context5.next=12;break;}_context5.next=10;return res.json();case 10:_resJson5=_context5.sent;throw new Error(_resJson5.error.message);case 12:_context5.next=14;return res.json();case 14:resJson=_context5.sent;userScheduledBookingsData=resJson.bookings.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,createdAt:moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id});});return _context5.abrupt(\"return\",{data:userScheduledBookingsData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 17:case\"end\":return _context5.stop();}}},_callee5);}));return function getUserScheduledBookings(){return _ref5.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/src/APIS/userProfle.js"],"names":["DIOM_BASED_URLS","moment","getuserprofile","size","page","token","fetch","method","redirect","headers","Authorization","res","ok","json","resJson","Error","error","message","userProfileData","users","map","element","index","id","_id","userName","fullName","email","MobilePhone","checkInTime","format","data","total","hasNextPage","hasPreviousPage","getuserdetails","userdetailsData","getUseractivebookings","userActivebookingsData","booking","createdAt","getUserPastBookings","console","log","userPastBookingsData","getUserScheduledBookings","userScheduledBookingsData","bookings"],"mappings":"mbAAA,OAASA,eAAT,KAAgC,eAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMC,CAAAA,cAAc,0FAAG,4MAAOC,IAAP,+CAAc,EAAd,CAAkBC,IAAlB,+CAAyB,CAAzB,CAA4BC,KAA5B,+CAAoC,EAApC,uBACVC,CAAAA,KAAK,WAClBN,eADkB,wBACYG,IADZ,kBACyBC,IADzB,EAGrB,CACEG,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAHqB,CADK,QACtBM,GADsB,kBAYvBA,GAAG,CAACC,EAZmB,gDAaJD,CAAAA,GAAG,CAACE,IAAJ,EAbI,QAapBC,QAboB,oBAcpB,IAAIC,CAAAA,KAAJ,CAAUD,QAAO,CAACE,KAAR,CAAcC,OAAxB,CAdoB,gCAgBNN,CAAAA,GAAG,CAACE,IAAJ,EAhBM,SAgBtBC,OAhBsB,eAiBtBI,eAjBsB,CAiBJJ,OAAO,CAACK,KAAR,CAAcC,GAAd,CAAkB,SAACC,OAAD,CAAUC,KAAV,wCACrCD,OADqC,MAExCE,EAAE,CAAED,KAAK,CAAG,CAF4B,CAGxCE,GAAG,CAAEH,OAAO,CAACE,EAH2B,CAIxCE,QAAQ,CAAEJ,OAAO,CAACK,QAJsB,CAKxCC,KAAK,CAAEN,OAAO,CAACM,KALyB,CAMxCC,WAAW,CAAEP,OAAO,CAACO,WANmB,CAOxCC,WAAW,CAAE5B,MAAM,CAACoB,OAAO,CAACQ,WAAT,CAAN,CAA4BC,MAA5B,CAAmC,aAAnC,CAP2B,IAAlB,CAjBI,iCA0BrB,CACLC,IAAI,CAAEb,eADD,CAELc,KAAK,CAAElB,OAAO,CAACkB,KAFV,CAGLC,WAAW,CAAEnB,OAAO,CAACmB,WAHhB,CAILC,eAAe,CAAEpB,OAAO,CAACoB,eAJpB,CA1BqB,yDAAH,kBAAdhC,CAAAA,cAAc,0CAApB,CAkCP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMiC,CAAAA,cAAc,2FAAG,sNAAOhC,IAAP,kDAAc,EAAd,CAAkBC,IAAlB,kDAAyB,CAAzB,CAA4BC,KAA5B,kDAAoC,EAApC,CAAwCkB,EAAxC,4DACVjB,CAAAA,KAAK,WAClBN,eADkB,mBACOuB,EADP,kBACkBpB,IADlB,kBAC+BC,IAD/B,EAGrB,CACEG,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAHqB,CADK,QACtBM,GADsB,mBAYvBA,GAAG,CAACC,EAZmB,mDAaJD,CAAAA,GAAG,CAACE,IAAJ,EAbI,SAapBC,SAboB,qBAcpB,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAdoB,iCAgBNN,CAAAA,GAAG,CAACE,IAAJ,EAhBM,SAgBtBC,OAhBsB,gBAiBtBsB,eAjBsB,CAiBJtB,OAjBI,kCAmBrB,CACLiB,IAAI,CAAEK,eADD,CAELJ,KAAK,CAAElB,OAAO,CAACkB,KAFV,CAGLC,WAAW,CAAEnB,OAAO,CAACmB,WAHhB,CAILC,eAAe,CAAEpB,OAAO,CAACoB,eAJpB,CAnBqB,2DAAH,kBAAdC,CAAAA,cAAc,2CAApB,CA2BP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAME,CAAAA,qBAAqB,2FAAG,6NACnClC,IADmC,kDAC5B,EAD4B,CAEnCC,IAFmC,kDAE5B,CAF4B,CAGnCC,KAHmC,kDAG3B,EAH2B,CAInCkB,EAJmC,4DAMjBjB,CAAAA,KAAK,WAClBN,eADkB,iCACqBuB,EADrB,yBACuCpB,IADvC,kBACoDC,IADpD,EAGrB,CACEG,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAHqB,CANY,QAM7BM,GAN6B,mBAiB9BA,GAAG,CAACC,EAjB0B,mDAkBXD,CAAAA,GAAG,CAACE,IAAJ,EAlBW,SAkB3BC,SAlB2B,qBAmB3B,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAnB2B,iCAqBbN,CAAAA,GAAG,CAACE,IAAJ,EArBa,SAqB7BC,OArB6B,gBAsBnC;AACMwB,sBAvB6B,CAuBJxB,OAAO,CAACiB,IAAR,CAAaX,GAAb,CAAiB,SAACmB,OAAD,CAAUjB,KAAV,wCAC3CiB,OAD2C,MAE9ChB,EAAE,CAAED,KAAK,CAAG,CAFkC,CAG9CkB,SAAS,CAAEvC,MAAM,CAACsC,OAAO,CAACC,SAAT,CAAN,CAA0BV,MAA1B,CAAiC,kBAAjC,CAHmC,CAI9CN,GAAG,CAAEe,OAAO,CAAChB,EAJiC,IAAjB,CAvBI,kCA8B5B,CACLQ,IAAI,CAAEO,sBADD,CAELN,KAAK,CAAElB,OAAO,CAACkB,KAFV,CAGLC,WAAW,CAAEnB,OAAO,CAACmB,WAHhB,CAILC,eAAe,CAAEpB,OAAO,CAACoB,eAJpB,CA9B4B,2DAAH,kBAArBG,CAAAA,qBAAqB,2CAA3B,CAsCP;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMI,CAAAA,mBAAmB,2FAAG,2NACjCtC,IADiC,kDAC1B,EAD0B,CAEjCC,IAFiC,kDAE1B,CAF0B,CAGjCC,KAHiC,kDAGzB,EAHyB,CAIjCkB,EAJiC,4DAMfjB,CAAAA,KAAK,WAClBN,eADkB,4BACgBuB,EADhB,0BACmCpB,IADnC,kBACgDC,IADhD,EAGrB,CACEG,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAHqB,CANU,QAM3BM,GAN2B,mBAiB5BA,GAAG,CAACC,EAjBwB,mDAkBTD,CAAAA,GAAG,CAACE,IAAJ,EAlBS,SAkBzBC,SAlByB,qBAmBzB,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAnByB,iCAsBXN,CAAAA,GAAG,CAACE,IAAJ,EAtBW,SAsB3BC,OAtB2B,gBAuBjC4B,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0B7B,OAA1B,EACA;AACM8B,oBAzB2B,CAyBJ9B,OAAO,CAACiB,IAAR,CAAaX,GAAb,CAAiB,SAACmB,OAAD,CAAUjB,KAAV,wCACzCiB,OADyC,MAE5ChB,EAAE,CAAED,KAAK,CAAG,CAFgC,CAG5CkB,SAAS,CAAEvC,MAAM,CAACsC,OAAO,CAACC,SAAT,CAAN,CAA0BV,MAA1B,CAAiC,kBAAjC,CAHiC,CAI5CN,GAAG,CAAEe,OAAO,CAAChB,EAJ+B,IAAjB,CAzBI,kCAgC1B,CACLQ,IAAI,CAAEa,oBADD,CAELZ,KAAK,CAAElB,OAAO,CAACkB,KAFV,CAGLC,WAAW,CAAEnB,OAAO,CAACmB,WAHhB,CAILC,eAAe,CAAEpB,OAAO,CAACoB,eAJpB,CAhC0B,2DAAH,kBAAnBO,CAAAA,mBAAmB,2CAAzB,CAwCP;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMI,CAAAA,wBAAwB,2FAAG,gOACtC1C,IADsC,kDAC/B,EAD+B,CAEtCC,IAFsC,kDAE/B,CAF+B,CAGtCC,KAHsC,kDAG9B,EAH8B,CAItCkB,EAJsC,4DAMpBjB,CAAAA,KAAK,WAClBN,eADkB,4BACgBuB,EADhB,4BACqCpB,IADrC,kBACkDC,IADlD,EAGrB,CACEG,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYL,KADpB,CAHX,CAHqB,CANe,QAMhCM,GANgC,mBAiBjCA,GAAG,CAACC,EAjB6B,mDAkBdD,CAAAA,GAAG,CAACE,IAAJ,EAlBc,SAkB9BC,SAlB8B,qBAmB9B,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAnB8B,iCAqBhBN,CAAAA,GAAG,CAACE,IAAJ,EArBgB,SAqBhCC,OArBgC,gBAuBhCgC,yBAvBgC,CAuBJhC,OAAO,CAACiC,QAAR,CAAiB3B,GAAjB,CAAqB,SAACmB,OAAD,CAAUjB,KAAV,wCAClDiB,OADkD,MAErDhB,EAAE,CAAED,KAAK,CAAG,CAFyC,CAGrDkB,SAAS,CAAEvC,MAAM,CAACsC,OAAO,CAACC,SAAT,CAAN,CAA0BV,MAA1B,CAAiC,kBAAjC,CAH0C,CAIrDN,GAAG,CAAEe,OAAO,CAAChB,EAJwC,IAArB,CAvBI,kCA8B/B,CACLQ,IAAI,CAAEe,yBADD,CAELd,KAAK,CAAElB,OAAO,CAACkB,KAFV,CAGLC,WAAW,CAAEnB,OAAO,CAACmB,WAHhB,CAILC,eAAe,CAAEpB,OAAO,CAACoB,eAJpB,CA9B+B,2DAAH,kBAAxBW,CAAAA,wBAAwB,2CAA9B","sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\nimport moment from \"moment\";\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all userProfile in DIOM\r\n */\r\n\r\nexport const getuserprofile = async (size = 30, page = 1, token = \"\") => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/users?size=${size}&page=${page}`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  const userProfileData = resJson.users.map((element, index) => ({\r\n    ...element,\r\n    id: index + 1,\r\n    _id: element.id,\r\n    userName: element.fullName,\r\n    email: element.email,\r\n    MobilePhone: element.MobilePhone,\r\n    checkInTime: moment(element.checkInTime).format(\"YYYY-MM-DD \"),\r\n  }));\r\n  return {\r\n    data: userProfileData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of one user in DIOM\r\n */\r\n\r\nexport const getuserdetails = async (size = 30, page = 1, token = \"\", id) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/users/${id}?size=${size}&page=${page}`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  const userdetailsData = resJson;\r\n\r\n  return {\r\n    data: userdetailsData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of user active bookings in DIOM\r\n */\r\n\r\nexport const getUseractivebookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  id\r\n) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/admin-diom-bookings/${id}/active?size=${size}&page=${page}`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  // const userActivebookingsData = resJson.bookings.map((booking, index) => ({\r\n  const userActivebookingsData = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    createdAt: moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n  }));\r\n\r\n  return {\r\n    data: userActivebookingsData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of user past bookings in DIOM\r\n */\r\nexport const getUserPastBookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  id\r\n) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/bookings/users/${id}/history?size=${size}&page=${page}`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n\r\n  const resJson = await res.json();\r\n  console.log(\"resJson : \", resJson);\r\n  // const userPastBookingsData = resJson.bookings.map((booking, index) => ({\r\n  const userPastBookingsData = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    createdAt: moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n  }));\r\n\r\n  return {\r\n    data: userPastBookingsData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of one user in DIOM\r\n */\r\n\r\nexport const getUserScheduledBookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  id\r\n) => {\r\n  const res = await fetch(\r\n    `${DIOM_BASED_URLS}/bookings/users/${id}/scheduled?size=${size}&page=${page}`,\r\n\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n\r\n  const userScheduledBookingsData = resJson.bookings.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    createdAt: moment(booking.createdAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n  }));\r\n\r\n  return {\r\n    data: userScheduledBookingsData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}