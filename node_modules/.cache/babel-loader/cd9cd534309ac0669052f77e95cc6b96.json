{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tech sign\\\\Desktop\\\\xyz\\\\src\\\\pages\\\\Inventories\\\\ResourceType\\\\ResourceDetailed\\\\useResourceTypeDetail.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { DIOM_BASED_URLS } from \"../../../../config/url\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { useQueryClient, useQuery } from \"react-query\";\nimport { getHourlyDayRate, getlocationsresourceTypes, getResourcetypeResources, GetLocationfocusdest, getResourceResourceType } from \"../../../../APIS/resourceType\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UseResourceTypeDetail = () => {\n  _s();\n\n  var _Locationfocusdest$da, _resourcetypeResource, _getHourlydayrate$dat, _locationsresourceTyp;\n\n  let history = useHistory();\n  const QueryClient = useQueryClient();\n  const [error, setError] = useState(null);\n  const [resourceDetailes, setResourceDetailes] = useState([]);\n  const [resourceTypes, setResourceTypes] = useState([]);\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\n  const [modal_static, setModal_static] = useState(false);\n  const [loaded, setLoaded] = useState(false);\n  const [resourceTypeAddMoreBlock, setResourceTypeAddMoreBlock] = useState(false);\n  const [businesName, setBusinesName] = useState([]);\n  const [diomLocation, setDiomLocation] = useState([]);\n  const [prices, setPrices] = useState([]);\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [locationlabel, setLocationlabel] = useState([]);\n  const [vat, setVat] = useState([]);\n  const [enableEdit, setEnableEdit] = useState(false);\n  const [locationImgId, setLocationImgId] = useState(\"\");\n  const token = localStorage.getItem(\"Token\");\n  const {\n    id,\n    resourceTypeKey\n  } = useParams();\n\n  const handellocationeditfunc = (e, e_id) => {\n    setLocationEditTag(e);\n    setLocationImgId(e_id);\n  };\n\n  const locationTagEditButtonfunc = () => {\n    setEnableEdit(true);\n  };\n\n  const getresourcetypeStatusFunc = async e => {\n    await fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/togglevisibility`, {\n      method: \"PATCH\",\n      // redirect: \"follow\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        visibility: e\n      })\n    }).then(response => response.json()).then(response => {\n      if (!response.ok) {\n        var _response$error;\n\n        toast.success(response === null || response === void 0 ? void 0 : (_response$error = response.error) === null || _response$error === void 0 ? void 0 : _response$error.message);\n      } else {\n        toast.success(response.message);\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } // console.log(\"i am \",response);\n\n    }); //   // .catch(error => { console.log('request failed', error); });\n  }; //   const response = await fetch(\n  //     `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/togglevisibility`,\n  //     {\n  //       method: \"PATCH\",\n  //       // redirect: \"follow\",\n  //       headers: {\n  //         Accept: \"application/json, text/plain\",\n  //         \"Content-Type\": \"application/json;charset=UTF-8\",\n  //         Authorization: \"Bearer \" + token,\n  //       },\n  //       body: JSON.stringify({\n  //         visibility: e,\n  //       }),\n  //     }\n  //   );\n  //   if (!response.ok) {\n  //     console.log(\"THis->>>>\", response.text())\n  //     const message = `An error has occured: ${response.statusText}`;\n  //     toast.error(response?.error?.message)\n  //     throw new Error(message);\n  //   } else {\n  //     console.log(\"resource ,\",response)\n  //     toast.success(response.message);\n  //     // toast.error(response.statusText)\n  //     QueryClient.invalidateQueries(\"resourcetypeResources\");\n  //   }\n  // };\n\n\n  function Offsymbol(text) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        fontSize: 12,\n        color: \"#fff\",\n        paddingRight: 2\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n\n  function OnSymbol(text) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        fontSize: 12,\n        color: \"#fff\",\n        paddingRight: 2\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this);\n  }\n\n  const formatBytes = function (bytes) {\n    let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024;\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  };\n\n  const handleAcceptedFiles = files => {\n    files.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file),\n      htmlFormattedSize: formatBytes(file.size)\n    }));\n    setSelectedFiles(files);\n  };\n\n  const removeBodyCss = () => {\n    document.body.classList.add(\"no_padding\");\n  };\n\n  const tog_static = () => {\n    setModal_static(!modal_static);\n    removeBodyCss();\n  };\n\n  const descriptionvaulefunc = event => {\n    setResourceDetailes(prev => ({ ...prev,\n      description: event.target.value\n    }));\n  };\n\n  const perminutpricfunc = event => {\n    setResourceDetailes(prev => ({ ...prev,\n      perMinuteMinutePrice: event.target.value\n    }));\n  };\n\n  const pageOptions = {\n    sizePerPage: 10,\n    totalSize: resourceTypes.length,\n    custom: true\n  };\n\n  const uploadFile = () => {\n    if (selectedFiles <= 1 || locationlabel.length <= 1) {\n      return toast.error(\" Please fill all fields\");\n    } else {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", `Bearer ${localStorage.getItem(\"Token\")}`);\n      var formdata = new FormData();\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].name);\n      formdata.append(\"locationName\", locationlabel);\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: formdata,\n        redirect: \"follow\"\n      };\n      fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/uploadimages`, requestOptions).then(response => response.json()).then(result => {\n        if (result[0].statusCode === 200) {\n          toast.success(\"Image uplaoded\");\n          setSelectedFiles([]);\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\n        } else if (result[0].statusCode === 204) {\n          toast.success(\"Image uplaoded\");\n          setSelectedFiles([]);\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\n        } else {\n          toast.error(\" Something went wrong\");\n        }\n\n        setModal_static(false);\n        setResourceTypeAddMoreBlock(false);\n        getallresources();\n      }).catch(error => console.log(\"error\", error));\n    }\n  };\n\n  const locationedittagfunc = () => {\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${locationImgId}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        locationName: locationEditTag\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else if (result3.status === 204) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setEnableEdit(false);\n      setModal_static(false);\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const updatelocationbranddetails = () => {\n    // console.log(\n    //   \" resourceDetailes.perMinuteMinutePrice : \",\n    //   resourceDetailes.perMinuteMinutePrice\n    // );\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        isAvailableInWnpl: resourceDetailes.isAvailableInWnpl,\n        description: resourceDetailes.description,\n        perMinuteMinutePrice: Number(resourceDetailes.perMinuteMinutePrice)\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Successfully Updated\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else if (result3.status === 204) {\n        toast.success(\"Successfully Updated\");\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setModal_static(false); // setLoaded(false);\n    }).catch(error => console.log(\"error\", error));\n  };\n\n  const imagedeletedfunc = _id => {\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(result3 => {\n      toast.success(\"Deleted Successfully\");\n      QueryClient.invalidateQueries(\"resourcetypeResources\");\n    }).catch(error => toast.error(\" Something went wrong\"));\n  }; // *************\n\n\n  const resourceResourcetypesdata = useQuery([\"resourceResourcetypdata\", id], () => getResourceResourceType(token, id, history));\n  const resourceResourcetypedata = resourceResourcetypesdata.data; // *************\n\n  const getResourceByResourceType = async (id, token) => {\n    return resourceResourcetypedata.json();\n  }; // *************\n\n\n  const Locationfocusdest = useQuery([\"Locationfocusdest\", id], () => GetLocationfocusdest(token, resourceTypeKey, history));\n  const Locationfocusdestdata = Locationfocusdest === null || Locationfocusdest === void 0 ? void 0 : (_Locationfocusdest$da = Locationfocusdest.data) === null || _Locationfocusdest$da === void 0 ? void 0 : _Locationfocusdest$da.data; // *************\n\n  const GetLocationWithFocusDeskfunc = async () => {\n    setBusinesName(Locationfocusdestdata.locations);\n  }; // *************\n\n\n  const resourcetypeResources = useQuery([\"resourcetypeResources\", id], () => getResourcetypeResources(token, id, history));\n  const resourcetypeResourcesdata = resourcetypeResources === null || resourcetypeResources === void 0 ? void 0 : (_resourcetypeResource = resourcetypeResources.data) === null || _resourcetypeResource === void 0 ? void 0 : _resourcetypeResource.data; // console.log(\"resourcetypeResourcesdata ====> \",resourcetypeResourcesdata?.data)\n  // *************\n\n  const getallresources = async () => {\n    setResourceDetailes(resourcetypeResourcesdata);\n  }; // *************\n\n\n  const getHourlydayrate = useQuery([\"gethourlydayrate\", id], () => getHourlyDayRate(token, id, history));\n  const getHourlydayrateData = getHourlydayrate === null || getHourlydayrate === void 0 ? void 0 : (_getHourlydayrate$dat = getHourlydayrate.data) === null || _getHourlydayrate$dat === void 0 ? void 0 : _getHourlydayrate$dat.data; // *************\n\n  const gethourlyDayRateFunc = async () => {\n    const Price = getHourlydayrateData.data.resourceTypePrices.map((element, index) => ({\n      name: element.Name,\n      price: element.Price\n    }));\n    setPrices(Price);\n    const Vat = getHourlydayrateData.data.vatPrice.map((element, index) => ({\n      Vat: element.Rate\n    }));\n    setVat(Vat);\n  }; // *************\n\n\n  const locationsresourceTypes = useQuery([\"locationsresourceTypes\", id], () => getlocationsresourceTypes(token, id, history));\n  const locationsresourceTypesdata = locationsresourceTypes === null || locationsresourceTypes === void 0 ? void 0 : (_locationsresourceTyp = locationsresourceTypes.data) === null || _locationsresourceTyp === void 0 ? void 0 : _locationsresourceTyp.data; // *************\n\n  const getalllocationsfunc = async () => {\n    const mapdata = locationsresourceTypesdata.map((element, index) => ({\n      value: element.id,\n      label: element.Name\n    }));\n    setDiomLocation([{\n      label: \"--All Locations\",\n      options: [// {\n      //   value: \"All\",\n      //   label: \"All\",\n      // },\n      ...mapdata]\n    }]);\n  };\n\n  const getresoucresbyid = () => {\n    const mapdata = resourceResourcetypedata.data.map((element, index) => ({\n      ID: index + 1,\n      _id: element.id,\n      ResourceType: element.Name,\n      ResourceTypeNames: element.ResourceTypeName\n    }));\n    setResourceTypes(mapdata);\n  };\n\n  const {\n    status,\n    isLoading,\n    data\n  } = useQuery(\"resources\", async () => {\n    const resourcesdata = data;\n    const response = await fetch(`${DIOM_BASED_URLS}/admin-resources-inventories?filter={\"limit\": 10, \"skip\":0, \"where\" : { \"ResourceTypeId\" : ${id}}}`, {\n      method: \"GET\",\n      redirect: \"follow\",\n      headers: {\n        Authorization: \"Bearer \" + token\n      }\n    });\n    return response.json();\n  });\n  useEffect(() => {\n    (async () => {\n      resourcetypeResourcesdata && (await getallresources());\n      locationsresourceTypesdata && (await getalllocationsfunc());\n      resourceResourcetypedata && (await getresoucresbyid());\n      Locationfocusdestdata && (await GetLocationWithFocusDeskfunc());\n      getHourlydayrateData && (await gethourlyDayRateFunc()); // resourceResourcetypesdata && (await getresoucresbyid());\n    })();\n  }, [Locationfocusdestdata, resourcetypeResourcesdata, getHourlydayrateData, locationsresourceTypesdata, resourceResourcetypedata]);\n  return {\n    isLoading,\n    data,\n    error,\n    setError,\n    resourceDetailes,\n    setResourceDetailes,\n    resourceTypes,\n    setResourceTypes,\n    locationEditTag,\n    setLocationEditTag,\n    modal_static,\n    setModal_static,\n    loaded,\n    setLoaded,\n    OnSymbol,\n    Offsymbol,\n    getresourcetypeStatusFunc,\n    resourceTypeAddMoreBlock,\n    setResourceTypeAddMoreBlock,\n    businesName,\n    setBusinesName,\n    diomLocation,\n    setDiomLocation,\n    prices,\n    setPrices,\n    selectedFiles,\n    setSelectedFiles,\n    locationlabel,\n    setLocationlabel,\n    vat,\n    setVat,\n    enableEdit,\n    setEnableEdit,\n    locationImgId,\n    setLocationImgId,\n    getResourceByResourceType,\n    handellocationeditfunc,\n    locationTagEditButtonfunc,\n    uploadFile,\n    handleAcceptedFiles,\n    tog_static,\n    descriptionvaulefunc,\n    perminutpricfunc,\n    GetLocationWithFocusDeskfunc,\n    getallresources,\n    updatelocationbranddetails,\n    gethourlyDayRateFunc,\n    imagedeletedfunc,\n    getalllocationsfunc,\n    locationedittagfunc,\n    resourcetypeResourcesdata,\n    pageOptions\n  };\n};\n\n_s(UseResourceTypeDetail, \"ApRplT+Yn0rdqTsjoreEaru2tgQ=\", false, function () {\n  return [useHistory, useQueryClient, useParams, useQuery, useQuery, useQuery, useQuery, useQuery, useQuery];\n});\n\n_c = UseResourceTypeDetail;\nexport default UseResourceTypeDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseResourceTypeDetail\");","map":{"version":3,"names":["useState","useEffect","DIOM_BASED_URLS","useHistory","useParams","toast","useQueryClient","useQuery","getHourlyDayRate","getlocationsresourceTypes","getResourcetypeResources","GetLocationfocusdest","getResourceResourceType","UseResourceTypeDetail","history","QueryClient","error","setError","resourceDetailes","setResourceDetailes","resourceTypes","setResourceTypes","locationEditTag","setLocationEditTag","modal_static","setModal_static","loaded","setLoaded","resourceTypeAddMoreBlock","setResourceTypeAddMoreBlock","businesName","setBusinesName","diomLocation","setDiomLocation","prices","setPrices","selectedFiles","setSelectedFiles","locationlabel","setLocationlabel","vat","setVat","enableEdit","setEnableEdit","locationImgId","setLocationImgId","token","localStorage","getItem","id","resourceTypeKey","handellocationeditfunc","e","e_id","locationTagEditButtonfunc","getresourcetypeStatusFunc","fetch","method","headers","Accept","Authorization","body","JSON","stringify","visibility","then","response","json","ok","success","message","invalidateQueries","Offsymbol","text","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","htmlFormattedSize","size","removeBodyCss","document","classList","add","tog_static","descriptionvaulefunc","event","prev","description","target","value","perminutpricfunc","perMinuteMinutePrice","pageOptions","sizePerPage","totalSize","length","custom","uploadFile","myHeaders","Headers","append","formdata","FormData","name","requestOptions","redirect","result","statusCode","getallresources","catch","console","locationedittagfunc","locationName","result3","status","updatelocationbranddetails","isAvailableInWnpl","Number","imagedeletedfunc","_id","resourceResourcetypesdata","resourceResourcetypedata","data","getResourceByResourceType","Locationfocusdest","Locationfocusdestdata","GetLocationWithFocusDeskfunc","locations","resourcetypeResources","resourcetypeResourcesdata","getHourlydayrate","getHourlydayrateData","gethourlyDayRateFunc","Price","resourceTypePrices","element","index","Name","price","Vat","vatPrice","Rate","locationsresourceTypes","locationsresourceTypesdata","getalllocationsfunc","mapdata","label","options","getresoucresbyid","ID","ResourceType","ResourceTypeNames","ResourceTypeName","isLoading","resourcesdata"],"sources":["C:/Users/tech sign/Desktop/xyz/src/pages/Inventories/ResourceType/ResourceDetailed/useResourceTypeDetail.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { DIOM_BASED_URLS } from \"../../../../config/url\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useQueryClient, useQuery } from \"react-query\";\r\n\r\nimport {\r\n  getHourlyDayRate,\r\n  getlocationsresourceTypes,\r\n  getResourcetypeResources,\r\n  GetLocationfocusdest,\r\n  getResourceResourceType,\r\n} from \"../../../../APIS/resourceType\";\r\nconst UseResourceTypeDetail = () => {\r\n  let history = useHistory();\r\n  const QueryClient = useQueryClient();\r\n  const [error, setError] = useState(null);\r\n  const [resourceDetailes, setResourceDetailes] = useState([]);\r\n  const [resourceTypes, setResourceTypes] = useState([]);\r\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\r\n  const [modal_static, setModal_static] = useState(false);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [resourceTypeAddMoreBlock, setResourceTypeAddMoreBlock] =\r\n    useState(false);\r\n  const [businesName, setBusinesName] = useState([]);\r\n  const [diomLocation, setDiomLocation] = useState([]);\r\n  const [prices, setPrices] = useState([]);\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [locationlabel, setLocationlabel] = useState([]);\r\n  const [vat, setVat] = useState([]);\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n  const [locationImgId, setLocationImgId] = useState(\"\");\r\n  const token = localStorage.getItem(\"Token\");\r\n  const { id, resourceTypeKey } = useParams();\r\n\r\n  const handellocationeditfunc = (e, e_id) => {\r\n    setLocationEditTag(e);\r\n    setLocationImgId(e_id);\r\n  };\r\n  const locationTagEditButtonfunc = () => {\r\n    setEnableEdit(true);\r\n  };\r\n  const getresourcetypeStatusFunc = async (e) => {\r\n\r\n    await fetch(\r\n        `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/togglevisibility`,\r\n        {\r\n          method: \"PATCH\",\r\n          // redirect: \"follow\",\r\n  \r\n          headers: {\r\n            Accept: \"application/json, text/plain\",\r\n            \"Content-Type\": \"application/json;charset=UTF-8\",\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n          body: JSON.stringify({\r\n            visibility: e,\r\n          }),\r\n        }\r\n      ).then(response=>response.json())\r\n      .then((response)=>{\r\n        if (!response.ok) {\r\n          toast.success(response?.error?.message);\r\n        }\r\n        else {\r\n          \r\n             toast.success(response.message);\r\n      QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        }\r\n        // console.log(\"i am \",response);\r\n      })\r\n    //   // .catch(error => { console.log('request failed', error); });\r\n    }\r\n  //   const response = await fetch(\r\n  //     `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/togglevisibility`,\r\n  //     {\r\n  //       method: \"PATCH\",\r\n  //       // redirect: \"follow\",\r\n\r\n  //       headers: {\r\n  //         Accept: \"application/json, text/plain\",\r\n  //         \"Content-Type\": \"application/json;charset=UTF-8\",\r\n  //         Authorization: \"Bearer \" + token,\r\n  //       },\r\n  //       body: JSON.stringify({\r\n  //         visibility: e,\r\n  //       }),\r\n  //     }\r\n  //   );\r\n    \r\n\r\n  //   if (!response.ok) {\r\n  //     console.log(\"THis->>>>\", response.text())\r\n  //     const message = `An error has occured: ${response.statusText}`;\r\n  //     toast.error(response?.error?.message)\r\n  //     throw new Error(message);\r\n  //   } else {\r\n  //     console.log(\"resource ,\",response)\r\n  //     toast.success(response.message);\r\n  //     // toast.error(response.statusText)\r\n\r\n  //     QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n  //   }\r\n  // };\r\n\r\n  function Offsymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function OnSymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatBytes = (bytes, decimals = 2) => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  };\r\n  const handleAcceptedFiles = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles(files);\r\n  };\r\n\r\n  const removeBodyCss = () => {\r\n    document.body.classList.add(\"no_padding\");\r\n  };\r\n  const tog_static = () => {\r\n    setModal_static(!modal_static);\r\n    removeBodyCss();\r\n  };\r\n\r\n  const descriptionvaulefunc = (event) => {\r\n    setResourceDetailes((prev) => ({\r\n      ...prev,\r\n      description: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const perminutpricfunc = (event) => {\r\n    setResourceDetailes((prev) => ({\r\n      ...prev,\r\n      perMinuteMinutePrice: event.target.value,\r\n    }));\r\n  };\r\n  const pageOptions = {\r\n    sizePerPage: 10,\r\n    totalSize: resourceTypes.length,\r\n    custom: true,\r\n  };\r\n\r\n  const uploadFile = () => {\r\n    if (selectedFiles <= 1 || locationlabel.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].name);\r\n      formdata.append(\"locationName\", locationlabel);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/uploadimages`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          if (result[0].statusCode === 200) {\r\n            toast.success(\"Image uplaoded\");\r\n            setSelectedFiles([]);\r\n            QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n          } else if (result[0].statusCode === 204) {\r\n            toast.success(\"Image uplaoded\");\r\n            setSelectedFiles([]);\r\n            QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n          setModal_static(false);\r\n          setResourceTypeAddMoreBlock(false);\r\n          getallresources();\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    }\r\n  };\r\n\r\n  const locationedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${locationImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationName: locationEditTag,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const updatelocationbranddetails = () => {\r\n    // console.log(\r\n    //   \" resourceDetailes.perMinuteMinutePrice : \",\r\n    //   resourceDetailes.perMinuteMinutePrice\r\n    // );\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}`,\r\n\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          isAvailableInWnpl: resourceDetailes.isAvailableInWnpl,\r\n          description: resourceDetailes.description,\r\n          perMinuteMinutePrice: Number(resourceDetailes.perMinuteMinutePrice),\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Successfully Updated\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Successfully Updated\");\r\n          QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setModal_static(false);\r\n        // setLoaded(false);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  const imagedeletedfunc = (_id) => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/${id}/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"resourcetypeResources\");\r\n      })\r\n\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  // *************\r\n\r\n  const resourceResourcetypesdata = useQuery(\r\n    [\"resourceResourcetypdata\", id],\r\n    () => getResourceResourceType(token, id,history)\r\n  );\r\n  const resourceResourcetypedata = resourceResourcetypesdata.data;\r\n\r\n  // *************\r\n\r\n  const getResourceByResourceType = async (id, token) => {\r\n    return resourceResourcetypedata.json();\r\n  };\r\n\r\n  // *************\r\n\r\n  const Locationfocusdest = useQuery([\"Locationfocusdest\", id], () =>\r\n    GetLocationfocusdest(token, resourceTypeKey,history)\r\n  );\r\n  \r\n  const Locationfocusdestdata = Locationfocusdest?.data?.data;\r\n  \r\n\r\n  // *************\r\n\r\n  const GetLocationWithFocusDeskfunc = async () => {\r\n    setBusinesName(Locationfocusdestdata.locations);\r\n  };\r\n\r\n  // *************\r\n\r\n  const resourcetypeResources = useQuery([\"resourcetypeResources\", id], () =>\r\n    getResourcetypeResources(token, id,history)\r\n  );\r\n  \r\n  const resourcetypeResourcesdata = resourcetypeResources?.data?.data;\r\n  // console.log(\"resourcetypeResourcesdata ====> \",resourcetypeResourcesdata?.data)\r\n\r\n  // *************\r\n\r\n  const getallresources = async () => {\r\n    setResourceDetailes(resourcetypeResourcesdata);\r\n  };\r\n\r\n  // *************\r\n\r\n  const getHourlydayrate = useQuery([\"gethourlydayrate\", id], () =>\r\n    getHourlyDayRate(token, id,history)\r\n  );\r\n  const getHourlydayrateData = getHourlydayrate?.data?.data;\r\n\r\n  // *************\r\n  const gethourlyDayRateFunc = async () => {\r\n    const Price = getHourlydayrateData.data.resourceTypePrices.map(\r\n      (element, index) => ({\r\n        name: element.Name,\r\n        price: element.Price,\r\n      })\r\n    );\r\n    setPrices(Price);\r\n\r\n    const Vat = getHourlydayrateData.data.vatPrice.map((element, index) => ({\r\n      Vat: element.Rate,\r\n    }));\r\n\r\n    setVat(Vat);\r\n  };\r\n\r\n  // *************\r\n  const locationsresourceTypes = useQuery([\"locationsresourceTypes\", id], () =>\r\n    getlocationsresourceTypes(token, id,history)\r\n  );\r\n  const locationsresourceTypesdata = locationsresourceTypes?.data?.data;\r\n  // *************\r\n  const getalllocationsfunc = async () => {\r\n    const mapdata = locationsresourceTypesdata.map((element, index) => ({\r\n      value: element.id,\r\n      label: element.Name,\r\n    }));\r\n\r\n    setDiomLocation([\r\n      {\r\n        label: \"--All Locations\",\r\n        options: [\r\n          // {\r\n          //   value: \"All\",\r\n          //   label: \"All\",\r\n          // },\r\n          ...mapdata,\r\n        ],\r\n      },\r\n    ]);\r\n  };\r\n  const getresoucresbyid = () => {\r\n    const mapdata = resourceResourcetypedata.data.map((element, index) => ({\r\n      ID: index + 1,\r\n      _id: element.id,\r\n      ResourceType: element.Name,\r\n      ResourceTypeNames: element.ResourceTypeName,\r\n    }));\r\n    setResourceTypes(mapdata);\r\n  };\r\n\r\n  const { status, isLoading, data } = useQuery(\"resources\", async () => {\r\n    const resourcesdata = data;\r\n    const response = await fetch(\r\n      `${DIOM_BASED_URLS}/admin-resources-inventories?filter={\"limit\": 10, \"skip\":0, \"where\" : { \"ResourceTypeId\" : ${id}}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    );\r\n    return response.json();\r\n  });\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      resourcetypeResourcesdata && (await getallresources());\r\n      locationsresourceTypesdata && (await getalllocationsfunc());\r\n      resourceResourcetypedata && (await getresoucresbyid());\r\n      Locationfocusdestdata && (await GetLocationWithFocusDeskfunc());\r\n      getHourlydayrateData && (await gethourlyDayRateFunc());\r\n      // resourceResourcetypesdata && (await getresoucresbyid());\r\n    })();\r\n  }, [\r\n    Locationfocusdestdata,\r\n    resourcetypeResourcesdata,\r\n    getHourlydayrateData,\r\n    locationsresourceTypesdata,\r\n    resourceResourcetypedata,\r\n  ]);\r\n\r\n  return {\r\n    isLoading,\r\n    data,\r\n    error,\r\n    setError,\r\n    resourceDetailes,\r\n    setResourceDetailes,\r\n    resourceTypes,\r\n    setResourceTypes,\r\n    locationEditTag,\r\n    setLocationEditTag,\r\n    modal_static,\r\n    setModal_static,\r\n    loaded,\r\n    setLoaded,\r\n    OnSymbol,\r\n    Offsymbol,\r\n    getresourcetypeStatusFunc,\r\n    resourceTypeAddMoreBlock,\r\n    setResourceTypeAddMoreBlock,\r\n    businesName,\r\n    setBusinesName,\r\n    diomLocation,\r\n    setDiomLocation,\r\n    prices,\r\n    setPrices,\r\n    selectedFiles,\r\n    setSelectedFiles,\r\n    locationlabel,\r\n    setLocationlabel,\r\n    vat,\r\n    setVat,\r\n    enableEdit,\r\n    setEnableEdit,\r\n    locationImgId,\r\n    setLocationImgId,\r\n    getResourceByResourceType,\r\n    handellocationeditfunc,\r\n    locationTagEditButtonfunc,\r\n    uploadFile,\r\n    handleAcceptedFiles,\r\n    tog_static,\r\n    descriptionvaulefunc,\r\n    perminutpricfunc,\r\n    GetLocationWithFocusDeskfunc,\r\n    getallresources,\r\n    updatelocationbranddetails,\r\n    gethourlyDayRateFunc,\r\n    imagedeletedfunc,\r\n    getalllocationsfunc,\r\n    locationedittagfunc,\r\n    resourcetypeResourcesdata,\r\n    pageOptions,\r\n  };\r\n};\r\nexport default UseResourceTypeDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}