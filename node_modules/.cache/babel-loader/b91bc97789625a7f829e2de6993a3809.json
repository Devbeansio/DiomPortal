{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\tech sign\\\\Desktop\\\\diom (1)\\\\diom\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{DIOM_BASED_URLS}from\"../config/url\";/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */export var getResources=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(size,page){var _resJson$hasNextPage,_resJson$hasPreviousP;var token,applyFilter,filters,res,_resJson,resJson,resourcesData,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=_args.length>2&&_args[2]!==undefined?_args[2]:\"\";applyFilter=_args.length>3&&_args[3]!==undefined?_args[3]:false;filters=_args.length>4&&_args[4]!==undefined?_args[4]:{};_context.next=5;return fetch(!applyFilter?\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories?size=\").concat(size,\"&page=\").concat(page):\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories?size=\").concat(size,\"&page=\").concat(page,\"&filter={\\\"where\\\":\").concat(filters,\"}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 5:res=_context.sent;if(res.ok){_context.next=11;break;}_context.next=9;return res.json();case 9:_resJson=_context.sent;throw new Error(_resJson.error.message);case 11:_context.next=13;return res.json();case 13:resJson=_context.sent;resourcesData=resJson.data.map(function(element,index){return{id:index+1,_id:element.id,Resource:element.Name,Location:element.BusinessName,ResourceType:element.ResourceTypeName};});return _context.abrupt(\"return\",{data:resourcesData.length>0?resourcesData:[],total:resJson?resJson.total:0,hasNextPage:(_resJson$hasNextPage=resJson.hasNextPage)!==null&&_resJson$hasNextPage!==void 0?_resJson$hasNextPage:false,hasPreviousPage:(_resJson$hasPreviousP=resJson.hasPreviousPage)!==null&&_resJson$hasPreviousP!==void 0?_resJson$hasPreviousP:false});case 16:case\"end\":return _context.stop();}}},_callee);}));return function getResources(_x,_x2){return _ref.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */export var getSearchedResources=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(token){var res,_resJson2,resJson,resourcessearchedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 2:res=_context2.sent;if(res.ok){_context2.next=8;break;}_context2.next=6;return res.json();case 6:_resJson2=_context2.sent;throw new Error(_resJson2.error.message);case 8:_context2.next=10;return res.json();case 10:resJson=_context2.sent;resourcessearchedData=resJson.data.map(function(element,index){return{id:index+1,_id:element.id,Resource:element.Name,Location:element.BusinessName,ResourceType:element.ResourceTypeName};});return _context2.abrupt(\"return\",{data:resourcessearchedData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 13:case\"end\":return _context2.stop();}}},_callee2);}));return function getSearchedResources(_x3){return _ref2.apply(this,arguments);};}();/**\r\n *\r\n * @param {ResourceId} id\r\n * @param {JWT} token\r\n * @returns  object of a single resource\r\n */export var getResource=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id,token){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories/\").concat(id),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 2:_context3.next=4;return _context3.sent.json();case 4:return _context3.abrupt(\"return\",_context3.sent);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getResource(_x4,_x5){return _ref3.apply(this,arguments);};}();","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/diom (1)/diom/src/APIS/resources.js"],"names":["DIOM_BASED_URLS","getResources","size","page","token","applyFilter","filters","fetch","method","redirect","headers","Authorization","res","ok","json","resJson","Error","error","message","resourcesData","data","map","element","index","id","_id","Resource","Name","Location","BusinessName","ResourceType","ResourceTypeName","length","total","hasNextPage","hasPreviousPage","getSearchedResources","resourcessearchedData","getResource"],"mappings":"yQAAA,OAASA,eAAT,KAAgC,eAAhC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMC,CAAAA,YAAY,0FAAG,iBAC1BC,IAD0B,CAE1BC,IAF0B,kPAG1BC,KAH0B,+CAGlB,EAHkB,CAI1BC,WAJ0B,+CAIZ,KAJY,CAK1BC,OAL0B,+CAKhB,EALgB,uBAQRC,CAAAA,KAAK,CACrB,CAACF,WAAD,WACOL,eADP,8CAC2DE,IAD3D,kBACwEC,IADxE,YAEOH,eAFP,8CAE2DE,IAF3D,kBAEwEC,IAFxE,+BAEgGG,OAFhG,KADqB,CAIrB,CACEE,MAAM,CAAE,KADV,CAEEC,QAAQ,CAAE,QAFZ,CAGEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYP,KADpB,CAHX,CAJqB,CARG,QAQpBQ,GARoB,kBAqBrBA,GAAG,CAACC,EArBiB,gDAsBFD,CAAAA,GAAG,CAACE,IAAJ,EAtBE,QAsBlBC,QAtBkB,oBAuBlB,IAAIC,CAAAA,KAAJ,CAAUD,QAAO,CAACE,KAAR,CAAcC,OAAxB,CAvBkB,gCAyBJN,CAAAA,GAAG,CAACE,IAAJ,EAzBI,SAyBpBC,OAzBoB,eA0BpBI,aA1BoB,CA0BJJ,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,SAACC,OAAD,CAAUC,KAAV,QAAqB,CAC1DC,EAAE,CAAED,KAAK,CAAG,CAD8C,CAE1DE,GAAG,CAAEH,OAAO,CAACE,EAF6C,CAG1DE,QAAQ,CAAEJ,OAAO,CAACK,IAHwC,CAI1DC,QAAQ,CAAEN,OAAO,CAACO,YAJwC,CAK1DC,YAAY,CAAER,OAAO,CAACS,gBALoC,CAArB,EAAjB,CA1BI,iCAiCnB,CACLX,IAAI,CAAED,aAAa,CAACa,MAAd,CAAuB,CAAvB,CAA2Bb,aAA3B,CAA2C,EAD5C,CAELc,KAAK,CAAElB,OAAO,CAAGA,OAAO,CAACkB,KAAX,CAAmB,CAF5B,CAGLC,WAAW,uBAAEnB,OAAO,CAACmB,WAAV,6DAAyB,KAH/B,CAILC,eAAe,wBAAEpB,OAAO,CAACoB,eAAV,+DAA6B,KAJvC,CAjCmB,yDAAH,kBAAZlC,CAAAA,YAAY,gDAAlB,CAyCP;AACA;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAMmC,CAAAA,oBAAoB,2FAAG,kBAAOhC,KAAP,6LAChBG,CAAAA,KAAK,WAAIP,eAAJ,iCAAmD,CACxEQ,MAAM,CAAE,KADgE,CAExEC,QAAQ,CAAE,QAF8D,CAGxEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYP,KADpB,CAH+D,CAAnD,CADW,QAC5BQ,GAD4B,mBAS7BA,GAAG,CAACC,EATyB,iDAUVD,CAAAA,GAAG,CAACE,IAAJ,EAVU,QAU1BC,SAV0B,qBAW1B,IAAIC,CAAAA,KAAJ,CAAUD,SAAO,CAACE,KAAR,CAAcC,OAAxB,CAX0B,gCAaZN,CAAAA,GAAG,CAACE,IAAJ,EAbY,SAa5BC,OAb4B,gBAc5BsB,qBAd4B,CAcJtB,OAAO,CAACK,IAAR,CAAaC,GAAb,CAAiB,SAACC,OAAD,CAAUC,KAAV,QAAqB,CAClEC,EAAE,CAAED,KAAK,CAAG,CADsD,CAElEE,GAAG,CAAEH,OAAO,CAACE,EAFqD,CAGlEE,QAAQ,CAAEJ,OAAO,CAACK,IAHgD,CAIlEC,QAAQ,CAAEN,OAAO,CAACO,YAJgD,CAKlEC,YAAY,CAAER,OAAO,CAACS,gBAL4C,CAArB,EAAjB,CAdI,kCAqB3B,CACLX,IAAI,CAAEiB,qBADD,CAELJ,KAAK,CAAElB,OAAO,CAACkB,KAFV,CAGLC,WAAW,CAAEnB,OAAO,CAACmB,WAHhB,CAILC,eAAe,CAAEpB,OAAO,CAACoB,eAJpB,CArB2B,2DAAH,kBAApBC,CAAAA,oBAAoB,8CAA1B,CA6BP;AACA;AACA;AACA;AACA;AACA,GACA,MAAO,IAAME,CAAAA,WAAW,2FAAG,kBAAOd,EAAP,CAAWpB,KAAX,6IAEjBG,CAAAA,KAAK,WAAIP,eAAJ,yCAAmDwB,EAAnD,EAAyD,CAClEhB,MAAM,CAAE,KAD0D,CAElEC,QAAQ,CAAE,QAFwD,CAGlEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYP,KADpB,CAHyD,CAAzD,CAFY,+CASvBU,IATuB,mHAAH,kBAAXwB,CAAAA,WAAW,kDAAjB","sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */\r\nexport const getResources = async (\r\n  size,\r\n  page,\r\n  token = \"\",\r\n  applyFilter = false,\r\n  filters = {}\r\n) => {\r\n  // console.log(\"page : \", page);\r\n  const res = await fetch(\r\n    !applyFilter\r\n      ? `${DIOM_BASED_URLS}/admin-resources-inventories?size=${size}&page=${page}`\r\n      : `${DIOM_BASED_URLS}/admin-resources-inventories?size=${size}&page=${page}&filter={\"where\":${filters}}`,\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  const resourcesData = resJson.data.map((element, index) => ({\r\n    id: index + 1,\r\n    _id: element.id,\r\n    Resource: element.Name,\r\n    Location: element.BusinessName,\r\n    ResourceType: element.ResourceTypeName,\r\n  }));\r\n  return {\r\n    data: resourcesData.length > 0 ? resourcesData : [],\r\n    total: resJson ? resJson.total : 0,\r\n    hasNextPage: resJson.hasNextPage ?? false,\r\n    hasPreviousPage: resJson.hasPreviousPage ?? false,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */\r\nexport const getSearchedResources = async (token) => {\r\n  const res = await fetch(`${DIOM_BASED_URLS}/admin-resources-inventories`, {\r\n    method: \"GET\",\r\n    redirect: \"follow\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  const resourcessearchedData = resJson.data.map((element, index) => ({\r\n    id: index + 1,\r\n    _id: element.id,\r\n    Resource: element.Name,\r\n    Location: element.BusinessName,\r\n    ResourceType: element.ResourceTypeName,\r\n  }));\r\n  return {\r\n    data: resourcessearchedData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param {ResourceId} id\r\n * @param {JWT} token\r\n * @returns  object of a single resource\r\n */\r\nexport const getResource = async (id, token) => {\r\n  return await (\r\n    await fetch(`${DIOM_BASED_URLS}/admin-resources-inventories/${id}`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n  ).json();\r\n};\r\n"]},"metadata":{},"sourceType":"module"}