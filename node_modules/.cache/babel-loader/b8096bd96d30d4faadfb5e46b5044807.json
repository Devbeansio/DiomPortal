{"ast":null,"code":"import _asyncToGenerator from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"D:\\\\diom working project\\\\staging\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from\"react\";import{useMutation,useQuery}from\"react-query\";// import { getLocations } from \"../../APIS\";\nimport{useSnackbar}from\"notistack\";import moment from\"moment\";import{getNewreports,getPastreports,getreportLocationBrand,getreportLocations,getResourcetypereports}from\"../../APIS/reports\";import{getUserByProfession}from\"../../APIS/userProfle\";import{useAllDataQuery,usePaginatedQuery}from\"../../hooks/query\";import{DIOM_BASED_URLS}from\"../../config/url\";import{toast}from\"react-toastify\";import{exportApiFunc}from\"../../APIS/reports\";// const exportApiFunc =( requestOptions,enqueueSnackbar) => {\n// fetch(`${DIOM_BASED_URLS}/reports`, requestOptions\n//     )\n// }\nvar UseReports=function UseReports(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var token=localStorage.getItem(\"Token\");var providerRef=React.useRef();// const queryClient = new QueryClient();\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),reportFinalValues=_useState2[0],setreportFinalValues=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),reportFinalLabels=_useState4[0],setReportFinalLabels=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),categoryDropDown=_useState6[0],setCategoryDropDown=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),locationApplyFilter=_useState10[0],setLocationApplyFilter=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),resourcetypeApplyFilter=_useState12[0],setResourcetypeApplyFilter=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),reportTypeValues=_useState14[0],setReportTypeValues=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),userDropDownVisibility=_useState16[0],setUserDropDownVisibility=_useState16[1];var _useMutation=useMutation(exportApiFunc),mutate=_useMutation.mutate,data=_useMutation.data,error=_useMutation.error,isError=_useMutation.isError,isIdle=_useMutation.isIdle,isLoading=_useMutation.isLoading,isPaused=_useMutation.isPaused,isSuccess=_useMutation.isSuccess,mutateAsync=_useMutation.mutateAsync,reset=_useMutation.reset,status=_useMutation.status;if(isLoading){var message='In Process. It will be available shortly in the \" Report section\"';enqueueSnackbar(message,{variant:\"success\"});}if(isSuccess){var _message=\"Report generated Successfully\";enqueueSnackbar(_message,{variant:\"success\"});}var reportTypeOptions=[{label:\"Booking Report\",value:\"BOOKING_REPORTS\"},{label:\"User Report\",value:\"USER_REPORTS\"},{label:\"User Ananlysis Report\",value:\"USER_ANALYSIS_REPORTS\"},{label:\"Cancelled Bookings\",value:\"CANCELLED_BOOKINGS_REPORTS\"}];var timeSlotOptions=[{label:\"08 AM - 04 PM\",value:\"08_AM-04_PM\"},{label:\"04 PM - 12 AM\",value:\"04_PM-12_AM\"},{label:\"12 AM - 08 AM\",value:\"12_AM-08_AM\"}];var reportTypeHandeler=function reportTypeHandeler(e){// setReportTypeValues({ reportType: e.value });\nsetReportTypeValues({reportType:e.value});setReportFinalLabels({reportLabel:e.label});if(e.label===\"Booking Report\"||e.label===\"Cancelled Bookings\"){setUserDropDownVisibility(true);}else if(e.label===\"User Ananlysis Report\"||e.label===\"User Report\"){setUserDropDownVisibility(false);}};var timeSlotHandler=function timeSlotHandler(e){var timeSlotLabel=e.map(function(element){return element.label;});var timeSlotValue=e.map(function(element){return element.value;});setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{timeSlot:timeSlotValue}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{timeSlot:timeSlotLabel}));};var resourceTypeHandler=function resourceTypeHandler(e){var resourceTypeValue=e.map(function(element){return element.value;});var resourceTypeLabel=e.map(function(element){return element.label;});setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{resourceTypeId:resourceTypeValue}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{resourceTypeName:resourceTypeLabel}));};var userTypeIndustryHandler=function userTypeIndustryHandler(e){var userTypeIndustryValue=e.map(function(element){return element.value;});var userTypeIndustryLabel=e.map(function(element){return element.label;});setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{industryId:userTypeIndustryValue}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{industryName:userTypeIndustryLabel}));};var diomBrandHandler=function diomBrandHandler(e){var brandValue=e.map(function(element){return element.value;});var brandLabel=e.map(function(element){return element.label;});setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{locationCategoriesId:brandValue}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{locationCategoriesName:brandLabel}));setLocationApplyFilter(true);};var diomLocationHandler=function diomLocationHandler(e){setResourcetypeApplyFilter(true);var locationValue=e.map(function(element){return element.value;});var locationLabel=e.map(function(element){return element.label;});setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{businessId:locationValue}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{businessName:locationLabel}));};var userTypePositionHandler=function userTypePositionHandler(e){var userTypePositionValue=e.map(function(element){return element.value;});var userTypePositionLabel=e.map(function(element){return element.label;});setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{positionId:userTypePositionValue}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{positionName:userTypePositionLabel}));};var startdateFunc=function startdateFunc(e){var starttdate=e.target.value;var d=new Date();var start=moment(starttdate).isAfter(d.setMonth(d.getMonth()-3));var end=moment(e.target.value).isBefore(moment().add(-1,\"days\"));if(start&&end){var startdate=new Date(starttdate).toISOString();setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{startDate:startdate}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{startDate:startdate}));}else{// alert(\"please select valid date\");\nvar _message2=\"please select valid date\";enqueueSnackbar(_message2,{variant:\"error\"});}};var endDateFunc=function endDateFunc(e){var endddate=e.target.value;var d=new Date();var start=moment(endddate).isAfter(d.setMonth(d.getMonth()-3));var end=moment(e.target.value).isBefore(moment().add(-1,\"days\"));if(start&&end){var enddate=new Date(endddate).toISOString();setreportFinalValues(_objectSpread(_objectSpread({},reportFinalValues),{},{endDate:enddate}));setReportFinalLabels(_objectSpread(_objectSpread({},reportFinalLabels),{},{endDate:enddate}));}else{var _message3=\"please select valid date\";enqueueSnackbar(_message3,{variant:\"error\"});}};// ***************\n// const { data: locationsData, isLoading: loadingLocations } = useAllDataQuery(\nvar _useQuery=useQuery([\"locationsreports1\",reportFinalValues===null||reportFinalValues===void 0?void 0:reportFinalValues.locationCategoriesId],function(){return getreportLocations(token,locationApplyFilter,reportFinalValues);}),locationsData=_useQuery.data,loadingLocations=_useQuery.isLoading;var locationData=locationsData;// *******************\nvar _useAllDataQuery=useAllDataQuery([\"reportlocationbrandData\",\"visible\"],function(){return getreportLocationBrand(token);}),brandData=_useAllDataQuery.data;// *************\nvar resourceTypedropdownData=useQuery([\"resourceTypedropdownreports\",reportFinalValues===null||reportFinalValues===void 0?void 0:reportFinalValues.businessId],function(){return getResourcetypereports(token,resourcetypeApplyFilter,reportFinalValues);});var resourceTypedropdownDailedData=resourceTypedropdownData.data;// *************\nvar Resourcetypesdropdown=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var matadata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:matadata=resourceTypedropdownDailedData.data.map(function(element){return{label:element.Name,value:element.id,UniqueId:element.UniqueId,resourceTypeCategoryId:element.resourceTypeCategoryId// visibility: element.visibility,\n};});setCategoryDropDown(matadata);case 2:case\"end\":return _context.stop();}}},_callee);}));return function Resourcetypesdropdown(){return _ref.apply(this,arguments);};}();// **************\nvar userByProfession=useQuery([\"getuserbyprofession\"],function(){return getUserByProfession(token);});var userByProfessionData=userByProfession.data;var userByProfessionDataa=userByProfessionData===null||userByProfessionData===void 0?void 0:userByProfessionData.data;var userbyprofessionindustry=userByProfessionDataa===null||userByProfessionDataa===void 0?void 0:userByProfessionDataa.industries.map(function(element,index){return{value:element.id,label:element.name};});var userbyprofessionPosition=userByProfessionDataa===null||userByProfessionDataa===void 0?void 0:userByProfessionDataa.positions.map(function(element,index){return{//   ...element,\nvalue:element.id,label:element.name};});// *************\nvar reportExport=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var requestOptions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:requestOptions={method:\"POST\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\",Authorization:\"Bearer \"+token},body:JSON.stringify({fromTime:reportFinalLabels.startDate,toTime:reportFinalLabels.endDate,reportValues:reportFinalValues,reportLebels:reportFinalLabels,reportType:reportTypeValues.reportType,// reportType: reportFinalLabels.reportLabel,\nreportName:reportFinalLabels.reportLabel})};_context2.next=3;return mutate(requestOptions);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function reportExport(){return _ref2.apply(this,arguments);};}();useEffect(// FOR PRE-FETCHING NEXT PAGE\nfunction(){getreportLocations(token,locationApplyFilter,reportFinalValues);},[reportFinalValues,reportFinalValues]);useEffect(/*#__PURE__*/ // FOR PRE-FETCHING NEXT PAGE\n_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.t0=resourceTypedropdownDailedData;if(!_context3.t0){_context3.next=4;break;}_context3.next=4;return Resourcetypesdropdown();case 4:case\"end\":return _context3.stop();}}},_callee3);})),[resourceTypedropdownDailedData]);return{reportTypeOptions:reportTypeOptions,userByProfessionData:userByProfessionData,userbyprofessionPosition:userbyprofessionPosition,userbyprofessionindustry:userbyprofessionindustry,timeSlotOptions:timeSlotOptions,locationData:locationData,brandData:brandData,reportTypeHandeler:reportTypeHandeler,userDropDownVisibility:userDropDownVisibility,timeSlotHandler:timeSlotHandler,diomBrandHandler:diomBrandHandler,diomLocationHandler:diomLocationHandler,resourceTypeHandler:resourceTypeHandler,userTypeIndustryHandler:userTypeIndustryHandler,userTypePositionHandler:userTypePositionHandler,startdateFunc:startdateFunc,endDateFunc:endDateFunc,reportExport:reportExport,categoryDropDown:categoryDropDown// reportTyperequestFunc,\n// isLoading,\n};};export default UseReports;","map":{"version":3,"sources":["D:/diom working project/staging/src/pages/Reports/useReports.js"],"names":["React","useState","useEffect","useMutation","useQuery","useSnackbar","moment","getNewreports","getPastreports","getreportLocationBrand","getreportLocations","getResourcetypereports","getUserByProfession","useAllDataQuery","usePaginatedQuery","DIOM_BASED_URLS","toast","exportApiFunc","UseReports","enqueueSnackbar","token","localStorage","getItem","providerRef","useRef","reportFinalValues","setreportFinalValues","reportFinalLabels","setReportFinalLabels","categoryDropDown","setCategoryDropDown","currentPage","setCurrentPage","locationApplyFilter","setLocationApplyFilter","resourcetypeApplyFilter","setResourcetypeApplyFilter","reportTypeValues","setReportTypeValues","userDropDownVisibility","setUserDropDownVisibility","mutate","data","error","isError","isIdle","isLoading","isPaused","isSuccess","mutateAsync","reset","status","message","variant","reportTypeOptions","label","value","timeSlotOptions","reportTypeHandeler","e","reportType","reportLabel","timeSlotHandler","timeSlotLabel","map","element","timeSlotValue","timeSlot","resourceTypeHandler","resourceTypeValue","resourceTypeLabel","resourceTypeId","resourceTypeName","userTypeIndustryHandler","userTypeIndustryValue","userTypeIndustryLabel","industryId","industryName","diomBrandHandler","brandValue","brandLabel","locationCategoriesId","locationCategoriesName","diomLocationHandler","locationValue","locationLabel","businessId","businessName","userTypePositionHandler","userTypePositionValue","userTypePositionLabel","positionId","positionName","startdateFunc","starttdate","target","d","Date","start","isAfter","setMonth","getMonth","end","isBefore","add","startdate","toISOString","startDate","endDateFunc","endddate","enddate","endDate","locationsData","loadingLocations","locationData","brandData","resourceTypedropdownData","resourceTypedropdownDailedData","Resourcetypesdropdown","matadata","Name","id","UniqueId","resourceTypeCategoryId","userByProfession","userByProfessionData","userByProfessionDataa","userbyprofessionindustry","industries","index","name","userbyprofessionPosition","positions","reportExport","requestOptions","method","headers","Accept","Authorization","body","JSON","stringify","fromTime","toTime","reportValues","reportLebels","reportName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\n// import { getLocations } from \"../../APIS\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport moment from \"moment\";\r\nimport {\r\n  getNewreports,\r\n  getPastreports,\r\n  getreportLocationBrand,\r\n  getreportLocations,\r\n  getResourcetypereports,\r\n} from \"../../APIS/reports\";\r\nimport { getUserByProfession } from \"../../APIS/userProfle\";\r\nimport { useAllDataQuery, usePaginatedQuery } from \"../../hooks/query\";\r\nimport { DIOM_BASED_URLS } from \"../../config/url\";\r\nimport { toast } from \"react-toastify\";\r\nimport { exportApiFunc } from \"../../APIS/reports\";\r\n\r\n// const exportApiFunc =( requestOptions,enqueueSnackbar) => {\r\n// fetch(`${DIOM_BASED_URLS}/reports`, requestOptions\r\n//     )\r\n// }\r\n\r\nconst UseReports = () => {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const token = localStorage.getItem(\"Token\");\r\n  const providerRef = React.useRef();\r\n\r\n  // const queryClient = new QueryClient();\r\n  const [reportFinalValues, setreportFinalValues] = useState([]);\r\n  const [reportFinalLabels, setReportFinalLabels] = useState([]);\r\n  const [categoryDropDown, setCategoryDropDown] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [locationApplyFilter, setLocationApplyFilter] = useState(false);\r\n  const [resourcetypeApplyFilter, setResourcetypeApplyFilter] = useState(false);\r\n  const [reportTypeValues, setReportTypeValues] = useState([]);\r\n  const [userDropDownVisibility, setUserDropDownVisibility] = useState(true);\r\n  const {\r\n    mutate,\r\n    data,\r\n    error,\r\n    isError,\r\n    isIdle,\r\n    isLoading,\r\n    isPaused,\r\n    isSuccess,\r\n    mutateAsync,\r\n    reset,\r\n    status,\r\n  } = useMutation(exportApiFunc);\r\n\r\n  if (isLoading) {\r\n    const message =\r\n      'In Process. It will be available shortly in the \" Report section\"';\r\n    enqueueSnackbar(message, {\r\n      variant: \"success\",\r\n    });\r\n  }\r\n  if (isSuccess) {\r\n    const message = \"Report generated Successfully\";\r\n    enqueueSnackbar(message, {\r\n      variant: \"success\",\r\n    });\r\n  }\r\n\r\n  const reportTypeOptions = [\r\n    { label: \"Booking Report\", value: \"BOOKING_REPORTS\" },\r\n    { label: \"User Report\", value: \"USER_REPORTS\" },\r\n    { label: \"User Ananlysis Report\", value: \"USER_ANALYSIS_REPORTS\" },\r\n    { label: \"Cancelled Bookings\", value: \"CANCELLED_BOOKINGS_REPORTS\" },\r\n  ];\r\n  const timeSlotOptions = [\r\n    { label: \"08 AM - 04 PM\", value: \"08_AM-04_PM\" },\r\n    { label: \"04 PM - 12 AM\", value: \"04_PM-12_AM\" },\r\n    { label: \"12 AM - 08 AM\", value: \"12_AM-08_AM\" },\r\n  ];\r\n\r\n  const reportTypeHandeler = (e) => {\r\n    // setReportTypeValues({ reportType: e.value });\r\n    setReportTypeValues({ reportType: e.value });\r\n    setReportFinalLabels({ reportLabel: e.label });\r\n\r\n    if (e.label === \"Booking Report\" || e.label === \"Cancelled Bookings\") {\r\n      setUserDropDownVisibility(true);\r\n    } else if (\r\n      e.label === \"User Ananlysis Report\" ||\r\n      e.label === \"User Report\"\r\n    ) {\r\n      setUserDropDownVisibility(false);\r\n    }\r\n  };\r\n\r\n  const timeSlotHandler = (e) => {\r\n    const timeSlotLabel = e.map((element) => {\r\n      return element.label;\r\n    });\r\n    const timeSlotValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    setreportFinalValues({ ...reportFinalValues, timeSlot: timeSlotValue });\r\n    setReportFinalLabels({ ...reportFinalLabels, timeSlot: timeSlotLabel });\r\n  };\r\n\r\n  const resourceTypeHandler = (e) => {\r\n    const resourceTypeValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    const resourceTypeLabel = e.map((element) => {\r\n      return element.label;\r\n    });\r\n    setreportFinalValues({\r\n      ...reportFinalValues,\r\n      resourceTypeId: resourceTypeValue,\r\n    });\r\n    setReportFinalLabels({\r\n      ...reportFinalLabels,\r\n      resourceTypeName: resourceTypeLabel,\r\n    });\r\n  };\r\n  const userTypeIndustryHandler = (e) => {\r\n    const userTypeIndustryValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    const userTypeIndustryLabel = e.map((element) => {\r\n      return element.label;\r\n    });\r\n    setreportFinalValues({\r\n      ...reportFinalValues,\r\n      industryId: userTypeIndustryValue,\r\n    });\r\n    setReportFinalLabels({\r\n      ...reportFinalLabels,\r\n      industryName: userTypeIndustryLabel,\r\n    });\r\n  };\r\n\r\n  const diomBrandHandler = (e) => {\r\n    const brandValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    const brandLabel = e.map((element) => {\r\n      return element.label;\r\n    });\r\n\r\n    setreportFinalValues({\r\n      ...reportFinalValues,\r\n      locationCategoriesId: brandValue,\r\n    });\r\n    setReportFinalLabels({\r\n      ...reportFinalLabels,\r\n      locationCategoriesName: brandLabel,\r\n    });\r\n    setLocationApplyFilter(true);\r\n  };\r\n\r\n  const diomLocationHandler = (e) => {\r\n    setResourcetypeApplyFilter(true);\r\n    const locationValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    const locationLabel = e.map((element) => {\r\n      return element.label;\r\n    });\r\n    setreportFinalValues({\r\n      ...reportFinalValues,\r\n      businessId: locationValue,\r\n    });\r\n    setReportFinalLabels({\r\n      ...reportFinalLabels,\r\n      businessName: locationLabel,\r\n    });\r\n  };\r\n\r\n  const userTypePositionHandler = (e) => {\r\n    const userTypePositionValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    const userTypePositionLabel = e.map((element) => {\r\n      return element.label;\r\n    });\r\n    setreportFinalValues({\r\n      ...reportFinalValues,\r\n      positionId: userTypePositionValue,\r\n    });\r\n    setReportFinalLabels({\r\n      ...reportFinalLabels,\r\n      positionName: userTypePositionLabel,\r\n    });\r\n  };\r\n  const startdateFunc = (e) => {\r\n    const starttdate = e.target.value;\r\n    const d = new Date();\r\n    let start = moment(starttdate).isAfter(d.setMonth(d.getMonth() - 3));\r\n    let end = moment(e.target.value).isBefore(moment().add(-1, \"days\"));\r\n    if (start && end) {\r\n      const startdate = new Date(starttdate).toISOString();\r\n      setreportFinalValues({ ...reportFinalValues, startDate: startdate });\r\n      setReportFinalLabels({ ...reportFinalLabels, startDate: startdate });\r\n    } else {\r\n      // alert(\"please select valid date\");\r\n      const message = \"please select valid date\";\r\n      enqueueSnackbar(message, {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n  const endDateFunc = (e) => {\r\n    const endddate = e.target.value;\r\n    const d = new Date();\r\n    let start = moment(endddate).isAfter(d.setMonth(d.getMonth() - 3));\r\n    let end = moment(e.target.value).isBefore(moment().add(-1, \"days\"));\r\n    if (start && end) {\r\n      const enddate = new Date(endddate).toISOString();\r\n      setreportFinalValues({ ...reportFinalValues, endDate: enddate });\r\n      setReportFinalLabels({ ...reportFinalLabels, endDate: enddate });\r\n    } else {\r\n      const message = \"please select valid date\";\r\n      enqueueSnackbar(message, {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // ***************\r\n  // const { data: locationsData, isLoading: loadingLocations } = useAllDataQuery(\r\n  const { data: locationsData, isLoading: loadingLocations } = useQuery(\r\n    [\"locationsreports1\", reportFinalValues?.locationCategoriesId],\r\n    () => getreportLocations(token, locationApplyFilter, reportFinalValues)\r\n  );\r\n  const locationData = locationsData;\r\n  // *******************\r\n  const { data: brandData } = useAllDataQuery(\r\n    [\"reportlocationbrandData\", \"visible\"],\r\n    () => getreportLocationBrand(token)\r\n  );\r\n\r\n  // *************\r\n\r\n  const resourceTypedropdownData = useQuery(\r\n    [\"resourceTypedropdownreports\", reportFinalValues?.businessId],\r\n    () =>\r\n      getResourcetypereports(token, resourcetypeApplyFilter, reportFinalValues)\r\n  );\r\n\r\n  const resourceTypedropdownDailedData = resourceTypedropdownData.data;\r\n\r\n  // *************\r\n  const Resourcetypesdropdown = async () => {\r\n    const matadata = resourceTypedropdownDailedData.data.map((element) => {\r\n      return {\r\n        label: element.Name,\r\n        value: element.id,\r\n        UniqueId: element.UniqueId,\r\n        resourceTypeCategoryId: element.resourceTypeCategoryId,\r\n        // visibility: element.visibility,\r\n      };\r\n    });\r\n\r\n    setCategoryDropDown(matadata);\r\n  };\r\n\r\n  // **************\r\n  const userByProfession = useQuery([\"getuserbyprofession\"], () =>\r\n    getUserByProfession(token)\r\n  );\r\n  const userByProfessionData = userByProfession.data;\r\n  const userByProfessionDataa = userByProfessionData?.data;\r\n  const userbyprofessionindustry = userByProfessionDataa?.industries.map(\r\n    (element, index) => ({\r\n      value: element.id,\r\n      label: element.name,\r\n    })\r\n  );\r\n\r\n  const userbyprofessionPosition = userByProfessionDataa?.positions.map(\r\n    (element, index) => {\r\n      return {\r\n        //   ...element,\r\n\r\n        value: element.id,\r\n        label: element.name,\r\n      };\r\n    }\r\n  );\r\n  // *************\r\n\r\n  const reportExport = async() => {\r\n    const requestOptions = {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify({\r\n        fromTime: reportFinalLabels.startDate,\r\n        toTime: reportFinalLabels.endDate,\r\n        reportValues: reportFinalValues,\r\n        reportLebels: reportFinalLabels,\r\n        reportType: reportTypeValues.reportType,\r\n        // reportType: reportFinalLabels.reportLabel,\r\n        reportName: reportFinalLabels.reportLabel,\r\n      }),\r\n    };\r\n   await mutate(requestOptions);\r\n   \r\n   \r\n  };\r\n\r\n  useEffect(\r\n    // FOR PRE-FETCHING NEXT PAGE\r\n    () => {\r\n      getreportLocations(token, locationApplyFilter, reportFinalValues);\r\n    },\r\n    [reportFinalValues, reportFinalValues]\r\n  );\r\n  useEffect(\r\n    // FOR PRE-FETCHING NEXT PAGE\r\n    async () => {\r\n      resourceTypedropdownDailedData && (await Resourcetypesdropdown());\r\n    },\r\n    [resourceTypedropdownDailedData]\r\n  );\r\n\r\n  return {\r\n    reportTypeOptions,\r\n    userByProfessionData,\r\n    userbyprofessionPosition,\r\n    userbyprofessionindustry,\r\n    timeSlotOptions,\r\n    locationData,\r\n    brandData,\r\n    reportTypeHandeler,\r\n    userDropDownVisibility,\r\n    timeSlotHandler,\r\n    diomBrandHandler,\r\n    diomLocationHandler,\r\n    resourceTypeHandler,\r\n    userTypeIndustryHandler,\r\n    userTypePositionHandler,\r\n    startdateFunc,\r\n    endDateFunc,\r\n    reportExport,\r\n    categoryDropDown,\r\n    // reportTyperequestFunc,\r\n    // isLoading,\r\n  };\r\n};\r\n\r\nexport default UseReports;\r\n"]},"metadata":{},"sourceType":"module"}