{"ast":null,"code":"import _toConsumableArray from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/tech sign/Desktop/diom (1)/diom/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\tech sign\\\\Desktop\\\\diom (1)\\\\diom\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from\"react\";import Select from\"react-select\";import{connect}from\"react-redux\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{ModalHeader,ModalBody,Modal,Row,Col,Button,FormGroup,Label}from\"reactstrap\";import{Link}from\"react-router-dom\";import\"./css/headers.css\";// Import menuDropdown\n// import LanguageDropdown from \"../CommonForBoth/TopbarDropdown/LanguageDropdown\";\nimport NotificationDropdown from\"../CommonForBoth/TopbarDropdown/NotificationDropdown\";import ProfileMenu from\"../CommonForBoth/TopbarDropdown/ProfileMenu\";//Import i18n\nimport{withNamespaces}from\"react-i18next\";// Redux Store\nimport{toggleRightSidebar}from\"../../store/actions\";import logosmdark from\"../../assets/images/logo-sm-dark.png\";import logodark from\"../../assets/images/logo-dark.png\";import Diomlogo from\"./pics/DIOM.png\";import{DIOM_BASED_URLS}from\"../../config/url\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.btnTapped=function(){_this.setState({modal_static:true});};_this.alllocationsfunc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations?filter={\\\"where\\\":{\\\"visibility\\\":true}}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result3){var mapdata=result3.map(function(element){return{value:element.id,label:element.Name};});_this.setState({diomLocation:[{label:\"--All Locations\",options:mapdata,headers:{Authorization:\"Bearer \"+_this.state.token}}]});}).catch(function(error){return console.log(\"error\",error);});case 1:case\"end\":return _context.stop();}}},_callee);}));_this.diomBrandfunc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-location-categories\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){var mapdata=result.map(function(element){return{value:element.id,label:element.name};});_this.setState({diomBrand:[{label:\"--All Brands\",options:mapdata}]});}).catch(function(error){return console.log(\"error\",error);});case 1:case\"end\":return _context2.stop();}}},_callee2);}));_this.changeLocationBrand=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations?filter={\\\"where\\\":{\\\"visibility\\\":true,\\\"locationCategoriesId\\\":\\\"\").concat(id,\"\\\"}}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result2){// this.setState({ diomLocation:result })\nvar mapdata=result2.map(function(element){return{value:element.id,label:element.Name};});_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{diomLocation:[{label:\"--All Locations\",options:_toConsumableArray(mapdata)}]});});}).catch(function(error){return console.log(\"error\",error);});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref3.apply(this,arguments);};}();_this.diomLocationfunc=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations?filter={\\\"where\\\":{\\\"visibility\\\":true}}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result2){// this.setState({ diomLocation:result })\nvar mapdata=result2.map(function(element){return{value:element.id,label:element.Name};});_this.setState({diomLocation:[{label:\"--All Locations\",options:[]}]});}).catch(function(error){return console.log(\"error\",error);});case 1:case\"end\":return _context4.stop();}}},_callee4);}));_this.syncLocationsFunc=function(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/sync\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){// if (result) {\ntoast.success(\"Locations Synced Successfully\");// }\n// else {\n//   toast.error(\" Something went wrong\");\n// }\n}).catch(function(error){return toast.error(\" Something went wrong\");});};_this.syncResourceFunc=function(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories/sync\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){if(result){toast.success(\"Resources Successfully Synced\");}else{toast.error(\" Something went wrong\");}}).catch(function(error){return console.log(\"error\",error);});// toast.error(\" Something went wrong\"));\n};_this.syncResourceTypeFunc=function(){fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories/sync\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){if(result){toast.success(\"ResourceTypes Successfully Synced\");}else{toast.error(\" Something went wrong\");}}).catch(function(error){return toast.error(\" Something went wrong\");});};_this.tog_center=function(){if(!localStorage.getItem(\"locationId\")){return;}_this.setState(function(prevState){return{modal_center:!prevState.modal_center};});_this.removeBodyCss();};_this.state={token:localStorage.getItem(\"Token\"),isSearch:false,isSocialPf:false,modal_static:false,disabledvalue:true,diomBrand:[],diomLocation:[],diomAllLocation:[],selectedLocation:\"\",selectedLocationData:{}};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));_this.toggleRightbar=_this.toggleRightbar.bind(_assertThisInitialized(_this));_this.toggleFullscreen=_this.toggleFullscreen.bind(_assertThisInitialized(_this));return _this;}_createClass(Header,[{key:\"getSelectedDiomLocation\",value:function getSelectedDiomLocation(locationId){var _this2=this;if(!locationId){return;}fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/\").concat(locationId),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+this.state.token}}).then(function(response){return response.json();}).then(function(location){_this2.setState({selectedLocationData:location},function(){_this2.setState({modal_center:false});});}).catch(function(error){return console.log(\"error\",error);});}},{key:\"componentDidMount\",value:function componentDidMount(){this.diomBrandfunc();this.diomLocationfunc();this.alllocationsfunc();this.getSelectedDiomLocation(localStorage.getItem(\"locationId\"));// {\n//   this.locationId && this.setState({ disabledvalue: false });\n// }\n}/**\r\n   * Toggle sidebar\r\n   */},{key:\"toggleMenu\",value:function toggleMenu(){this.props.toggleMenuCallback();}/**\r\n   * Toggles the sidebar\r\n   */},{key:\"toggleRightbar\",value:function toggleRightbar(){this.props.toggleRightSidebar();}},{key:\"toggleFullscreen\",value:function toggleFullscreen(){if(!document.fullscreenElement&&/* alternative standard method */!document.mozFullScreenElement&&!document.webkitFullscreenElement){// current working methods\nif(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen();}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen();}else if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);}}else{if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}}}},{key:\"removeBodyCss\",value:function removeBodyCss(){document.body.classList.add(\"no_padding\");}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"header\",{id:\"page-topbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-brand-box\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"logo logo-dark\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-sm\",children:/*#__PURE__*/_jsx(\"img\",{src:logosmdark,alt:\"\",height:\"22\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-lg\",children:/*#__PURE__*/_jsx(\"img\",{src:logodark,alt:\"\",height:\"20\"})})]}),/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"logo logo-light\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-sm\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"logo-lg\",children:[/*#__PURE__*/_jsx(\"img\",{src:Diomlogo,alt:\"\",height:\"30\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(Button,{color:\"success\",className:\"btn-rounded waves-effect waves-light mr-1 ml-3 \",onClick:this.tog_center,children:!this.state.selectedLocationData?\"Diom\":this.state.selectedLocationData.Name})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NotificationDropdown,{})}),/*#__PURE__*/_jsx(\"div\",{className:\" dropdown d-inline-block\",children:/*#__PURE__*/_jsx(Button,{color:\"none\",onClick:this.btnTapped,type:\"button\",className:\"header-item noti-icon right-bar-toggle waves-effect\",children:/*#__PURE__*/_jsx(\"i\",{className:\" fas fa-sync-alt\"})})}),/*#__PURE__*/_jsx(ProfileMenu,{})]})]}),/*#__PURE__*/_jsxs(Modal,{className:\"\",isOpen:this.state.modal_center||!localStorage.getItem(\"locationId\"),toggle:this.tog_center,centered:true,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3}),/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return _this3.setState({modal_center:false});},children:/*#__PURE__*/_jsx(Label,{className:\"modelfirsttitle1\",children:\" Select a location\"})})}),/*#__PURE__*/_jsx(Col,{md:1})]}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsx(FormGroup,{className:\"select2-container\",children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(Label,{className:\"inputtilesbrandlocation\",children:\"Select a Diom Brand\"}),/*#__PURE__*/_jsx(Select,{value:this.selectedGroup,onChange:function onChange(opt){return _this3.changeLocationBrand(opt.value);},classNamePrefix:\"select2-selection\"// options={optionGroup}\n,options:this.state.diomBrand})]}),/*#__PURE__*/_jsx(Col,{md:2})]})}),/*#__PURE__*/_jsxs(FormGroup,{className:\"select2-container\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(Label,{className:\"inputtilesbrandlocation mt-5\",children:\"Select a Diom Location\"}),/*#__PURE__*/_jsx(Select// value={this.selectedGroup}\n,{onChange:function onChange(e){return _this3.setState({selectedLocation:e.value,disabledvalue:false});}// this.setState({ disabledvalue: false })\n// options={this.state.diomAllLocation}\n,options:this.state.diomLocation,classNamePrefix:\"select2-selection\"})]}),/*#__PURE__*/_jsx(Col,{md:2})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:3}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Link,{to:\"/mydashboard\",children:/*#__PURE__*/_jsx(Button,{block:true,color:\"success\",disabled:this.state.disabledvalue,className:\"waves-effect waves-light  mt-5 w-100 mb-5\",onClick:function onClick(){if(_this3.state.selectedLocation){localStorage.setItem(\"locationId\",_this3.state.selectedLocation);_this3.getSelectedDiomLocation(_this3.state.selectedLocation);// this.setState({ modal_center: false });\n}return;},children:\"Save Changes\"})})}),/*#__PURE__*/_jsx(Col,{md:3})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.modal_static,toggle:function toggle(){return _this3.setState({modal_static:false});},centered:true,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4}),/*#__PURE__*/_jsx(Col,{md:7,children:/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return _this3.setState({modal_static:false});},children:/*#__PURE__*/_jsx(\"p\",{className:\"syncmodelheadeing\",children:\"Sync Data\"})})}),/*#__PURE__*/_jsx(Col,{md:1})]}),/*#__PURE__*/_jsxs(ModalBody,{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(\"p\",{className:\"syncmodelclickdetail\",children:\"Click the Icons to update the data for lcoations, resources or resources types.\"})}),/*#__PURE__*/_jsx(Col,{md:2})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:11,children:/*#__PURE__*/_jsx(\"p\",{className:\"synclocationsheadings\",children:\"Sync Locations\"})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(\"div\",{className:\"  \",onClick:this.syncLocationsFunc,children:/*#__PURE__*/_jsx(\"i\",{type:\"button\",className:\" fas fa-sync-alt synclocationsheadingsicon \"})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:11,children:/*#__PURE__*/_jsx(\"p\",{className:\"synclocationsheadings\",children:\"Sync Resources\"})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(\"div\",{className:\"  \",onClick:this.syncResourceFunc,children:/*#__PURE__*/_jsx(\"i\",{type:\"button\",className:\" fas fa-sync-alt synclocationsheadingsicon\"})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:11,children:/*#__PURE__*/_jsx(\"p\",{className:\"synclocationsheadings\",children:\"Sync Resource Types\"})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(\"div\",{onClick:this.syncResourceTypeFunc,children:/*#__PURE__*/_jsx(\"i\",{type:\"button\",className:\" fas fa-sync-alt synclocationsheadingsicon\"})})})]})]}),/*#__PURE__*/_jsx(Col,{md:2})]})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:8000})]})});}}]);return Header;}(Component);var mapStatetoProps=function mapStatetoProps(state){var layoutType=state.Layout.layoutType;return{layoutType:layoutType};};export default connect(mapStatetoProps,{toggleRightSidebar:toggleRightSidebar})(withNamespaces()(Header));","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/diom (1)/diom/src/components/VerticalLayout/Header.js"],"names":["React","Component","Select","connect","ToastContainer","toast","ModalHeader","ModalBody","Modal","Row","Col","Button","FormGroup","Label","Link","NotificationDropdown","ProfileMenu","withNamespaces","toggleRightSidebar","logosmdark","logodark","Diomlogo","DIOM_BASED_URLS","Header","props","btnTapped","setState","modal_static","alllocationsfunc","fetch","method","redirect","headers","Authorization","state","token","then","response","json","result3","mapdata","map","element","value","id","label","Name","diomLocation","options","catch","error","console","log","diomBrandfunc","result","name","diomBrand","changeLocationBrand","result2","prevState","diomLocationfunc","syncLocationsFunc","success","syncResourceFunc","syncResourceTypeFunc","tog_center","localStorage","getItem","modal_center","removeBodyCss","isSearch","isSocialPf","disabledvalue","diomAllLocation","selectedLocation","selectedLocationData","toggleMenu","bind","toggleRightbar","toggleFullscreen","locationId","location","getSelectedDiomLocation","toggleMenuCallback","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","body","classList","add","selectedGroup","opt","e","setItem","mapStatetoProps","layoutType","Layout"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { connect } from \"react-redux\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport {\r\n  ModalHeader,\r\n  ModalBody,\r\n  Modal,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  FormGroup,\r\n  Label,\r\n} from \"reactstrap\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./css/headers.css\";\r\n// Import menuDropdown\r\n// import LanguageDropdown from \"../CommonForBoth/TopbarDropdown/LanguageDropdown\";\r\nimport NotificationDropdown from \"../CommonForBoth/TopbarDropdown/NotificationDropdown\";\r\nimport ProfileMenu from \"../CommonForBoth/TopbarDropdown/ProfileMenu\";\r\n\r\n//Import i18n\r\nimport { withNamespaces } from \"react-i18next\";\r\n// Redux Store\r\nimport { toggleRightSidebar } from \"../../store/actions\";\r\n\r\nimport logosmdark from \"../../assets/images/logo-sm-dark.png\";\r\nimport logodark from \"../../assets/images/logo-dark.png\";\r\n\r\nimport Diomlogo from \"./pics/DIOM.png\";\r\nimport { DIOM_BASED_URLS } from \"../../config/url\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: localStorage.getItem(\"Token\"),\r\n      isSearch: false,\r\n      isSocialPf: false,\r\n      modal_static: false,\r\n      disabledvalue: true,\r\n      diomBrand: [],\r\n      diomLocation: [],\r\n      diomAllLocation: [],\r\n      selectedLocation: \"\",\r\n      selectedLocationData: {},\r\n    };\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n    this.toggleRightbar = this.toggleRightbar.bind(this);\r\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\r\n  }\r\n\r\n  btnTapped = () => {\r\n    this.setState({ modal_static: true });\r\n  };\r\n\r\n  alllocationsfunc = async () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result3) => {\r\n        const mapdata = result3.map((element) => ({\r\n          value: element.id,\r\n          label: element.Name,\r\n        }));\r\n\r\n        this.setState({\r\n          diomLocation: [\r\n            {\r\n              label: \"--All Locations\",\r\n              options: mapdata,\r\n\r\n              headers: {\r\n                Authorization: \"Bearer \" + this.state.token,\r\n              },\r\n            },\r\n          ],\r\n        });\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  diomBrandfunc = async () => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-location-categories`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        const mapdata = result.map((element) => ({\r\n          value: element.id,\r\n          label: element.name,\r\n        }));\r\n        this.setState({\r\n          diomBrand: [\r\n            {\r\n              label: \"--All Brands\",\r\n              options: mapdata,\r\n            },\r\n          ],\r\n        });\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  changeLocationBrand = async (id) => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true,\"locationCategoriesId\":\"${id}\"}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result2) => {\r\n        // this.setState({ diomLocation:result })\r\n        const mapdata = result2.map((element) => ({\r\n          value: element.id,\r\n          label: element.Name,\r\n        }));\r\n\r\n        this.setState((prevState) => ({\r\n          ...prevState,\r\n          diomLocation: [\r\n            {\r\n              label: \"--All Locations\",\r\n              options: [...mapdata],\r\n            },\r\n          ],\r\n        }));\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  diomLocationfunc = async () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n\r\n        headers: {\r\n          Authorization: \"Bearer \" + this.state.token,\r\n        },\r\n      }\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result2) => {\r\n        // this.setState({ diomLocation:result })\r\n        const mapdata = result2.map((element) => ({\r\n          value: element.id,\r\n          label: element.Name,\r\n        }));\r\n\r\n        this.setState({\r\n          diomLocation: [\r\n            {\r\n              label: \"--All Locations\",\r\n              options: [],\r\n            },\r\n          ],\r\n        });\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  getSelectedDiomLocation(locationId) {\r\n    if (!locationId) {\r\n      return;\r\n    }\r\n\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${locationId}`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((location) => {\r\n        this.setState(\r\n          {\r\n            selectedLocationData: location,\r\n          },\r\n          () => {\r\n            this.setState({ modal_center: false });\r\n          }\r\n        );\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  }\r\n\r\n  syncLocationsFunc = () => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/sync`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        // if (result) {\r\n        toast.success(\"Locations Synced Successfully\");\r\n        // }\r\n        // else {\r\n        //   toast.error(\" Something went wrong\");\r\n        // }\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n  syncResourceFunc = () => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-resources-inventories/sync`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (result) {\r\n          toast.success(\"Resources Successfully Synced\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n\r\n    // toast.error(\" Something went wrong\"));\r\n  };\r\n  syncResourceTypeFunc = () => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/sync`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (result) {\r\n          toast.success(\"ResourceTypes Successfully Synced\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n  componentDidMount() {\r\n    this.diomBrandfunc();\r\n    this.diomLocationfunc();\r\n    this.alllocationsfunc();\r\n    this.getSelectedDiomLocation(localStorage.getItem(\"locationId\"));\r\n    // {\r\n    //   this.locationId && this.setState({ disabledvalue: false });\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar\r\n   */\r\n  toggleMenu() {\r\n    this.props.toggleMenuCallback();\r\n  }\r\n\r\n  /**\r\n   * Toggles the sidebar\r\n   */\r\n  toggleRightbar() {\r\n    this.props.toggleRightSidebar();\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    if (\r\n      !document.fullscreenElement &&\r\n      /* alternative standard method */ !document.mozFullScreenElement &&\r\n      !document.webkitFullscreenElement\r\n    ) {\r\n      // current working methods\r\n      if (document.documentElement.requestFullscreen) {\r\n        document.documentElement.requestFullscreen();\r\n      } else if (document.documentElement.mozRequestFullScreen) {\r\n        document.documentElement.mozRequestFullScreen();\r\n      } else if (document.documentElement.webkitRequestFullscreen) {\r\n        document.documentElement.webkitRequestFullscreen(\r\n          Element.ALLOW_KEYBOARD_INPUT\r\n        );\r\n      }\r\n    } else {\r\n      if (document.cancelFullScreen) {\r\n        document.cancelFullScreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n      } else if (document.webkitCancelFullScreen) {\r\n        document.webkitCancelFullScreen();\r\n      }\r\n    }\r\n  }\r\n\r\n  removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\");\r\n  }\r\n  tog_center = () => {\r\n    if (!localStorage.getItem(\"locationId\")) {\r\n      return;\r\n    }\r\n    this.setState((prevState) => ({\r\n      modal_center: !prevState.modal_center,\r\n    }));\r\n    this.removeBodyCss();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <header id=\"page-topbar\">\r\n          <div className=\"navbar-header\">\r\n            <div className=\"d-flex\">\r\n              <div className=\"navbar-brand-box\">\r\n                <Link to=\"#\" className=\"logo logo-dark\">\r\n                  <span className=\"logo-sm\">\r\n                    <img src={logosmdark} alt=\"\" height=\"22\" />\r\n                  </span>\r\n                  <span className=\"logo-lg\">\r\n                    <img src={logodark} alt=\"\" height=\"20\" />\r\n                  </span>\r\n                </Link>\r\n\r\n                <Link to=\"#\" className=\"logo logo-light\">\r\n                  <span className=\"logo-sm\">\r\n                    {/* <img src={logosmlight} alt=\"\" height=\"22\" /> */}\r\n                  </span>\r\n                  <span className=\"logo-lg\">\r\n                    {/* <img src={logolight} alt=\"\" height=\"20\" /> */}\r\n                    <img src={Diomlogo} alt=\"\" height=\"30\" />\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                    <Button\r\n                      color=\"success\"\r\n                      className=\"btn-rounded waves-effect waves-light mr-1 ml-3 \"\r\n                      onClick={this.tog_center}\r\n                    >\r\n                      {!this.state.selectedLocationData\r\n                        ? \"Diom\"\r\n                        : this.state.selectedLocationData.Name}\r\n                    </Button>\r\n                  </span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex\">\r\n              <div>\r\n                <NotificationDropdown />\r\n              </div>\r\n              <div className=\" dropdown d-inline-block\">\r\n                <Button\r\n                  color=\"none\"\r\n                  onClick={this.btnTapped}\r\n                  type=\"button\"\r\n                  className=\"header-item noti-icon right-bar-toggle waves-effect\"\r\n                >\r\n                  <i className=\" fas fa-sync-alt\"></i>\r\n                </Button>\r\n              </div>\r\n\r\n              {/* <NotificationDropdown /> */}\r\n\r\n              <ProfileMenu />\r\n\r\n              {/* <div className=\"dropdown d-inline-block\"> */}\r\n              {/* <Button\r\n                color=\"none\"\r\n                onClick={this.toggleRightbar}\r\n                type=\"button\"\r\n                className=\"header-item noti-icon right-bar-toggle waves-effect\"\r\n              >\r\n                <i className=\"ri-settings-2-line\"></i>\r\n              </Button> */}\r\n              {/* </div> */}\r\n            </div>\r\n          </div>\r\n          {/* model */}\r\n          <Modal\r\n            className=\"\"\r\n            isOpen={\r\n              this.state.modal_center || !localStorage.getItem(\"locationId\")\r\n            }\r\n            toggle={this.tog_center}\r\n            centered={true}\r\n          >\r\n            <Row>\r\n              <Col md={3}></Col>\r\n              <Col md={8}>\r\n                <ModalHeader\r\n                  toggle={() => this.setState({ modal_center: false })}\r\n                >\r\n                  <Label className=\"modelfirsttitle1\"> Select a location</Label>\r\n                </ModalHeader>\r\n              </Col>\r\n              <Col md={1}></Col>\r\n            </Row>\r\n\r\n            <ModalBody>\r\n              <FormGroup className=\"select2-container\">\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n\r\n                  <Col md={8}>\r\n                    <Label className=\"inputtilesbrandlocation\">\r\n                      Select a Diom Brand\r\n                    </Label>\r\n                    <Select\r\n                      value={this.selectedGroup}\r\n                      onChange={(opt) => this.changeLocationBrand(opt.value)}\r\n                      classNamePrefix=\"select2-selection\"\r\n                      // options={optionGroup}\r\n                      options={this.state.diomBrand}\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n              </FormGroup>\r\n\r\n              <FormGroup className=\"select2-container\">\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n                  <Col md={8}>\r\n                    <Label className=\"inputtilesbrandlocation mt-5\">\r\n                      Select a Diom Location\r\n                    </Label>\r\n                    <Select\r\n                      // value={this.selectedGroup}\r\n                      onChange={\r\n                        (e) =>\r\n                          this.setState({\r\n                            selectedLocation: e.value,\r\n                            disabledvalue: false,\r\n                          })\r\n                        // this.setState({ disabledvalue: false })\r\n                      }\r\n                      // options={this.state.diomAllLocation}\r\n                      options={this.state.diomLocation}\r\n                      classNamePrefix=\"select2-selection\"\r\n                    />\r\n                  </Col>\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col md={3}></Col>\r\n                  <Col md={6}>\r\n                    <Link to=\"/mydashboard\">\r\n                      <Button\r\n                        block\r\n                        color=\"success\"\r\n                        disabled={this.state.disabledvalue}\r\n                        className=\"waves-effect waves-light  mt-5 w-100 mb-5\"\r\n                        onClick={() => {\r\n                          if (this.state.selectedLocation) {\r\n                            localStorage.setItem(\r\n                              \"locationId\",\r\n                              this.state.selectedLocation\r\n                            );\r\n                            this.getSelectedDiomLocation(\r\n                              this.state.selectedLocation\r\n                            );\r\n                            // this.setState({ modal_center: false });\r\n                          }\r\n\r\n                          return;\r\n                        }}\r\n                      >\r\n                        Save Changes\r\n                      </Button>\r\n                    </Link>\r\n                  </Col>\r\n                  <Col md={3}></Col>\r\n                </Row>\r\n              </FormGroup>\r\n            </ModalBody>\r\n          </Modal>\r\n\r\n          <div>\r\n            <Modal\r\n              isOpen={this.state.modal_static}\r\n              toggle={() => this.setState({ modal_static: false })}\r\n              centered={true}\r\n            >\r\n              <Row>\r\n                <Col md={4}></Col>\r\n                <Col md={7}>\r\n                  <ModalHeader\r\n                    toggle={() => this.setState({ modal_static: false })}\r\n                  >\r\n                    <p className=\"syncmodelheadeing\">Sync Data</p>\r\n                  </ModalHeader>\r\n                </Col>\r\n                <Col md={1}></Col>\r\n              </Row>\r\n\r\n              <ModalBody className=\"mb-5\">\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n                  <Col md={8}>\r\n                    <p className=\"syncmodelclickdetail\">\r\n                      Click the Icons to update the data for lcoations,\r\n                      resources or resources types.\r\n                    </p>\r\n                  </Col>\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n                  <Col md={8}>\r\n                    <Row>\r\n                      <Col md={11}>\r\n                        <p className=\"synclocationsheadings\">Sync Locations</p>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                        {/* <Button\r\n                  color=\"none\"\r\n                            onClick={this.syncLocationsFunc}\r\n                            // className=\" noti-icon right-bar-toggle waves-effect\"\r\n                \r\n                > */}\r\n                        <div className=\"  \" onClick={this.syncLocationsFunc}>\r\n                          <i\r\n                            type=\"button\"\r\n                            className=\" fas fa-sync-alt synclocationsheadingsicon \"\r\n                          ></i>\r\n                        </div>\r\n                        {/* </Button> */}\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={11}>\r\n                        <p className=\"synclocationsheadings\">Sync Resources</p>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                        {/* <Button\r\n                  color=\"none\"\r\n                  onClick={this.syncResourceFunc}\r\n                  type=\"button\"\r\n                > */}\r\n                        <div className=\"  \" onClick={this.syncResourceFunc}>\r\n                          <i\r\n                            type=\"button\"\r\n                            className=\" fas fa-sync-alt synclocationsheadingsicon\"\r\n                          ></i>\r\n                        </div>\r\n                        {/* </Button> */}\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={11}>\r\n                        <p className=\"synclocationsheadings\">\r\n                          Sync Resource Types\r\n                        </p>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                        {/* <Button\r\n                  color=\"none\"\r\n                  onClick={this.syncResourceTypeFunc}\r\n                  type=\"button\"\r\n                        > */}\r\n                        <div onClick={this.syncResourceTypeFunc}>\r\n                          <i\r\n                            type=\"button\"\r\n                            className=\" fas fa-sync-alt synclocationsheadingsicon\"\r\n                          ></i>\r\n                        </div>\r\n                        {/* </Button> */}\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n              </ModalBody>\r\n            </Modal>\r\n          </div>\r\n          <ToastContainer autoClose={8000} />\r\n        </header>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStatetoProps = (state) => {\r\n  const { layoutType } = state.Layout;\r\n  return { layoutType };\r\n};\r\n\r\nexport default connect(mapStatetoProps, { toggleRightSidebar })(\r\n  withNamespaces()(Header)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}