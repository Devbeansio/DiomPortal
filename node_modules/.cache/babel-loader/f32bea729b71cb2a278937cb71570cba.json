{"ast":null,"code":"import _slicedToArray from\"C:/Users/tech sign/Desktop/diom(3)/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useQueryClient}from\"react-query\";import{getcustomer}from\"../../../../APIS/customerCheckedIn\";import{getuserdetails}from\"../../../../APIS/userProfle\";import{useParams}from\"react-router-dom\";import{usePaginatedQuery}from\"../../../../hooks/query\";import{getUserpastbookings}from\"../../../../APIS/customerCheckedIn\";import{getUserscheduledbookings}from\"../../../../APIS/customerCheckedIn\";import{getUseractivebookings}from\"../../../../APIS/customerCheckedIn\";export var UseCheckedinCustomerDetailed=function UseCheckedinCustomerDetailed(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useParams=useParams(),id=_useParams.id;var token=localStorage.getItem(\"Token\");var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(50),_useState6=_slicedToArray(_useState5,2),pageSize=_useState6[0],setPageSize=_useState6[1];var changeCurrentPage=function changeCurrentPage(pageNum){return setCurrentPage(pageNum);};var _useState7=useState(\"1\"),_useState8=_slicedToArray(_useState7,2),activeTabJustify=_useState8[0],setActiveTabJustify=_useState8[1];var queryClient=useQueryClient();var _usePaginatedQuery=usePaginatedQuery([\"customerdetails\",id],function(){return getuserdetails(pageSize,currentPage,token,id);}),customerdetailedData=_usePaginatedQuery.data.data,isLoading=_usePaginatedQuery.isLoading;var _usePaginatedQuery2=usePaginatedQuery([\"activecustomer\",id,activeTabJustify],function(){return getUseractivebookings(pageSize,currentPage,token,id);}),_usePaginatedQuery2$d=_usePaginatedQuery2.data,userActiveBookingData=_usePaginatedQuery2$d.data,total=_usePaginatedQuery2$d.total,hasNextPage=_usePaginatedQuery2$d.hasNextPage,hasPreviousPage=_usePaginatedQuery2$d.hasPreviousPage;var _usePaginatedQuery3=usePaginatedQuery([\"scheduledcustomer\",id,activeTabJustify],function(){return getUserscheduledbookings(pageSize,currentPage,token,id);}),userSechduledBookigsData=_usePaginatedQuery3.data.data;var _usePaginatedQuery4=usePaginatedQuery([\"pastcustomer\",id,activeTabJustify],function(){return getUserpastbookings(pageSize,currentPage,token,id);}),usePastBookingsData=_usePaginatedQuery4.data.data;var toggle=function toggle(){setIsOpen(!isOpen);};var pagelengthnum=function pagelengthnum(e){if(e.target.value===\"1\"){setPageSize(10);}else if(e.target.value===\"2\"){setPageSize(30);}else if(e.target.value===\"3\"){setPageSize(50);}};var pageOptions={sizePerPage:pageSize,totalSize:total!==null&&total!==void 0?total:0,custom:true};useEffect(function(){// FOR PRE-FETCHING NEXT PAGE\nif(hasNextPage){var nextPage=currentPage+1;queryClient.prefetchQuery([\"customerdetails\",nextPage],function(){return getuserdetails(pageSize,currentPage,token,id);});}},[currentPage,queryClient]);return{currentPage:currentPage,pageOptions:pageOptions,customerdetailedData:customerdetailedData,userActiveBookingData:userActiveBookingData,userSechduledBookigsData:userSechduledBookigsData,usePastBookingsData:usePastBookingsData,// activeTabJustify,\nisLoading:isLoading,activeTabJustify:activeTabJustify,setActiveTabJustify:setActiveTabJustify,pagelengthnum:pagelengthnum,pageSize:pageSize,toggle:toggle,isOpen:isOpen,changeCurrentPage:changeCurrentPage};};","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/diom(3)/src/pages/MyDashboard/CheckedinCustomer/CheckedinCustomerDetail/useCheckedinCustomerDetailed.js"],"names":["useEffect","useState","useQueryClient","getcustomer","getuserdetails","useParams","usePaginatedQuery","getUserpastbookings","getUserscheduledbookings","getUseractivebookings","UseCheckedinCustomerDetailed","isOpen","setIsOpen","id","token","localStorage","getItem","currentPage","setCurrentPage","pageSize","setPageSize","changeCurrentPage","pageNum","activeTabJustify","setActiveTabJustify","queryClient","customerdetailedData","data","isLoading","userActiveBookingData","total","hasNextPage","hasPreviousPage","userSechduledBookigsData","usePastBookingsData","toggle","pagelengthnum","e","target","value","pageOptions","sizePerPage","totalSize","custom","nextPage","prefetchQuery"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { getcustomer } from \"../../../../APIS/customerCheckedIn\";\r\nimport { getuserdetails } from \"../../../../APIS/userProfle\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { usePaginatedQuery } from \"../../../../hooks/query\";\r\nimport { getUserpastbookings } from \"../../../../APIS/customerCheckedIn\";\r\nimport { getUserscheduledbookings } from \"../../../../APIS/customerCheckedIn\";\r\nimport { getUseractivebookings } from \"../../../../APIS/customerCheckedIn\";\r\n\r\nexport const UseCheckedinCustomerDetailed = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { id } = useParams();\r\n  const token = localStorage.getItem(\"Token\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(50);\r\n  const changeCurrentPage = (pageNum) => setCurrentPage(pageNum);\r\n  const [activeTabJustify, setActiveTabJustify] = useState(\"1\");\r\n  const queryClient = useQueryClient();\r\n\r\n  const {\r\n    data: { data: customerdetailedData },\r\n    isLoading,\r\n  } = usePaginatedQuery([\"customerdetails\", id], () =>\r\n    getuserdetails(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const {\r\n    data: { data: userActiveBookingData, total, hasNextPage, hasPreviousPage },\r\n  } = usePaginatedQuery([\"activecustomer\", id, activeTabJustify], () =>\r\n    getUseractivebookings(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const {\r\n    data: { data: userSechduledBookigsData },\r\n  } = usePaginatedQuery([\"scheduledcustomer\", id, activeTabJustify], () =>\r\n    getUserscheduledbookings(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const {\r\n    data: { data: usePastBookingsData },\r\n  } = usePaginatedQuery([\"pastcustomer\", id, activeTabJustify], () =>\r\n    getUserpastbookings(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  const pagelengthnum = (e) => {\r\n    if (e.target.value === \"1\") {\r\n      setPageSize(10);\r\n    } else if (e.target.value === \"2\") {\r\n      setPageSize(30);\r\n    } else if (e.target.value === \"3\") {\r\n      setPageSize(50);\r\n    }\r\n  };\r\n  const pageOptions = {\r\n    sizePerPage: pageSize,\r\n    totalSize: total ?? 0,\r\n    custom: true,\r\n  };\r\n\r\n  useEffect(() => {\r\n    // FOR PRE-FETCHING NEXT PAGE\r\n    if (hasNextPage) {\r\n      const nextPage = currentPage + 1;\r\n      queryClient.prefetchQuery([\"customerdetails\", nextPage], () =>\r\n        getuserdetails(pageSize, currentPage, token, id)\r\n      );\r\n    }\r\n  }, [currentPage, queryClient]);\r\n\r\n  return {\r\n    currentPage,\r\n    pageOptions,\r\n    customerdetailedData,\r\n    userActiveBookingData,\r\n    userSechduledBookigsData,\r\n    usePastBookingsData,\r\n    // activeTabJustify,\r\n    isLoading,\r\n    activeTabJustify,\r\n    setActiveTabJustify,\r\n    pagelengthnum,\r\n    pageSize,\r\n    toggle,\r\n    isOpen,\r\n    changeCurrentPage,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}