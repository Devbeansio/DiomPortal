{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{DIOM_BASED_URLS}from\"../config/url\";/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */export var getTaxation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var size,page,token,applyFilter,history,res,_resJson,resJson,taxationData,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:size=_args.length>0&&_args[0]!==undefined?_args[0]:30;page=_args.length>1&&_args[1]!==undefined?_args[1]:1;token=_args.length>2&&_args[2]!==undefined?_args[2]:\"\";applyFilter=_args.length>3&&_args[3]!==undefined?_args[3]:false;history=_args.length>4?_args[4]:undefined;_context.next=7;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-finances/taxes\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 7:res=_context.sent;if(res.ok){_context.next=16;break;}if(!(res.status===401)){_context.next=12;break;}history.push(\"/login\");throw new Error(_resJson.error.message);case 12:_context.next=14;return res.json();case 14:_resJson=_context.sent;throw new Error(_resJson.error.message);case 16:_context.next=18;return res.json();case 18:resJson=_context.sent;taxationData=resJson.map(function(e,index){return _objectSpread(_objectSpread({},e),{},{id:index+1,Name:e.Name,Rate:e.Rate});});return _context.abrupt(\"return\",{data:taxationData,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 21:case\"end\":return _context.stop();}}},_callee);}));return function getTaxation(){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["DIOM_BASED_URLS","getTaxation","size","page","token","applyFilter","history","fetch","method","redirect","headers","Authorization","res","ok","status","push","Error","resJson","error","message","json","taxationData","map","e","index","id","Name","Rate","data","total","hasNextPage","hasPreviousPage"],"sources":["C:/Users/tech sign/Desktop/xyz/src/APIS/taxation.js"],"sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of all resource in DIOM\r\n */\r\n\r\nexport const getTaxation = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  applyFilter = false,\r\n  history\r\n) => {\r\n  const res = await fetch(`${DIOM_BASED_URLS}/admin-finances/taxes`, {\r\n    method: \"GET\",\r\n    redirect: \"follow\",\r\n    headers: {\r\n      Authorization: \"Bearer \" + token,\r\n    },\r\n  });\r\n  if (!res.ok) {\r\n    if(res.status === 401){\r\n      history.push(\"/login\");\r\n      throw new Error(resJson.error.message);\r\n   \r\n  }\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n\r\n  const taxationData = resJson.map((e, index) => ({\r\n    ...e,\r\n    id: index + 1,\r\n    Name: e.Name,\r\n    Rate: e.Rate,\r\n  }));\r\n\r\n  return {\r\n    data: taxationData,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n"],"mappings":"2WAAA,OAASA,eAAT,KAAgC,eAAhC,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,MAAO,IAAMC,YAAW,4FAAG,+NACzBC,IADyB,+CAClB,EADkB,CAEzBC,IAFyB,+CAElB,CAFkB,CAGzBC,KAHyB,+CAGjB,EAHiB,CAIzBC,WAJyB,+CAIX,KAJW,CAKzBC,OALyB,yDAOPC,MAAK,WAAIP,eAAJ,0BAA4C,CACjEQ,MAAM,CAAE,KADyD,CAEjEC,QAAQ,CAAE,QAFuD,CAGjEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYP,KADpB,CAHwD,CAA5C,CAPE,QAOnBQ,GAPmB,kBAcpBA,GAAG,CAACC,EAdgB,+BAepBD,GAAG,CAACE,MAAJ,GAAe,GAfK,2BAgBrBR,OAAO,CAACS,IAAR,CAAa,QAAb,EAhBqB,KAiBf,IAAIC,MAAJ,CAAUC,QAAO,CAACC,KAAR,CAAcC,OAAxB,CAjBe,gCAoBDP,IAAG,CAACQ,IAAJ,EApBC,SAoBjBH,QApBiB,oBAqBjB,IAAID,MAAJ,CAAUC,QAAO,CAACC,KAAR,CAAcC,OAAxB,CArBiB,gCAuBHP,IAAG,CAACQ,IAAJ,EAvBG,SAuBnBH,OAvBmB,eAyBnBI,YAzBmB,CAyBJJ,OAAO,CAACK,GAAR,CAAY,SAACC,CAAD,CAAIC,KAAJ,wCAC5BD,CAD4B,MAE/BE,EAAE,CAAED,KAAK,CAAG,CAFmB,CAG/BE,IAAI,CAAEH,CAAC,CAACG,IAHuB,CAI/BC,IAAI,CAAEJ,CAAC,CAACI,IAJuB,IAAZ,CAzBI,iCAgClB,CACLC,IAAI,CAAEP,YADD,CAELQ,KAAK,CAAEZ,OAAO,CAACY,KAFV,CAGLC,WAAW,CAAEb,OAAO,CAACa,WAHhB,CAILC,eAAe,CAAEd,OAAO,CAACc,eAJpB,CAhCkB,yDAAH,kBAAX9B,YAAW,0CAAjB"},"metadata":{},"sourceType":"module"}