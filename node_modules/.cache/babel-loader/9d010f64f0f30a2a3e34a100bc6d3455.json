{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { usePaginatedQuery } from \"../../../hooks/query\";\nimport { getuserdetails } from \"../../../APIS/userProfle\";\nimport { useParams } from \"react-router-dom\";\nimport { getUseractivebookings } from \"../../../APIS/userProfle\";\nimport { getUserPastBookings } from \"../../../APIS/userProfle\";\nimport { getUserScheduledBookings } from \"../../../APIS/userProfle\";\nexport const useUserProfileDetail = () => {\n  _s();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const {\n    id\n  } = useParams();\n  const token = localStorage.getItem(\"Token\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(50);\n  const [activeTabJustify, setActiveTabJustify] = useState(1);\n\n  const changeCurrentPage = pageNum => setCurrentPage(pageNum);\n\n  const queryClient = useQueryClient();\n  const {\n    data: {\n      data: userdetailsData\n    },\n    isLoading\n  } = usePaginatedQuery([\"userprofiledetails\", id], () => getuserdetails(pageSize, currentPage, token, id));\n  const {\n    data: {\n      data: userActivebookingsData,\n      hasNextPage,\n      hasPreviousPage,\n      total\n    }\n  } = usePaginatedQuery([\"activebookings\", `${pageSize}`, `${currentPage}`], () => getUseractivebookings(pageSize, currentPage, token, id));\n  const {\n    data: {\n      data: userPastBookingsData,\n      hasNextPage: pastHasNextPage\n    }\n  } = usePaginatedQuery([\"pastbookings\", `${pageSize}`, `${currentPage}`], () => getUserPastBookings(pageSize, currentPage, token, id));\n  const {\n    data: {\n      data: userScheduledBookingsData,\n      hasNextPage: scheduledHasNextPage\n    }\n  } = usePaginatedQuery([\"scheduledbookings\", `${pageSize}`, `${currentPage}`], () => getUserScheduledBookings(pageSize, currentPage, token, id));\n\n  const toggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const pagelengthnum = e => {\n    if (e.target.value === \"1\") {\n      setPageSize(10);\n    } else if (e.target.value === \"2\") {\n      setPageSize(30);\n    } else if (e.target.value === \"3\") {\n      setPageSize(50);\n    }\n  };\n\n  const pageOptions = {\n    sizePerPage: pageSize,\n    totalSize: total !== null && total !== void 0 ? total : 0,\n    custom: true\n  };\n\n  const toggleCustomJustified = tab => {\n    if (activeTabJustify !== tab) {\n      setActiveTabJustify(tab);\n    }\n  };\n\n  useEffect(() => {\n    // FOR PRE-FETCHING NEXT PAGE\n    if (hasNextPage) {\n      const nextPage = currentPage + 1;\n      queryClient.prefetchQuery([\"userprofiledetails\", nextPage], () => getuserdetails(pageSize, currentPage, token, id));\n    }\n  }, [currentPage, queryClient]);\n  return {\n    currentPage,\n    pageOptions,\n    userdetailsData,\n    userActivebookingsData,\n    userPastBookingsData,\n    userScheduledBookingsData,\n    hasNextPage,\n    hasPreviousPage,\n    total,\n    isLoading,\n    pagelengthnum,\n    pastHasNextPage,\n    scheduledHasNextPage,\n    pageSize,\n    toggle,\n    isOpen,\n    toggleCustomJustified,\n    changeCurrentPage\n  };\n};\n\n_s(useUserProfileDetail, \"ExfT1R8bitDlDGNYK3bgjJBiX2A=\", false, function () {\n  return [useParams, useQueryClient, usePaginatedQuery, usePaginatedQuery, usePaginatedQuery, usePaginatedQuery];\n});","map":{"version":3,"sources":["D:/diom working project/staging/src/pages/UserProfile/UserProfileDetail/useUserProfileDetail.js"],"names":["useEffect","useState","useQueryClient","usePaginatedQuery","getuserdetails","useParams","getUseractivebookings","getUserPastBookings","getUserScheduledBookings","useUserProfileDetail","isOpen","setIsOpen","id","token","localStorage","getItem","currentPage","setCurrentPage","pageSize","setPageSize","activeTabJustify","setActiveTabJustify","changeCurrentPage","pageNum","queryClient","data","userdetailsData","isLoading","userActivebookingsData","hasNextPage","hasPreviousPage","total","userPastBookingsData","pastHasNextPage","userScheduledBookingsData","scheduledHasNextPage","toggle","pagelengthnum","e","target","value","pageOptions","sizePerPage","totalSize","custom","toggleCustomJustified","tab","nextPage","prefetchQuery"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { usePaginatedQuery } from \"../../../hooks/query\";\r\nimport { getuserdetails } from \"../../../APIS/userProfle\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getUseractivebookings } from \"../../../APIS/userProfle\";\r\nimport { getUserPastBookings } from \"../../../APIS/userProfle\";\r\nimport { getUserScheduledBookings } from \"../../../APIS/userProfle\";\r\n\r\nexport const useUserProfileDetail = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { id } = useParams();\r\n  const token = localStorage.getItem(\"Token\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(50);\r\n  const [activeTabJustify, setActiveTabJustify] = useState(1);\r\n  const changeCurrentPage = (pageNum) => setCurrentPage(pageNum);\r\n  const queryClient = useQueryClient();\r\n\r\n  const {\r\n    data: { data: userdetailsData },\r\n    isLoading,\r\n  } = usePaginatedQuery([\"userprofiledetails\", id], () =>\r\n    getuserdetails(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const {\r\n    data: { data: userActivebookingsData, hasNextPage, hasPreviousPage, total },\r\n  } = usePaginatedQuery([\"activebookings\", `${pageSize}`,`${currentPage}`], () =>\r\n    getUseractivebookings(pageSize, currentPage, token, id)\r\n  );\r\n  const {\r\n    data: { data: userPastBookingsData,hasNextPage:pastHasNextPage },\r\n  } = usePaginatedQuery([\"pastbookings\", `${pageSize}`,`${currentPage}`], () =>\r\n    getUserPastBookings(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const {\r\n    data: { data: userScheduledBookingsData ,hasNextPage:scheduledHasNextPage},\r\n  } = usePaginatedQuery([\"scheduledbookings\", `${pageSize}`,`${currentPage}`], () =>\r\n    getUserScheduledBookings(pageSize, currentPage, token, id)\r\n  );\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  const pagelengthnum = (e) => {\r\n    if (e.target.value === \"1\") {\r\n      setPageSize(10);\r\n    } else if (e.target.value === \"2\") {\r\n      setPageSize(30);\r\n    } else if (e.target.value === \"3\") {\r\n      setPageSize(50);\r\n    }\r\n  };\r\n  const pageOptions = {\r\n    sizePerPage: pageSize,\r\n    totalSize: total ?? 0,\r\n    custom: true,\r\n  };\r\n\r\n  const toggleCustomJustified = (tab) => {\r\n    if (activeTabJustify !== tab) {\r\n      setActiveTabJustify(tab);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // FOR PRE-FETCHING NEXT PAGE\r\n    if (hasNextPage) {\r\n      const nextPage = currentPage + 1;\r\n      queryClient.prefetchQuery([\"userprofiledetails\", nextPage], () =>\r\n        getuserdetails(pageSize, currentPage, token, id)\r\n      );\r\n    }\r\n  }, [currentPage, queryClient]);\r\n  return {\r\n    currentPage,\r\n    pageOptions,\r\n    userdetailsData,\r\n    userActivebookingsData,\r\n    userPastBookingsData,\r\n    userScheduledBookingsData,\r\n    hasNextPage,\r\n    hasPreviousPage,\r\n    total,\r\n    isLoading,\r\n    pagelengthnum,\r\n    pastHasNextPage,scheduledHasNextPage,\r\n    pageSize,\r\n    toggle,\r\n    isOpen,\r\n    toggleCustomJustified,\r\n    changeCurrentPage,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}