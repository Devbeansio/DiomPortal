{"ast":null,"code":"import _slicedToArray from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useQueryClient}from\"react-query\";import{usePaginatedQuery}from\"../../../hooks/query\";import{getuserdetails}from\"../../../APIS/userProfle\";import{useHistory,useParams}from\"react-router-dom\";import{getUseractivebookings}from\"../../../APIS/userProfle\";import{getUserPastBookings}from\"../../../APIS/userProfle\";import{getUserScheduledBookings}from\"../../../APIS/userProfle\";export var useUserProfileDetail=function useUserProfileDetail(){var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useParams=useParams(),id=_useParams.id;var token=localStorage.getItem(\"Token\");var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(50),_useState6=_slicedToArray(_useState5,2),pageSize=_useState6[0],setPageSize=_useState6[1];var _useState7=useState(\"1\"),_useState8=_slicedToArray(_useState7,2),activeTabJustify=_useState8[0],setActiveTabJustify=_useState8[1];var changeCurrentPage=function changeCurrentPage(pageNum){return setCurrentPage(pageNum);};var queryClient=useQueryClient();var _usePaginatedQuery=usePaginatedQuery([\"userprofiledetails\",id],function(){return getuserdetails(pageSize,currentPage,token,id,history);}),userdetailsData=_usePaginatedQuery.data.data,isLoading=_usePaginatedQuery.isLoading;var _usePaginatedQuery2=usePaginatedQuery([\"activebookings\",\"\".concat(pageSize),\"\".concat(currentPage)],function(){return getUseractivebookings(pageSize,currentPage,token,id,history);}),_usePaginatedQuery2$d=_usePaginatedQuery2.data,userActivebookingsData=_usePaginatedQuery2$d.data,hasNextPage=_usePaginatedQuery2$d.hasNextPage,hasPreviousPage=_usePaginatedQuery2$d.hasPreviousPage,total=_usePaginatedQuery2$d.total;var _usePaginatedQuery3=usePaginatedQuery([\"pastbookings\",\"\".concat(pageSize),\"\".concat(currentPage)],function(){return getUserPastBookings(pageSize,currentPage,token,id,history);}),_usePaginatedQuery3$d=_usePaginatedQuery3.data,userPastBookingsData=_usePaginatedQuery3$d.data,pastHasNextPage=_usePaginatedQuery3$d.hasNextPage;var _usePaginatedQuery4=usePaginatedQuery([\"scheduledbookings\",\"\".concat(pageSize),\"\".concat(currentPage)],function(){return getUserScheduledBookings(pageSize,currentPage,token,id,history);}),_usePaginatedQuery4$d=_usePaginatedQuery4.data,userScheduledBookingsData=_usePaginatedQuery4$d.data,scheduledHasNextPage=_usePaginatedQuery4$d.hasNextPage;var toggle=function toggle(){setIsOpen(!isOpen);};var pagelengthnum=function pagelengthnum(e){if(e.target.value===\"1\"){setPageSize(10);}else if(e.target.value===\"2\"){setPageSize(30);}else if(e.target.value===\"3\"){setPageSize(50);}};var pageOptions={sizePerPage:pageSize,totalSize:total!==null&&total!==void 0?total:0,custom:true};var toggleCustomJustified=function toggleCustomJustified(tab){if(activeTabJustify!==tab){setActiveTabJustify(tab);}};useEffect(function(){// FOR PRE-FETCHING NEXT PAGE\nif(hasNextPage){var nextPage=currentPage+1;queryClient.prefetchQuery([\"userprofiledetails\",nextPage],function(){return getuserdetails(pageSize,currentPage,token,id,history);});}},[currentPage,queryClient]);return{currentPage:currentPage,pageOptions:pageOptions,userdetailsData:userdetailsData,userActivebookingsData:userActivebookingsData,userPastBookingsData:userPastBookingsData,userScheduledBookingsData:userScheduledBookingsData,hasNextPage:hasNextPage,activeTabJustify:activeTabJustify,setActiveTabJustify:setActiveTabJustify,hasPreviousPage:hasPreviousPage,total:total,isLoading:isLoading,pagelengthnum:pagelengthnum,pastHasNextPage:pastHasNextPage,scheduledHasNextPage:scheduledHasNextPage,pageSize:pageSize,toggle:toggle,isOpen:isOpen,toggleCustomJustified:toggleCustomJustified,changeCurrentPage:changeCurrentPage};};","map":{"version":3,"names":["useEffect","useState","useQueryClient","usePaginatedQuery","getuserdetails","useHistory","useParams","getUseractivebookings","getUserPastBookings","getUserScheduledBookings","useUserProfileDetail","history","isOpen","setIsOpen","id","token","localStorage","getItem","currentPage","setCurrentPage","pageSize","setPageSize","activeTabJustify","setActiveTabJustify","changeCurrentPage","pageNum","queryClient","userdetailsData","data","isLoading","userActivebookingsData","hasNextPage","hasPreviousPage","total","userPastBookingsData","pastHasNextPage","userScheduledBookingsData","scheduledHasNextPage","toggle","pagelengthnum","e","target","value","pageOptions","sizePerPage","totalSize","custom","toggleCustomJustified","tab","nextPage","prefetchQuery"],"sources":["C:/Users/tech sign/Desktop/xyz/src/pages/UserProfile/UserProfileDetail/useUserProfileDetail.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useQueryClient } from \"react-query\";\r\nimport { usePaginatedQuery } from \"../../../hooks/query\";\r\nimport { getuserdetails } from \"../../../APIS/userProfle\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { getUseractivebookings } from \"../../../APIS/userProfle\";\r\nimport { getUserPastBookings } from \"../../../APIS/userProfle\";\r\nimport { getUserScheduledBookings } from \"../../../APIS/userProfle\";\r\n\r\nexport const useUserProfileDetail = () => {\r\n  let history = useHistory();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const { id } = useParams();\r\n  const token = localStorage.getItem(\"Token\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(50);\r\n  const [activeTabJustify, setActiveTabJustify] = useState(\"1\");\r\n  const changeCurrentPage = (pageNum) => setCurrentPage(pageNum);\r\n  const queryClient = useQueryClient();\r\n\r\n  const {\r\n    data: { data: userdetailsData },\r\n    isLoading,\r\n  } = usePaginatedQuery([\"userprofiledetails\", id], () =>\r\n    getuserdetails(pageSize, currentPage, token, id,history)\r\n  );\r\n\r\n  const {\r\n    data: { data: userActivebookingsData, hasNextPage, hasPreviousPage, total },\r\n  } = usePaginatedQuery([\"activebookings\", `${pageSize}`,`${currentPage}`], () =>\r\n    getUseractivebookings(pageSize, currentPage, token, id,history)\r\n  );\r\n  const {\r\n    data: { data: userPastBookingsData,hasNextPage:pastHasNextPage },\r\n  } = usePaginatedQuery([\"pastbookings\", `${pageSize}`,`${currentPage}`], () =>\r\n    getUserPastBookings(pageSize, currentPage, token, id,history)\r\n  );\r\n\r\n  const {\r\n    data: { data: userScheduledBookingsData ,hasNextPage:scheduledHasNextPage},\r\n  } = usePaginatedQuery([\"scheduledbookings\", `${pageSize}`,`${currentPage}`], () =>\r\n    getUserScheduledBookings(pageSize, currentPage, token, id,history)\r\n  );\r\n\r\n  const toggle = () => {\r\n    setIsOpen(!isOpen);\r\n  };\r\n  const pagelengthnum = (e) => {\r\n    if (e.target.value === \"1\") {\r\n      setPageSize(10);\r\n    } else if (e.target.value === \"2\") {\r\n      setPageSize(30);\r\n    } else if (e.target.value === \"3\") {\r\n      setPageSize(50);\r\n    }\r\n  };\r\n  const pageOptions = {\r\n    sizePerPage: pageSize,\r\n    totalSize: total ?? 0,\r\n    custom: true,\r\n  };\r\n\r\n  const toggleCustomJustified = (tab) => {\r\n    if (activeTabJustify !== tab) {\r\n      setActiveTabJustify(tab);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // FOR PRE-FETCHING NEXT PAGE\r\n    if (hasNextPage) {\r\n      const nextPage = currentPage + 1;\r\n      queryClient.prefetchQuery([\"userprofiledetails\", nextPage], () =>\r\n        getuserdetails(pageSize, currentPage, token, id,history)\r\n      );\r\n    }\r\n  }, [currentPage, queryClient]);\r\n  return {\r\n    currentPage,\r\n    pageOptions,\r\n    userdetailsData,\r\n    userActivebookingsData,\r\n    userPastBookingsData,\r\n    userScheduledBookingsData,\r\n    hasNextPage,\r\n    activeTabJustify, setActiveTabJustify,\r\n    hasPreviousPage,\r\n    total,\r\n    isLoading,\r\n    pagelengthnum,\r\n    pastHasNextPage,scheduledHasNextPage,\r\n    pageSize,\r\n    toggle,\r\n    isOpen,\r\n    toggleCustomJustified,\r\n    changeCurrentPage,\r\n  };\r\n};\r\n"],"mappings":"oHAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,cAAT,KAA+B,aAA/B,CACA,OAASC,iBAAT,KAAkC,sBAAlC,CACA,OAASC,cAAT,KAA+B,0BAA/B,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,CACA,OAASC,qBAAT,KAAsC,0BAAtC,CACA,OAASC,mBAAT,KAAoC,0BAApC,CACA,OAASC,wBAAT,KAAyC,0BAAzC,CAEA,MAAO,IAAMC,qBAAoB,CAAG,QAAvBA,qBAAuB,EAAM,CACxC,GAAIC,QAAO,CAAGN,UAAU,EAAxB,CACA,cAA4BJ,QAAQ,CAAC,KAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eACA,eAAeP,SAAS,EAAxB,CAAQQ,EAAR,YAAQA,EAAR,CACA,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,eAAsChB,QAAQ,CAAC,CAAD,CAA9C,yCAAOiB,WAAP,eAAoBC,cAApB,eACA,eAAgClB,QAAQ,CAAC,EAAD,CAAxC,yCAAOmB,QAAP,eAAiBC,WAAjB,eACA,eAAgDpB,QAAQ,CAAC,GAAD,CAAxD,yCAAOqB,gBAAP,eAAyBC,mBAAzB,eACA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,OAAD,QAAaN,eAAc,CAACM,OAAD,CAA3B,EAA1B,CACA,GAAMC,YAAW,CAAGxB,cAAc,EAAlC,CAEA,uBAGIC,iBAAiB,CAAC,CAAC,oBAAD,CAAuBW,EAAvB,CAAD,CAA6B,iBAChDV,eAAc,CAACgB,QAAD,CAAWF,WAAX,CAAwBH,KAAxB,CAA+BD,EAA/B,CAAkCH,OAAlC,CADkC,EAA7B,CAHrB,CACgBgB,eADhB,oBACEC,IADF,CACUA,IADV,CAEEC,SAFF,oBAEEA,SAFF,CAOA,wBAEI1B,iBAAiB,CAAC,CAAC,gBAAD,WAAsBiB,QAAtB,YAAoCF,WAApC,EAAD,CAAqD,iBACxEX,sBAAqB,CAACa,QAAD,CAAWF,WAAX,CAAwBH,KAAxB,CAA+BD,EAA/B,CAAkCH,OAAlC,CADmD,EAArD,CAFrB,2CACEiB,IADF,CACgBE,sBADhB,uBACUF,IADV,CACwCG,WADxC,uBACwCA,WADxC,CACqDC,eADrD,uBACqDA,eADrD,CACsEC,KADtE,uBACsEA,KADtE,CAKA,wBAEI9B,iBAAiB,CAAC,CAAC,cAAD,WAAoBiB,QAApB,YAAkCF,WAAlC,EAAD,CAAmD,iBACtEV,oBAAmB,CAACY,QAAD,CAAWF,WAAX,CAAwBH,KAAxB,CAA+BD,EAA/B,CAAkCH,OAAlC,CADmD,EAAnD,CAFrB,2CACEiB,IADF,CACgBM,oBADhB,uBACUN,IADV,CACiDO,eADjD,uBACqCJ,WADrC,CAMA,wBAEI5B,iBAAiB,CAAC,CAAC,mBAAD,WAAyBiB,QAAzB,YAAuCF,WAAvC,EAAD,CAAwD,iBAC3ET,yBAAwB,CAACW,QAAD,CAAWF,WAAX,CAAwBH,KAAxB,CAA+BD,EAA/B,CAAkCH,OAAlC,CADmD,EAAxD,CAFrB,2CACEiB,IADF,CACgBQ,yBADhB,uBACUR,IADV,CACuDS,oBADvD,uBAC2CN,WAD3C,CAMA,GAAMO,OAAM,CAAG,QAATA,OAAS,EAAM,CACnBzB,SAAS,CAAC,CAACD,MAAF,CAAT,CACD,CAFD,CAGA,GAAM2B,cAAa,CAAG,QAAhBA,cAAgB,CAACC,CAAD,CAAO,CAC3B,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,GAAvB,CAA4B,CAC1BrB,WAAW,CAAC,EAAD,CAAX,CACD,CAFD,IAEO,IAAImB,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,GAAvB,CAA4B,CACjCrB,WAAW,CAAC,EAAD,CAAX,CACD,CAFM,IAEA,IAAImB,CAAC,CAACC,MAAF,CAASC,KAAT,GAAmB,GAAvB,CAA4B,CACjCrB,WAAW,CAAC,EAAD,CAAX,CACD,CACF,CARD,CASA,GAAMsB,YAAW,CAAG,CAClBC,WAAW,CAAExB,QADK,CAElByB,SAAS,CAAEZ,KAAF,SAAEA,KAAF,UAAEA,KAAF,CAAW,CAFF,CAGlBa,MAAM,CAAE,IAHU,CAApB,CAMA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,CAACC,GAAD,CAAS,CACrC,GAAI1B,gBAAgB,GAAK0B,GAAzB,CAA8B,CAC5BzB,mBAAmB,CAACyB,GAAD,CAAnB,CACD,CACF,CAJD,CAMAhD,SAAS,CAAC,UAAM,CACd;AACA,GAAI+B,WAAJ,CAAiB,CACf,GAAMkB,SAAQ,CAAG/B,WAAW,CAAG,CAA/B,CACAQ,WAAW,CAACwB,aAAZ,CAA0B,CAAC,oBAAD,CAAuBD,QAAvB,CAA1B,CAA4D,iBAC1D7C,eAAc,CAACgB,QAAD,CAAWF,WAAX,CAAwBH,KAAxB,CAA+BD,EAA/B,CAAkCH,OAAlC,CAD4C,EAA5D,EAGD,CACF,CARQ,CAQN,CAACO,WAAD,CAAcQ,WAAd,CARM,CAAT,CASA,MAAO,CACLR,WAAW,CAAXA,WADK,CAELyB,WAAW,CAAXA,WAFK,CAGLhB,eAAe,CAAfA,eAHK,CAILG,sBAAsB,CAAtBA,sBAJK,CAKLI,oBAAoB,CAApBA,oBALK,CAMLE,yBAAyB,CAAzBA,yBANK,CAOLL,WAAW,CAAXA,WAPK,CAQLT,gBAAgB,CAAhBA,gBARK,CAQaC,mBAAmB,CAAnBA,mBARb,CASLS,eAAe,CAAfA,eATK,CAULC,KAAK,CAALA,KAVK,CAWLJ,SAAS,CAATA,SAXK,CAYLU,aAAa,CAAbA,aAZK,CAaLJ,eAAe,CAAfA,eAbK,CAaWE,oBAAoB,CAApBA,oBAbX,CAcLjB,QAAQ,CAARA,QAdK,CAeLkB,MAAM,CAANA,MAfK,CAgBL1B,MAAM,CAANA,MAhBK,CAiBLmC,qBAAqB,CAArBA,qBAjBK,CAkBLvB,iBAAiB,CAAjBA,iBAlBK,CAAP,CAoBD,CAxFM"},"metadata":{},"sourceType":"module"}