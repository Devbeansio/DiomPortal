{"ast":null,"code":"// import firebase from \"firebase\";\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\"; // Add the Firebase products that you want to use\n\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nconst auth = getAuth();\n\nclass FirebaseAuthBackend {\n  constructor(firebaseConfig) {\n    this.registerUser = (email, password) => {\n      return new Promise((resolve, reject) => {\n        auth().createUserWithEmailAndPassword(email, password).then(user => {\n          resolve(auth().currentUser);\n        }, error => {\n          reject(this._handleError(error));\n        });\n      });\n    };\n\n    this.loginUser = (email, password) => {\n      return new Promise((resolve, reject) => {\n        auth().signInWithEmailAndPassword(email, password).then(user => {\n          resolve(auth().currentUser);\n        }, error => {\n          reject(this._handleError(error));\n        });\n      });\n    };\n\n    this.forgetPassword = email => {\n      return new Promise((resolve, reject) => {\n        auth().sendPasswordResetEmail(email, {\n          url: window.location.protocol + \"//\" + window.location.host + \"/login\"\n        }).then(() => {\n          resolve(true);\n        }).catch(error => {\n          reject(this._handleError(error));\n        });\n      });\n    };\n\n    this.logout = () => {\n      return new Promise((resolve, reject) => {\n        auth().signOut().then(() => {\n          resolve(true);\n        }).catch(error => {\n          reject(this._handleError(error));\n        });\n      });\n    };\n\n    this.setLoggeedInUser = user => {\n      localStorage.setItem(\"authUser\", JSON.stringify(user));\n    };\n\n    this.getAuthenticatedUser = () => {\n      if (!localStorage.getItem(\"authUser\")) return null;\n      return JSON.parse(localStorage.getItem(\"authUser\"));\n    };\n\n    if (firebaseConfig) {\n      // Initialize Firebase\n      initializeApp(firebaseConfig);\n      auth().onAuthStateChanged(user => {\n        if (user) {\n          localStorage.setItem(\"authUser\", JSON.stringify(user));\n        } else {\n          localStorage.removeItem(\"authUser\");\n        }\n      });\n    }\n  }\n  /**\r\n   * Registers the user with given details\r\n   */\n\n\n  /**\r\n   * Handle the error\r\n   * @param {*} error\r\n   */\n  _handleError(error) {\n    // var errorCode = error.code;\n    var errorMessage = error.message;\n    return errorMessage;\n  }\n\n}\n\nlet _fireBaseBackend = null;\n/**\r\n * Initilize the backend\r\n * @param {*} config\r\n */\n\nconst initFirebaseBackend = config => {\n  if (!_fireBaseBackend) {\n    _fireBaseBackend = new FirebaseAuthBackend(config);\n  }\n\n  return _fireBaseBackend;\n};\n/**\r\n * Returns the firebase backend\r\n */\n\n\nconst getFirebaseBackend = () => {\n  return _fireBaseBackend;\n};\n\nexport { initFirebaseBackend, getFirebaseBackend };","map":{"version":3,"names":["initializeApp","getAuth","auth","FirebaseAuthBackend","constructor","firebaseConfig","registerUser","email","password","Promise","resolve","reject","createUserWithEmailAndPassword","then","user","currentUser","error","_handleError","loginUser","signInWithEmailAndPassword","forgetPassword","sendPasswordResetEmail","url","window","location","protocol","host","catch","logout","signOut","setLoggeedInUser","localStorage","setItem","JSON","stringify","getAuthenticatedUser","getItem","parse","onAuthStateChanged","removeItem","errorMessage","message","_fireBaseBackend","initFirebaseBackend","config","getFirebaseBackend"],"sources":["C:/Users/tech sign/Desktop/xyz/src/helpers/firebase_helper.js"],"sourcesContent":["// import firebase from \"firebase\";\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nconst auth = getAuth();\r\nclass FirebaseAuthBackend {\r\n  constructor(firebaseConfig) {\r\n    if (firebaseConfig) {\r\n      // Initialize Firebase\r\n      initializeApp(firebaseConfig);\r\n      auth().onAuthStateChanged((user) => {\r\n        if (user) {\r\n          localStorage.setItem(\"authUser\", JSON.stringify(user));\r\n        } else {\r\n          localStorage.removeItem(\"authUser\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Registers the user with given details\r\n   */\r\n  registerUser = (email, password) => {\r\n    return new Promise((resolve, reject) => {\r\n      auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then(\r\n          (user) => {\r\n            resolve(auth().currentUser);\r\n          },\r\n          (error) => {\r\n            reject(this._handleError(error));\r\n          }\r\n        );\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Login user with given details\r\n   */\r\n  loginUser = (email, password) => {\r\n    return new Promise((resolve, reject) => {\r\n      auth()\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then(\r\n          (user) => {\r\n            resolve(auth().currentUser);\r\n            \r\n          },\r\n          (error) => {\r\n            reject(this._handleError(error));\r\n          }\r\n        );\r\n    });\r\n  };\r\n\r\n  /**\r\n   * forget Password user with given details\r\n   */\r\n  forgetPassword = (email) => {\r\n    return new Promise((resolve, reject) => {\r\n      auth()\r\n        .sendPasswordResetEmail(email, {\r\n          url:\r\n            window.location.protocol + \"//\" + window.location.host + \"/login\",\r\n        })\r\n        .then(() => {\r\n          resolve(true);\r\n        })\r\n        .catch((error) => {\r\n          reject(this._handleError(error));\r\n        });\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Logout the user\r\n   */\r\n  logout = () => {\r\n    return new Promise((resolve, reject) => {\r\n      auth()\r\n        .signOut()\r\n        .then(() => {\r\n          resolve(true);\r\n        })\r\n        .catch((error) => {\r\n          reject(this._handleError(error));\r\n        });\r\n    });\r\n  };\r\n\r\n  setLoggeedInUser = (user) => {\r\n    localStorage.setItem(\"authUser\", JSON.stringify(user));\r\n  };\r\n\r\n  /**\r\n   * Returns the authenticated user\r\n   */\r\n  getAuthenticatedUser = () => {\r\n    if (!localStorage.getItem(\"authUser\")) return null;\r\n    return JSON.parse(localStorage.getItem(\"authUser\"));\r\n  };\r\n\r\n  /**\r\n   * Handle the error\r\n   * @param {*} error\r\n   */\r\n  _handleError(error) {\r\n    // var errorCode = error.code;\r\n    var errorMessage = error.message;\r\n    return errorMessage;\r\n  }\r\n}\r\n\r\nlet _fireBaseBackend = null;\r\n\r\n/**\r\n * Initilize the backend\r\n * @param {*} config\r\n */\r\nconst initFirebaseBackend = (config) => {\r\n  if (!_fireBaseBackend) {\r\n    _fireBaseBackend = new FirebaseAuthBackend(config);\r\n  }\r\n  return _fireBaseBackend;\r\n};\r\n\r\n/**\r\n * Returns the firebase backend\r\n */\r\nconst getFirebaseBackend = () => {\r\n  return _fireBaseBackend;\r\n};\r\n\r\nexport { initFirebaseBackend, getFirebaseBackend };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}