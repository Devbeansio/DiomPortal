{"ast":null,"code":"import _classCallCheck from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Select from\"react-select\";import{connect}from\"react-redux\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{ModalHeader,ModalBody,Modal,Row,Col,Button,FormGroup,Label}from\"reactstrap\";import{Link}from\"react-router-dom\";import\"./css/headers.css\";// Import menuDropdown\n// import LanguageDropdown from \"../CommonForBoth/TopbarDropdown/LanguageDropdown\";\nimport NotificationDropdown from\"../CommonForBoth/TopbarDropdown/NotificationDropdown\";import ProfileMenu from\"../CommonForBoth/TopbarDropdown/ProfileMenu\";//Import i18n\nimport{withNamespaces}from\"react-i18next\";// Redux Store\nimport{toggleRightSidebar}from\"../../store/actions\";import logosmdark from\"../../assets/images/logo-sm-dark.png\";import logodark from\"../../assets/images/logo-dark.png\";import Diomlogo from\"./pics/DIOM.png\";import{DIOM_BASED_URLS}from\"../../config/url\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.btnTapped=function(){_this.setState({modal_static:true});};_this.syncLocationsFunc=function(){_this.setState({locationDiablity:true});fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations/sync\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){// if (result) {\ntoast.success(\"Locations Synced Successfully\");_this.setState({locationDiablity:false});// }\n// else {\n//   toast.error(\" Something went wrong\");\n// }\n}).catch(function(error){return toast.error(\" Something went wrong\");});};_this.syncResourceFunc=function(){_this.setState({resourcesDiablity:true});fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resources-inventories/sync\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){if(result){toast.success(\"Resources Successfully Synced\");_this.setState({resourcesDiablity:false});}else{toast.error(\" Something went wrong\");_this.setState({resourcesDiablity:false});}}).catch(function(error){return console.log(\"error\",error);});// toast.error(\" Something went wrong\"));\n};_this.syncResourceTypeFunc=function(){_this.setState({resourceTypesDiablity:true});fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-resource-types-inventories/sync\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+_this.state.token}}).then(function(response){return response.json();}).then(function(result){if(result){toast.success(\"ResourceTypes Successfully Synced\");_this.setState({resourceTypesDiablity:false});}else{toast.error(\" Something went wrong\");_this.setState({resourceTypesDiablity:false});}}).catch(function(error){return toast.error(\" Something went wrong\");});};_this.state={token:localStorage.getItem(\"Token\"),isSearch:false,isSocialPf:false,modal_static:false,disabledvalue:true,locationDiablity:false,resourcesDiablity:false,resourceTypesDiablity:false,diomBrand:[],diomLocation:[],diomAllLocation:[],selectedLocation:\"\",selectedLocationData:{}};_this.toggleMenu=_this.toggleMenu.bind(_assertThisInitialized(_this));_this.toggleRightbar=_this.toggleRightbar.bind(_assertThisInitialized(_this));_this.toggleFullscreen=_this.toggleFullscreen.bind(_assertThisInitialized(_this));return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function componentDidMount(){// this.diomBrandfunc();\n// this.diomLocationfunc();\n// this.alllocationsfunc();\n// this.getSelectedDiomLocation(localStorage.getItem(\"locationId\"));\n// {\n//   this.locationId && this.setState({ disabledvalue: false });\n// }\n}/**\r\n   * Toggle sidebar\r\n   */},{key:\"toggleMenu\",value:function toggleMenu(){this.props.toggleMenuCallback();}/**\r\n   * Toggles the sidebar\r\n   */},{key:\"toggleRightbar\",value:function toggleRightbar(){this.props.toggleRightSidebar();}},{key:\"toggleFullscreen\",value:function toggleFullscreen(){if(!document.fullscreenElement&&/* alternative standard method */!document.mozFullScreenElement&&!document.webkitFullscreenElement){// current working methods\nif(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen();}else if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen();}else if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);}}else{if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}}}},{key:\"removeBodyCss\",value:function removeBodyCss(){document.body.classList.add(\"no_padding\");}// tog_center = () => {\n//   if (!localStorage.getItem(\"locationId\")) {\n//     return;\n//   }\n//   this.setState((prevState) => ({\n//     modal_center: !prevState.modal_center,\n//   }));\n//   this.removeBodyCss();\n// };\n},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"header\",{id:\"page-topbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-brand-box\",children:[/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"logo logo-dark\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-sm\",children:/*#__PURE__*/_jsx(\"img\",{src:logosmdark,alt:\"\",height:\"22\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"logo-lg\",children:/*#__PURE__*/_jsx(\"img\",{src:logodark,alt:\"\",height:\"20\"})})]}),/*#__PURE__*/_jsxs(Link,{to:\"#\",className:\"logo logo-light\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"logo-sm\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"logo-lg\",children:[/*#__PURE__*/_jsx(\"img\",{src:Diomlogo,alt:\"\",height:\"30\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(NotificationDropdown,{})}),/*#__PURE__*/_jsx(\"div\",{className:\" dropdown d-inline-block\",children:/*#__PURE__*/_jsx(Button,{color:\"none\",onClick:this.btnTapped,type:\"button\",className:\"header-item noti-icon right-bar-toggle waves-effect\",children:/*#__PURE__*/_jsx(\"i\",{className:\" fas fa-sync-alt\"})})}),/*#__PURE__*/_jsx(ProfileMenu,{})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.modal_static,toggle:function toggle(){return _this2.setState({modal_static:false});},centered:true,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4}),/*#__PURE__*/_jsx(Col,{md:7,children:/*#__PURE__*/_jsx(ModalHeader,{toggle:function toggle(){return _this2.setState({modal_static:false});},children:/*#__PURE__*/_jsx(\"p\",{className:\"syncmodelheadeing\",children:\"Sync Data\"})})}),/*#__PURE__*/_jsx(Col,{md:1})]}),/*#__PURE__*/_jsxs(ModalBody,{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsx(Col,{md:8,children:/*#__PURE__*/_jsx(\"p\",{className:\"syncmodelclickdetail\",children:\"Click the Icons to update the data for lcoations, resources or resources types.\"})}),/*#__PURE__*/_jsx(Col,{md:2})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2}),/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:11,children:/*#__PURE__*/_jsx(\"p\",{className:\"synclocationsheadings\",children:\"Sync Locations\"})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(\"div\",{hidden:this.state.locationDiablity,onClick:this.syncLocationsFunc,children:/*#__PURE__*/_jsx(\"i\",{type:\"button\",className:\" fas fa-sync-alt synclocationsheadingsicon \"})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:11,children:/*#__PURE__*/_jsx(\"p\",{className:\"synclocationsheadings\",children:\"Sync Resources\"})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(\"div\",{hidden:this.state.resourcesDiablity,onClick:this.syncResourceFunc,children:/*#__PURE__*/_jsx(\"i\",{type:\"button\",className:\" fas fa-sync-alt synclocationsheadingsicon\"})})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:11,children:/*#__PURE__*/_jsx(\"p\",{className:\"synclocationsheadings\",children:\"Sync Resource Types\"})}),/*#__PURE__*/_jsx(Col,{md:1,children:/*#__PURE__*/_jsx(\"div\",{hidden:this.state.resourceTypesDiablity,onClick:this.syncResourceTypeFunc,children:/*#__PURE__*/_jsx(\"i\",{type:\"button\",className:\" fas fa-sync-alt synclocationsheadingsicon\"})})})]})]}),/*#__PURE__*/_jsx(Col,{md:2})]})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:8000})]})});}}]);return Header;}(Component);var mapStatetoProps=function mapStatetoProps(state){var layoutType=state.Layout.layoutType;return{layoutType:layoutType};};export default connect(mapStatetoProps,{toggleRightSidebar:toggleRightSidebar})(withNamespaces()(Header));","map":{"version":3,"sources":["D:/diom working project/staging/src/components/VerticalLayout/Header.js"],"names":["React","Component","Select","connect","ToastContainer","toast","ModalHeader","ModalBody","Modal","Row","Col","Button","FormGroup","Label","Link","NotificationDropdown","ProfileMenu","withNamespaces","toggleRightSidebar","logosmdark","logodark","Diomlogo","DIOM_BASED_URLS","Header","props","btnTapped","setState","modal_static","syncLocationsFunc","locationDiablity","fetch","method","redirect","headers","Authorization","state","token","then","response","json","result","success","catch","error","syncResourceFunc","resourcesDiablity","console","log","syncResourceTypeFunc","resourceTypesDiablity","localStorage","getItem","isSearch","isSocialPf","disabledvalue","diomBrand","diomLocation","diomAllLocation","selectedLocation","selectedLocationData","toggleMenu","bind","toggleRightbar","toggleFullscreen","toggleMenuCallback","document","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","body","classList","add","mapStatetoProps","layoutType","Layout"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Select from \"react-select\";\r\nimport { connect } from \"react-redux\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport {\r\n  ModalHeader,\r\n  ModalBody,\r\n  Modal,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  FormGroup,\r\n  Label,\r\n} from \"reactstrap\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./css/headers.css\";\r\n// Import menuDropdown\r\n// import LanguageDropdown from \"../CommonForBoth/TopbarDropdown/LanguageDropdown\";\r\nimport NotificationDropdown from \"../CommonForBoth/TopbarDropdown/NotificationDropdown\";\r\nimport ProfileMenu from \"../CommonForBoth/TopbarDropdown/ProfileMenu\";\r\n\r\n//Import i18n\r\nimport { withNamespaces } from \"react-i18next\";\r\n// Redux Store\r\nimport { toggleRightSidebar } from \"../../store/actions\";\r\n\r\nimport logosmdark from \"../../assets/images/logo-sm-dark.png\";\r\nimport logodark from \"../../assets/images/logo-dark.png\";\r\n\r\nimport Diomlogo from \"./pics/DIOM.png\";\r\nimport { DIOM_BASED_URLS } from \"../../config/url\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: localStorage.getItem(\"Token\"),\r\n      isSearch: false,\r\n      isSocialPf: false,\r\n      modal_static: false,\r\n      disabledvalue: true,\r\n      locationDiablity:false,\r\n      resourcesDiablity:false,\r\n      resourceTypesDiablity:false,\r\n      diomBrand: [],\r\n      diomLocation: [],\r\n      diomAllLocation: [],\r\n      selectedLocation: \"\",\r\n      selectedLocationData: {},\r\n    };\r\n    this.toggleMenu = this.toggleMenu.bind(this);\r\n    this.toggleRightbar = this.toggleRightbar.bind(this);\r\n    this.toggleFullscreen = this.toggleFullscreen.bind(this);\r\n  }\r\n\r\n  btnTapped = () => {\r\n    this.setState({ modal_static: true });\r\n  };\r\n\r\n\r\n  syncLocationsFunc = () => {\r\n    this.setState({locationDiablity:true});\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/sync`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        // if (result) {\r\n        toast.success(\"Locations Synced Successfully\");\r\n        this.setState({locationDiablity:false})\r\n        // }\r\n        // else {\r\n        //   toast.error(\" Something went wrong\");\r\n        // }\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n      \r\n  };\r\n  syncResourceFunc = () => {\r\n    this.setState({resourcesDiablity: true})\r\n    fetch(`${DIOM_BASED_URLS}/admin-resources-inventories/sync`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (result) {\r\n          toast.success(\"Resources Successfully Synced\");\r\n          this.setState({resourcesDiablity: false})\r\n        \r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n          this.setState({resourcesDiablity: false})\r\n        }\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n     \r\n\r\n    // toast.error(\" Something went wrong\"));\r\n  };\r\n  syncResourceTypeFunc = () => {\r\n    this.setState({resourceTypesDiablity:true})\r\n    fetch(`${DIOM_BASED_URLS}/admin-resource-types-inventories/sync`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n\r\n      headers: {\r\n        Authorization: \"Bearer \" + this.state.token,\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        if (result) {\r\n          toast.success(\"ResourceTypes Successfully Synced\");\r\n          this.setState({resourceTypesDiablity:false})\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n          this.setState({resourceTypesDiablity:false})\r\n        }\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n      \r\n  };\r\n  componentDidMount() {\r\n    // this.diomBrandfunc();\r\n    // this.diomLocationfunc();\r\n    // this.alllocationsfunc();\r\n    // this.getSelectedDiomLocation(localStorage.getItem(\"locationId\"));\r\n    // {\r\n    //   this.locationId && this.setState({ disabledvalue: false });\r\n    // }\r\n  }\r\n\r\n  /**\r\n   * Toggle sidebar\r\n   */\r\n  toggleMenu() {\r\n    this.props.toggleMenuCallback();\r\n  }\r\n\r\n  /**\r\n   * Toggles the sidebar\r\n   */\r\n  toggleRightbar() {\r\n    this.props.toggleRightSidebar();\r\n  }\r\n\r\n  toggleFullscreen() {\r\n    if (\r\n      !document.fullscreenElement &&\r\n      /* alternative standard method */ !document.mozFullScreenElement &&\r\n      !document.webkitFullscreenElement\r\n    ) {\r\n      // current working methods\r\n      if (document.documentElement.requestFullscreen) {\r\n        document.documentElement.requestFullscreen();\r\n      } else if (document.documentElement.mozRequestFullScreen) {\r\n        document.documentElement.mozRequestFullScreen();\r\n      } else if (document.documentElement.webkitRequestFullscreen) {\r\n        document.documentElement.webkitRequestFullscreen(\r\n          Element.ALLOW_KEYBOARD_INPUT\r\n        );\r\n      }\r\n    } else {\r\n      if (document.cancelFullScreen) {\r\n        document.cancelFullScreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n      } else if (document.webkitCancelFullScreen) {\r\n        document.webkitCancelFullScreen();\r\n      }\r\n    }\r\n  }\r\n\r\n  removeBodyCss() {\r\n    document.body.classList.add(\"no_padding\");\r\n  }\r\n  // tog_center = () => {\r\n  //   if (!localStorage.getItem(\"locationId\")) {\r\n  //     return;\r\n  //   }\r\n  //   this.setState((prevState) => ({\r\n  //     modal_center: !prevState.modal_center,\r\n  //   }));\r\n  //   this.removeBodyCss();\r\n  // };\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        {/* {console.log(\"i am dibility : \",this.state.locationDiablity)} */}\r\n        <header id=\"page-topbar\">\r\n          <div className=\"navbar-header\">\r\n            <div className=\"d-flex\">\r\n              <div className=\"navbar-brand-box\">\r\n                <Link to=\"#\" className=\"logo logo-dark\">\r\n                  <span className=\"logo-sm\">\r\n                    <img src={logosmdark} alt=\"\" height=\"22\" />\r\n                  </span>\r\n                  <span className=\"logo-lg\">\r\n                    <img src={logodark} alt=\"\" height=\"20\" />\r\n                  </span>\r\n                </Link>\r\n\r\n                <Link to=\"#\" className=\"logo logo-light\">\r\n                  <span className=\"logo-sm\">\r\n                    {/* <img src={logosmlight} alt=\"\" height=\"22\" /> */}\r\n                  </span>\r\n                  <span className=\"logo-lg\">\r\n                    {/* <img src={logolight} alt=\"\" height=\"20\" /> */}\r\n                    <img src={Diomlogo} alt=\"\" height=\"30\" />\r\n                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                    {/* button remove start   */}\r\n                    {/* <Button\r\n                      color=\"success\"\r\n                      className=\"btn-rounded waves-effect waves-light mr-1 ml-3 \"\r\n                      onClick={this.tog_center}\r\n                    >\r\n                      {!this.state.selectedLocationData\r\n                        ? \"Diom\"\r\n                        : this.state.selectedLocationData.Name}\r\n                    </Button> */}\r\n                  </span>\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex\">\r\n              <div>\r\n                <NotificationDropdown />\r\n              </div>\r\n              <div className=\" dropdown d-inline-block\">\r\n                <Button\r\n                  color=\"none\"\r\n                  onClick={this.btnTapped}\r\n                  type=\"button\"\r\n                  className=\"header-item noti-icon right-bar-toggle waves-effect\"\r\n                >\r\n                  <i className=\" fas fa-sync-alt\"></i>\r\n                </Button>\r\n              </div>\r\n\r\n              {/* <NotificationDropdown /> */}\r\n\r\n              <ProfileMenu />\r\n\r\n              {/* <div className=\"dropdown d-inline-block\"> */}\r\n              {/* <Button\r\n                color=\"none\"\r\n                onClick={this.toggleRightbar}\r\n                type=\"button\"\r\n                className=\"header-item noti-icon right-bar-toggle waves-effect\"\r\n              >\r\n                <i className=\"ri-settings-2-line\"></i>\r\n              </Button> */}\r\n              {/* </div> */}\r\n            </div>\r\n          </div>\r\n          {/* model */}\r\n          {/* <Modal\r\n            className=\"\"\r\n            isOpen={\r\n              this.state.modal_center || !localStorage.getItem(\"locationId\")\r\n            }\r\n            toggle={this.tog_center}\r\n            centered={true}\r\n          >\r\n            <Row>\r\n              <Col md={3}></Col>\r\n              <Col md={8}>\r\n                <ModalHeader\r\n                  toggle={() => this.setState({ modal_center: false })}\r\n                >\r\n                  <Label className=\"modelfirsttitle1\"> Select a location</Label>\r\n                </ModalHeader>\r\n              </Col>\r\n              <Col md={1}></Col>\r\n            </Row>\r\n\r\n            <ModalBody>\r\n              <FormGroup className=\"select2-container\">\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n\r\n                  <Col md={8}>\r\n                    <Label className=\"inputtilesbrandlocation\">\r\n                      Select a Diom Brand\r\n                    </Label>\r\n                    <Select\r\n                      value={this.selectedGroup}\r\n                      onChange={(opt) => this.changeLocationBrand(opt.value)}\r\n                      classNamePrefix=\"select2-selection\"\r\n                      // options={optionGroup}\r\n                      options={this.state.diomBrand}\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n              </FormGroup>\r\n\r\n              <FormGroup className=\"select2-container\">\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n                  <Col md={8}>\r\n                    <Label className=\"inputtilesbrandlocation mt-5\">\r\n                      Select a Diom Location\r\n                    </Label>\r\n                    <Select\r\n                      // value={this.selectedGroup}\r\n                      onChange={\r\n                        (e) =>\r\n                          this.setState({\r\n                            selectedLocation: e.value,\r\n                            disabledvalue: false,\r\n                          })\r\n                        // this.setState({ disabledvalue: false })\r\n                      }\r\n                      // options={this.state.diomAllLocation}\r\n                      options={this.state.diomLocation}\r\n                      classNamePrefix=\"select2-selection\"\r\n                    />\r\n                  </Col>\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                  <Col md={3}></Col>\r\n                  <Col md={6}>\r\n                    <Link to=\"/mydashboard\">\r\n                      <Button\r\n                        block\r\n                        color=\"success\"\r\n                        disabled={this.state.disabledvalue}\r\n                        className=\"waves-effect waves-light  mt-5 w-100 mb-5\"\r\n                        onClick={() => {\r\n                          if (this.state.selectedLocation) {\r\n                            localStorage.setItem(\r\n                              \"locationId\",\r\n                              this.state.selectedLocation\r\n                            );\r\n                            this.getSelectedDiomLocation(\r\n                              this.state.selectedLocation\r\n                            );\r\n                            // this.setState({ modal_center: false });\r\n                          }\r\n\r\n                          return;\r\n                        }}\r\n                      >\r\n                        Save Changes\r\n                      </Button>\r\n                    </Link>\r\n                  </Col>\r\n                  <Col md={3}></Col>\r\n                </Row>\r\n              </FormGroup>\r\n            </ModalBody>\r\n          </Modal> */}\r\n\r\n          <div>\r\n            <Modal\r\n              isOpen={this.state.modal_static}\r\n              toggle={() => this.setState({ modal_static: false })}\r\n              centered={true}\r\n            >\r\n              <Row>\r\n                <Col md={4}></Col>\r\n                <Col md={7}>\r\n                  <ModalHeader\r\n                    toggle={() => this.setState({ modal_static: false })}\r\n                  >\r\n                    <p className=\"syncmodelheadeing\">Sync Data</p>\r\n                  </ModalHeader>\r\n                </Col>\r\n                <Col md={1}></Col>\r\n              </Row>\r\n\r\n              <ModalBody className=\"mb-5\">\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n                  <Col md={8}>\r\n                    <p className=\"syncmodelclickdetail\">\r\n                      Click the Icons to update the data for lcoations,\r\n                      resources or resources types.\r\n                    </p>\r\n                  </Col>\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n                <Row>\r\n                  <Col md={2}></Col>\r\n                  <Col md={8}>\r\n                    <Row>\r\n                      <Col md={11}>\r\n                        <p className=\"synclocationsheadings\">Sync Locations</p>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                        {/* <Button\r\n                  color=\"none\"\r\n                            onClick={this.syncLocationsFunc}\r\n                            // className=\" noti-icon right-bar-toggle waves-effect\"\r\n                \r\n                > */}\r\n                        <div  hidden={this.state.locationDiablity} onClick={this.syncLocationsFunc}>\r\n                          <i\r\n                          \r\n                            type=\"button\"\r\n                            className=\" fas fa-sync-alt synclocationsheadingsicon \"\r\n                          ></i>\r\n                        </div>\r\n                        {/* </Button> */}\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={11}>\r\n                        <p className=\"synclocationsheadings\">Sync Resources</p>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                        {/* <Button\r\n                  color=\"none\"\r\n                  onClick={this.syncResourceFunc}\r\n                  type=\"button\"\r\n                > */}\r\n                        <div  hidden={this.state.resourcesDiablity} onClick={this.syncResourceFunc}>\r\n                          <i\r\n                            type=\"button\"\r\n                            className=\" fas fa-sync-alt synclocationsheadingsicon\"\r\n                          ></i>\r\n                        </div>\r\n                        {/* </Button> */}\r\n                      </Col>\r\n                    </Row>\r\n                    <Row>\r\n                      <Col md={11}>\r\n                        <p className=\"synclocationsheadings\">\r\n                          Sync Resource Types\r\n                        </p>\r\n                      </Col>\r\n                      <Col md={1}>\r\n                        {/* <Button\r\n                  color=\"none\"\r\n                  onClick={this.syncResourceTypeFunc}\r\n                  type=\"button\"\r\n                        > */}\r\n                        <div  hidden={this.state.resourceTypesDiablity} onClick={this.syncResourceTypeFunc}>\r\n                          <i\r\n                            type=\"button\"\r\n                            className=\" fas fa-sync-alt synclocationsheadingsicon\"\r\n                          ></i>\r\n                        </div>\r\n                        {/* </Button> */}\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                  <Col md={2}></Col>\r\n                </Row>\r\n              </ModalBody>\r\n            </Modal>\r\n          </div>\r\n          <ToastContainer autoClose={8000} />\r\n        </header>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStatetoProps = (state) => {\r\n  const { layoutType } = state.Layout;\r\n  return { layoutType };\r\n};\r\n\r\nexport default connect(mapStatetoProps, { toggleRightSidebar })(\r\n  withNamespaces()(Header)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}