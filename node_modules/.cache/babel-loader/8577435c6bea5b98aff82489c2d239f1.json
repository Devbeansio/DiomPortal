{"ast":null,"code":"import _objectSpread from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/tech sign/Desktop/xyz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{DIOM_BASED_URLS}from\"../config/url\";import moment from\"moment\";/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of BOOKING in DIOM\r\n */export var getBooking=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,id,history,res,resJson,data,_args=arguments;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=_args.length>0&&_args[0]!==undefined?_args[0]:\"\";id=_args.length>1?_args[1]:undefined;history=_args.length>2?_args[2]:undefined;_context.next=5;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/\").concat(id),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 5:res=_context.sent;if(res.ok){_context.next=14;break;}if(!(res.status===401)){_context.next=10;break;}history.push(\"/login\");throw new Error(resJson.error.message);case 10:_context.next=12;return res.json();case 12:resJson=_context.sent;throw new Error(resJson.error.message);case 14:_context.next=16;return res.json();case 16:data=_context.sent;return _context.abrupt(\"return\",{data:data});case 18:case\"end\":return _context.stop();}}},_callee);}));return function getBooking(){return _ref.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of guests in DIOM\r\n */export var getGuest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var token,id,history,res,resJson,data,_args2=arguments;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:token=_args2.length>0&&_args2[0]!==undefined?_args2[0]:\"\";id=_args2.length>1?_args2[1]:undefined;history=_args2.length>2?_args2[2]:undefined;_context2.next=5;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-booking-guest/booking/\").concat(id),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 5:res=_context2.sent;if(res.ok){_context2.next=14;break;}if(!(res.status===401)){_context2.next=10;break;}history.push(\"/login\");throw new Error(resJson.error.message);case 10:_context2.next=12;return res.json();case 12:resJson=_context2.sent;throw new Error(resJson.error.message);case 14:_context2.next=16;return res.json();case 16:data=_context2.sent;return _context2.abrupt(\"return\",{data:data});case 18:case\"end\":return _context2.stop();}}},_callee2);}));return function getGuest(){return _ref2.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of bookinguserdata in DIOM\r\n */export var getbookinguser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(token,id,history){var res,resJson,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"\".concat(DIOM_BASED_URLS,\"/users/\").concat(id),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 2:res=_context3.sent;if(res.ok){_context3.next=11;break;}if(!(res.status===401)){_context3.next=7;break;}history.push(\"/login\");throw new Error(resJson.error.message);case 7:_context3.next=9;return res.json();case 9:resJson=_context3.sent;throw new Error(resJson.error.message);case 11:_context3.next=13;return res.json();case 13:data=_context3.sent;return _context3.abrupt(\"return\",{data:data});case 15:case\"end\":return _context3.stop();}}},_callee3);}));return function getbookinguser(_x,_x2,_x3){return _ref3.apply(this,arguments);};}();/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of bookings locations in DIOM\r\n */export var getbookinglocations=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var token,history,res,resJson,data,_args4=arguments;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:token=_args4.length>0&&_args4[0]!==undefined?_args4[0]:\"\";history=_args4.length>1?_args4[1]:undefined;_context4.next=4;return fetch(\"\".concat(DIOM_BASED_URLS,\"/admin-business-locations?filter={\\\"where\\\":{\\\"visibility\\\":true}}\"),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 4:res=_context4.sent;if(res.ok){_context4.next=13;break;}if(!(res.status===401)){_context4.next=9;break;}history.push(\"/login\");throw new Error(resJson.error.message);case 9:_context4.next=11;return res.json();case 11:resJson=_context4.sent;throw new Error(resJson.error.message);case 13:_context4.next=15;return res.json();case 15:data=_context4.sent;return _context4.abrupt(\"return\",{data:data});case 17:case\"end\":return _context4.stop();}}},_callee4);}));return function getbookinglocations(){return _ref4.apply(this,arguments);};}();/**\r\n *\r\n * @param {*JWT} token\r\n * @returns get today bookings data for dropdown\r\n */export var gettodaysbookings=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var size,page,token,applyFilter,filters,history,res,_resJson,resJson,todayBookingsdata,_args5=arguments;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:size=_args5.length>0&&_args5[0]!==undefined?_args5[0]:30;page=_args5.length>1&&_args5[1]!==undefined?_args5[1]:1;token=_args5.length>2&&_args5[2]!==undefined?_args5[2]:\"\";applyFilter=_args5.length>3&&_args5[3]!==undefined?_args5[3]:false;filters=_args5.length>4&&_args5[4]!==undefined?_args5[4]:{};history=_args5.length>5?_args5[5]:undefined;_context5.next=8;return fetch(!applyFilter?\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/today?size=\").concat(size,\"&page=\").concat(page):\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/today/\").concat(filters,\"?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 8:res=_context5.sent;if(res.ok){_context5.next=17;break;}if(!(res.status===401)){_context5.next=13;break;}history.push(\"/login\");throw new Error(_resJson.error.message);case 13:_context5.next=15;return res.json();case 15:_resJson=_context5.sent;throw new Error(_resJson.error.message);case 17:_context5.next=19;return res.json();case 19:resJson=_context5.sent;todayBookingsdata=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,_id:booking.id,updatedAt:moment(booking.updatedAt).format(\"YYYY-MM-DD HH:mm\"),Bookingstartend:moment(booking.fromTime).format(\"DD MMM (HH:mm)\")+\" - \"+moment(booking.toTime).format(\"DD MMM (HH:mm\"),timeLogs:booking.timeLogs.length>0?moment(booking.timeLogs[booking.timeLogs.length-1].fromTime).format(\"HH:mm\"):null// booking.timeLogs.map((e) => moment(e.fromTime).format(\"HH:mm\"))\n// .join(\", \"),\n});});return _context5.abrupt(\"return\",{data:todayBookingsdata,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 22:case\"end\":return _context5.stop();}}},_callee5);}));return function gettodaysbookings(){return _ref5.apply(this,arguments);};}();/**\r\n *\r\n * @param {*JWT} token\r\n * @returns get Fetched bookings data for dropdown\r\n */export var getschduleddbookings=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var size,page,token,applyFilter,filters,history,res,_resJson2,resJson,schduledBookingsdata,_args6=arguments;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:size=_args6.length>0&&_args6[0]!==undefined?_args6[0]:30;page=_args6.length>1&&_args6[1]!==undefined?_args6[1]:1;token=_args6.length>2&&_args6[2]!==undefined?_args6[2]:\"\";applyFilter=_args6.length>3&&_args6[3]!==undefined?_args6[3]:false;filters=_args6.length>4&&_args6[4]!==undefined?_args6[4]:{};history=_args6.length>5?_args6[5]:undefined;_context6.next=8;return fetch(!applyFilter?\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/scheduled?size=\").concat(size,\"&page=\").concat(page):\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/scheduled/\").concat(filters,\"?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 8:res=_context6.sent;if(res.ok){_context6.next=17;break;}if(!(res.status===401)){_context6.next=13;break;}history.push(\"/login\");throw new Error(_resJson2.error.message);case 13:_context6.next=15;return res.json();case 15:_resJson2=_context6.sent;throw new Error(_resJson2.error.message);case 17:_context6.next=19;return res.json();case 19:resJson=_context6.sent;// const result = applyFilter\n//   ? (result = resJson.data.bookings)\n//   : (result = resJson.data);\nschduledBookingsdata=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,updatedAt:moment(booking.updatedAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id,Bookingstartend:moment(booking.fromTime).format(\"DD MMM (HH:mm)\")+\" - \"+moment(booking.toTime).format(\"DD MMM (HH:mm)\"),timeLogs:booking.timeLogs.map(function(e){return moment(e.fromTime).format(\"HH:mm\");})});});return _context6.abrupt(\"return\",{data:schduledBookingsdata,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 22:case\"end\":return _context6.stop();}}},_callee6);}));return function getschduleddbookings(){return _ref6.apply(this,arguments);};}();/**\r\n *\r\n * @param {*JWT} token\r\n * @returns get Fetched Past bookings data for dropdown\r\n */export var getPasttbookings=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(){var size,page,token,applyFilter,filters,history,res,_resJson3,resJson,pastBookingsdata,_args7=arguments;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:size=_args7.length>0&&_args7[0]!==undefined?_args7[0]:30;page=_args7.length>1&&_args7[1]!==undefined?_args7[1]:1;token=_args7.length>2&&_args7[2]!==undefined?_args7[2]:\"\";applyFilter=_args7.length>3&&_args7[3]!==undefined?_args7[3]:false;filters=_args7.length>4&&_args7[4]!==undefined?_args7[4]:{};history=_args7.length>5?_args7[5]:undefined;_context7.next=8;return fetch(!applyFilter?\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/past?size=\").concat(size,\"&page=\").concat(page):\"\".concat(DIOM_BASED_URLS,\"/admin-diom-bookings/past/\").concat(filters,\"?size=\").concat(size,\"&page=\").concat(page),{method:\"GET\",redirect:\"follow\",headers:{Authorization:\"Bearer \"+token}});case 8:res=_context7.sent;if(res.ok){_context7.next=17;break;}if(!(res.status===401)){_context7.next=13;break;}history.push(\"/login\");throw new Error(_resJson3.error.message);case 13:_context7.next=15;return res.json();case 15:_resJson3=_context7.sent;throw new Error(_resJson3.error.message);case 17:_context7.next=19;return res.json();case 19:resJson=_context7.sent;// const result = applyFilter\n//   ? (result = resJson.data.bookings)\n//   : (result = resJson.data);\npastBookingsdata=resJson.data.map(function(booking,index){return _objectSpread(_objectSpread({},booking),{},{id:index+1,updatedAt:moment(booking.updatedAt).format(\"YYYY-MM-DD HH:mm\"),_id:booking.id,Bookingstartend:moment(booking.fromTime).format(\"DD MMM (HH:mm)\")+\" - \"+moment(booking.toTime).format(\"DD MMM (HH:mm)\")// timeLogs: booking.timeLogs.map((e,i) =>(e.fromTime? moment(e.fromTime).format(\"HH:mm\") :null)),\n});});return _context7.abrupt(\"return\",{data:pastBookingsdata,total:resJson.total,hasNextPage:resJson.hasNextPage,hasPreviousPage:resJson.hasPreviousPage});case 22:case\"end\":return _context7.stop();}}},_callee7);}));return function getPasttbookings(){return _ref7.apply(this,arguments);};}();","map":{"version":3,"names":["DIOM_BASED_URLS","moment","getBooking","token","id","history","fetch","method","redirect","headers","Authorization","res","ok","status","push","Error","resJson","error","message","json","data","getGuest","getbookinguser","getbookinglocations","gettodaysbookings","size","page","applyFilter","filters","todayBookingsdata","map","booking","index","_id","updatedAt","format","Bookingstartend","fromTime","toTime","timeLogs","length","total","hasNextPage","hasPreviousPage","getschduleddbookings","schduledBookingsdata","e","getPasttbookings","pastBookingsdata"],"sources":["C:/Users/tech sign/Desktop/xyz/src/APIS/bookings.js"],"sourcesContent":["import { DIOM_BASED_URLS } from \"../config/url\";\r\nimport moment from \"moment\";\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of BOOKING in DIOM\r\n */\r\nexport const getBooking = async (token = \"\", id,history) => {\r\n  // return await (\r\n    const res = await fetch(`${DIOM_BASED_URLS}/admin-diom-bookings/${id}`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n  // ).json();\r\n  if (!res.ok) {\r\n    if(res.status === 401){\r\n      history.push(\"/login\");\r\n      throw new Error(resJson.error.message);\r\n   \r\n  }\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const data = await res.json();\r\n  \r\n  return {\r\n    data\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of guests in DIOM\r\n */\r\n\r\nexport const getGuest = async (token = \"\", id,history) => {\r\n  // return await (\r\n   const res =  await fetch(`${DIOM_BASED_URLS}/admin-booking-guest/booking/${id}`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n\r\n    if (!res.ok) {\r\n      if(res.status === 401){\r\n        history.push(\"/login\");\r\n        throw new Error(resJson.error.message);\r\n     \r\n    }\r\n      const resJson = await res.json();\r\n      throw new Error(resJson.error.message);\r\n    }\r\n    const data = await res.json();\r\n    \r\n    return {\r\n      data\r\n    };\r\n  // ).json();\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of bookinguserdata in DIOM\r\n */\r\n\r\nexport const getbookinguser = async (token, id,history) => {\r\n  // if (id) {\r\n  // return await (\r\n    const res = await fetch(`${DIOM_BASED_URLS}/users/${id}`, {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n\r\n    if (!res.ok) {\r\n      if(res.status === 401){\r\n        history.push(\"/login\");\r\n        throw new Error(resJson.error.message);\r\n     \r\n    }\r\n      const resJson = await res.json();\r\n      throw new Error(resJson.error.message);\r\n    }\r\n    const data = await res.json();\r\n    \r\n    return {\r\n      data\r\n    };\r\n  // ).json();\r\n  // }\r\n};\r\n\r\n/**\r\n *\r\n * @param size\r\n * @param page\r\n * @param {JWT} token\r\n * @returns a list of bookings locations in DIOM\r\n */\r\n\r\nexport const getbookinglocations = async (token = \"\",history) => {\r\n  // return await (\r\n   const res =  await fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations?filter={\"where\":{\"visibility\":true}}`,\r\n      {\r\n        method: \"GET\",\r\n        redirect: \"follow\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n\r\n    if (!res.ok) {\r\n      if(res.status === 401){\r\n        history.push(\"/login\");\r\n        throw new Error(resJson.error.message);\r\n     \r\n    }\r\n      const resJson = await res.json();\r\n      throw new Error(resJson.error.message);\r\n    }\r\n    const data = await res.json();\r\n    \r\n    return {\r\n      data\r\n    };\r\n  // ).json();\r\n};\r\n\r\n/**\r\n *\r\n * @param {*JWT} token\r\n * @returns get today bookings data for dropdown\r\n */\r\nexport const gettodaysbookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  applyFilter = false,\r\n  filters = {},\r\n  history\r\n) => {\r\n  // console.log(\"filters :\", filters);\r\n  // console.log(\"applyFilter : \", applyFilter);\r\n  const res = await fetch(\r\n    !applyFilter\r\n      ? `${DIOM_BASED_URLS}/admin-diom-bookings/today?size=${size}&page=${page}`\r\n      : `${DIOM_BASED_URLS}/admin-diom-bookings/today/${filters}?size=${size}&page=${page}`,\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!res.ok) {\r\n    if(res.status === 401){\r\n      history.push(\"/login\");\r\n      throw new Error(resJson.error.message);\r\n   \r\n  }\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n  const resJson = await res.json();\r\n  const todayBookingsdata = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n\r\n    id: index + 1,\r\n    _id: booking.id,\r\n    updatedAt: moment(booking.updatedAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    Bookingstartend:\r\n      moment(booking.fromTime).format(\"DD MMM (HH:mm)\") +\r\n      \" - \" +\r\n      moment(booking.toTime).format(\"DD MMM (HH:mm\"),\r\n\r\n    timeLogs:\r\n      booking.timeLogs.length > 0\r\n        ? moment(booking.timeLogs[booking.timeLogs.length - 1].fromTime).format(\r\n            \"HH:mm\"\r\n          )\r\n        : null,\r\n\r\n    // booking.timeLogs.map((e) => moment(e.fromTime).format(\"HH:mm\"))\r\n    // .join(\", \"),\r\n  }));\r\n  return {\r\n    data: todayBookingsdata,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param {*JWT} token\r\n * @returns get Fetched bookings data for dropdown\r\n */\r\nexport const getschduleddbookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  applyFilter = false,\r\n  filters = {},\r\n  history\r\n) => {\r\n  const res = await fetch(\r\n    !applyFilter\r\n      ? `${DIOM_BASED_URLS}/admin-diom-bookings/scheduled?size=${size}&page=${page}`\r\n      : `${DIOM_BASED_URLS}/admin-diom-bookings/scheduled/${filters}?size=${size}&page=${page}`,\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!res.ok) {\r\n    if(res.status === 401){\r\n      history.push(\"/login\");\r\n      throw new Error(resJson.error.message);\r\n   \r\n  }\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n\r\n  const resJson = await res.json();\r\n\r\n  // const result = applyFilter\r\n  //   ? (result = resJson.data.bookings)\r\n  //   : (result = resJson.data);\r\n\r\n  const schduledBookingsdata = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    updatedAt: moment(booking.updatedAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n\r\n    Bookingstartend:\r\n      moment(booking.fromTime).format(\"DD MMM (HH:mm)\") +\r\n      \" - \" +\r\n      moment(booking.toTime).format(\"DD MMM (HH:mm)\"),\r\n    timeLogs: booking.timeLogs.map((e) => moment(e.fromTime).format(\"HH:mm\")),\r\n  }));\r\n  return {\r\n    data: schduledBookingsdata,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n\r\n/**\r\n *\r\n * @param {*JWT} token\r\n * @returns get Fetched Past bookings data for dropdown\r\n */\r\nexport const getPasttbookings = async (\r\n  size = 30,\r\n  page = 1,\r\n  token = \"\",\r\n  applyFilter = false,\r\n  filters = {},\r\n  history\r\n) => {\r\n  const res = await fetch(\r\n    !applyFilter\r\n      ? `${DIOM_BASED_URLS}/admin-diom-bookings/past?size=${size}&page=${page}`\r\n      : `${DIOM_BASED_URLS}/admin-diom-bookings/past/${filters}?size=${size}&page=${page}`,\r\n    {\r\n      method: \"GET\",\r\n      redirect: \"follow\",\r\n      headers: {\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    }\r\n  );\r\n\r\n  if (!res.ok) {\r\n    if(res.status === 401){\r\n      history.push(\"/login\");\r\n      throw new Error(resJson.error.message);\r\n   \r\n  }\r\n    const resJson = await res.json();\r\n    throw new Error(resJson.error.message);\r\n  }\r\n\r\n  const resJson = await res.json();\r\n\r\n  // const result = applyFilter\r\n  //   ? (result = resJson.data.bookings)\r\n  //   : (result = resJson.data);\r\n\r\n  const pastBookingsdata = resJson.data.map((booking, index) => ({\r\n    ...booking,\r\n    id: index + 1,\r\n    updatedAt: moment(booking.updatedAt).format(\"YYYY-MM-DD HH:mm\"),\r\n    _id: booking.id,\r\n    Bookingstartend:\r\n      moment(booking.fromTime).format(\"DD MMM (HH:mm)\") +\r\n      \" - \" +\r\n      moment(booking.toTime).format(\"DD MMM (HH:mm)\"),\r\n    // timeLogs: booking.timeLogs.map((e,i) =>(e.fromTime? moment(e.fromTime).format(\"HH:mm\") :null)),\r\n  }));\r\n  return {\r\n    data: pastBookingsdata,\r\n    total: resJson.total,\r\n    hasNextPage: resJson.hasNextPage,\r\n    hasPreviousPage: resJson.hasPreviousPage,\r\n  };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}