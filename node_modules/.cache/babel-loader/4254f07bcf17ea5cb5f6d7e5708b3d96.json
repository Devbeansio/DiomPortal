{"ast":null,"code":"import _slicedToArray from\"C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import sign_up_image from\"./pic/sign_up_image.png\";import{useDispatch,useSelector}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{Row,Col,Button,Container,Alert,Label}from\"reactstrap\";import{AvForm,AvField}from\"availity-reactstrap-validation\";import{checkLogin,apiError}from\"../../store/actions\";import{DIOM_BASED_URLS}from\"../../config/url\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"humx7898@gmail.com\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"123456789Abc\"),_useState4=_slicedToArray(_useState3,2),userpassword=_useState4[0],setUserpassword=_useState4[1];var dispatch=useDispatch();var history=useHistory();var _useSelector=useSelector(function(state){return state.Login;}),loginError=_useSelector.loginError;var handleSubmit=function handleSubmit(event,values){// *************API START***************\nfetch(\"\".concat(DIOM_BASED_URLS,\"/diom/spaces/admin/login\"),{method:\"POST\",headers:{Accept:\"application/json, text/plain\",\"Content-Type\":\"application/json;charset=UTF-8\"},body:JSON.stringify({email:username,password:userpassword})}).then(function(response){return response.json();}).then(function(result3){// console.log(\"hmm loggedin\");\nvar Token=result3.token;localStorage.setItem(\"Token\",Token);dispatch(checkLogin(values,history));}).catch(function(error){return console.log(\"error\",error);});//   ***********API END**************\n};var UserPasswordFunc=function UserPasswordFunc(e){console.log(e.target.value);setUserpassword(e.target.value);};var UserNameFunc=function UserNameFunc(e){// console.log( e.target.value)\nsetUsername(e.target.value);};useEffect(function(){dispatch(apiError(\"\"));document.body.classList.add(\"auth-body-bg\");return document.body.classList.remove(\"auth-body-bg\");},[]);return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"p-0\",children:/*#__PURE__*/_jsxs(Row,{className:\"g-0\",children:[/*#__PURE__*/_jsx(Col,{lg:5,md:5,className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"image-wrap \",children:/*#__PURE__*/_jsx(\"img\",{className:\" img-responsive  \",src:sign_up_image,alt:\"img\"})})}),/*#__PURE__*/_jsx(Col,{lg:7,md:7,children:/*#__PURE__*/_jsx(\"div\",{className:\"authentication-page-content p-4 d-flex align-items-center min-vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{lg:9,md:9,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"wellcomepanel\",children:\"Welcome to Diom Admin Panel\"})}),loginError&&loginError?/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:loginError}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 mt-5\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"username\",className:\"logininboxpanels\",children:\"Username\"}),/*#__PURE__*/_jsxs(AvForm,{className:\"form-horizontal \",onValidSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-user-2-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(AvField,{name:\"username\",onChange:UserNameFunc,value:username,type:\"text\",className:\"form-control paddingbottominputlogin\",id:\"username\",validate:{email:true,required:true},placeholder:\"Enter username\"})]}),/*#__PURE__*/_jsx(Label,{htmlFor:\"userpassword\",className:\"logininboxpanels\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-form-group-custom mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ri-lock-2-line auti-custom-input-icon\"}),/*#__PURE__*/_jsx(AvField,{name:\"password\",value:userpassword,type:\"password\",onChange:UserPasswordFunc,className:\"form-control paddingbottominputlogin\",id:\"userpassword\",placeholder:\"Enter password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5 text-center\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",className:\"waves-effect waves-light mr-1 w-100 \",block:true// onClick={LoginFunc}\n,children:/*#__PURE__*/_jsx(\"span\",{className:\" signinbutton\",children:\"SIGN IN\"})})})]})]})]})})})})})})]})})})});};export default Login;","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/src/pages/AuthenticationInner/Login.js"],"names":["React","useState","useEffect","sign_up_image","useDispatch","useSelector","useHistory","Row","Col","Button","Container","Alert","Label","AvForm","AvField","checkLogin","apiError","DIOM_BASED_URLS","Login","username","setUsername","userpassword","setUserpassword","dispatch","history","state","loginError","handleSubmit","event","values","fetch","method","headers","Accept","body","JSON","stringify","email","password","then","response","json","result3","Token","token","localStorage","setItem","catch","error","console","log","UserPasswordFunc","e","target","value","UserNameFunc","document","classList","add","remove","required"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport sign_up_image from \"./pic/sign_up_image.png\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Row, Col, Button, Container, Alert, Label } from \"reactstrap\";\r\nimport { AvForm, AvField } from \"availity-reactstrap-validation\";\r\nimport { checkLogin, apiError } from \"../../store/actions\";\r\nimport { DIOM_BASED_URLS } from \"../../config/url\";\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState(\"humx7898@gmail.com\");\r\n  const [userpassword, setUserpassword] = useState(\"123456789Abc\");\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const { loginError } = useSelector((state) => state.Login);\r\n\r\n  const handleSubmit = (event, values) => {\r\n    // *************API START***************\r\n    fetch(`${DIOM_BASED_URLS}/diom/spaces/admin/login`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n      },\r\n      body: JSON.stringify({\r\n        email: username,\r\n        password: userpassword,\r\n      }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((result3) => {\r\n        // console.log(\"hmm loggedin\");\r\n        const Token = result3.token;\r\n        localStorage.setItem(\"Token\", Token);\r\n        dispatch(checkLogin(values, history));\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n\r\n    //   ***********API END**************\r\n  };\r\n\r\n  const UserPasswordFunc = (e) => {\r\n    console.log(e.target.value);\r\n    setUserpassword(e.target.value);\r\n  };\r\n\r\n  const UserNameFunc = (e) => {\r\n    // console.log( e.target.value)\r\n    setUsername(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(apiError(\"\"));\r\n    document.body.classList.add(\"auth-body-bg\");\r\n    return document.body.classList.remove(\"auth-body-bg\");\r\n  }, []);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <Container fluid className=\"p-0\">\r\n          <Row className=\"g-0\">\r\n            <Col lg={5} md={5} className=\"\">\r\n              {/* <div className=\"bg-overlay \"> */}\r\n              <div className=\"image-wrap \">\r\n                <img\r\n                  className=\" img-responsive  \"\r\n                  src={sign_up_image}\r\n                  alt=\"img\"\r\n                />\r\n              </div>\r\n              {/* </div> */}\r\n            </Col>\r\n            <Col lg={7} md={7}>\r\n              <div className=\"authentication-page-content p-4 d-flex align-items-center min-vh-100\">\r\n                <div className=\"w-100\">\r\n                  <Row className=\"justify-content-center\">\r\n                    <Col lg={9} md={9}>\r\n                      <div>\r\n                        <div className=\"text-center\">\r\n                          <h4 className=\"wellcomepanel\">\r\n                            Welcome to Diom Admin Panel\r\n                          </h4>\r\n                        </div>\r\n\r\n                        {loginError && loginError ? (\r\n                          <Alert color=\"danger\">{loginError}</Alert>\r\n                        ) : null}\r\n\r\n                        <div className=\"p-2 mt-5\">\r\n                          <Label\r\n                            htmlFor=\"username\"\r\n                            className=\"logininboxpanels\"\r\n                          >\r\n                            Username\r\n                          </Label>\r\n                          <AvForm\r\n                            className=\"form-horizontal \"\r\n                            onValidSubmit={handleSubmit}\r\n                          >\r\n                            <div className=\"auth-form-group-custom mb-4\">\r\n                              <i className=\"ri-user-2-line auti-custom-input-icon\"></i>\r\n\r\n                              <AvField\r\n                                name=\"username\"\r\n                                onChange={UserNameFunc}\r\n                                value={username}\r\n                                type=\"text\"\r\n                                className=\"form-control paddingbottominputlogin\"\r\n                                id=\"username\"\r\n                                validate={{ email: true, required: true }}\r\n                                placeholder=\"Enter username\"\r\n                              />\r\n                            </div>\r\n                            {/* <div className=\"auth-form-group-custom mb-4\">\r\n                                <AvField\r\n                                  name=\"username\"\r\n                                  value={this.state.username}\r\n                                  type=\"text\"\r\n                                  onChange={this.UserNameFunc}\r\n                                  className=\"form-control\"\r\n                                  id=\"username\"\r\n                                  validate={{ email: true, required: true }}\r\n                                  placeholder=\"Enter username\"\r\n                                />\r\n                              </div> */}\r\n                            <Label\r\n                              htmlFor=\"userpassword\"\r\n                              className=\"logininboxpanels\"\r\n                            >\r\n                              Password\r\n                            </Label>\r\n                            <div className=\"auth-form-group-custom mb-4\">\r\n                              <i className=\"ri-lock-2-line auti-custom-input-icon\"></i>\r\n\r\n                              <AvField\r\n                                name=\"password\"\r\n                                value={userpassword}\r\n                                type=\"password\"\r\n                                onChange={UserPasswordFunc}\r\n                                className=\"form-control paddingbottominputlogin\"\r\n                                id=\"userpassword\"\r\n                                placeholder=\"Enter password\"\r\n                              />\r\n                            </div>\r\n                            {/* <div className=\"auth-form-group-custom  mb-4\">\r\n                                <AvField\r\n                                  name=\"password\"\r\n                                  value={this.state.userpassword}\r\n                                  type=\"password\"\r\n                                  className=\"form-control\"\r\n                                  id=\"userpassword\"\r\n                                  placeholder=\"Enter password\"\r\n                                  onChange={this.UserPasswordFunc}\r\n                                />\r\n                              </div> */}\r\n                            <div className=\"mt-5 text-center\">\r\n                              <Button\r\n                                color=\"success\"\r\n                                className=\"waves-effect waves-light mr-1 w-100 \"\r\n                                block\r\n                                // onClick={LoginFunc}\r\n                              >\r\n                                <span className=\" signinbutton\">SIGN IN</span>\r\n                              </Button>\r\n                            </div>\r\n                          </AvForm>\r\n                        </div>\r\n                      </div>\r\n                    </Col>\r\n                  </Row>\r\n                </div>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}