{"ast":null,"code":"import _regeneratorRuntime from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/diom working project/staging/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useQuery}from'react-query';import{getDataLogs}from'../../APIS/dataLogs';import{DIOM_BASED_URLS}from'../../config/url';import{useAllDataQuery,usePaginatedQuery}from'../../hooks/query';var UseDataLogs=function UseDataLogs(){var _logsDataa$data,_logsDataa$data2,_logsDataa$data3,_logsDataa$data4;var token=localStorage.getItem(\"Token\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modal_static=_useState2[0],setModal_static=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),logsDataDetail=_useState4[0],setLogsDataDetail=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),dataDetailId=_useState6[0],setDataDetailId=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isOpen=_useState8[0],setIsOpen=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),currentPage=_useState10[0],setCurrentPage=_useState10[1];var _useState11=useState(50),_useState12=_slicedToArray(_useState11,2),pageSize=_useState12[0],setPageSize=_useState12[1];var changeCurrentPage=function changeCurrentPage(pageNum){return setCurrentPage(pageNum);};var _useAllDataQuery=useAllDataQuery([\"GetDataLogsss\",\"\".concat(currentPage),\"\".concat(pageSize)],function(){return getDataLogs(token,currentPage,pageSize);}),logsDataa=_useAllDataQuery.data;var logsData=logsDataa===null||logsDataa===void 0?void 0:(_logsDataa$data=logsDataa.data)===null||_logsDataa$data===void 0?void 0:_logsDataa$data.data;var hasNextPage=logsDataa===null||logsDataa===void 0?void 0:(_logsDataa$data2=logsDataa.data)===null||_logsDataa$data2===void 0?void 0:_logsDataa$data2.hasNextPage;var total=logsDataa===null||logsDataa===void 0?void 0:(_logsDataa$data3=logsDataa.data)===null||_logsDataa$data3===void 0?void 0:_logsDataa$data3.total;var hasPreviousPage=logsDataa===null||logsDataa===void 0?void 0:(_logsDataa$data4=logsDataa.data)===null||_logsDataa$data4===void 0?void 0:_logsDataa$data4.hasPreviousPage;// console.log(\"hasNextPage : \",logsDataa.total )\nvar removeBodyCss=function removeBodyCss(){document.body.classList.add(\"no_padding\");};var tog_static=function tog_static(){setModal_static(!modal_static);removeBodyCss();};var logdetialsfunc=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(logId){var response,result,logsDataDeails;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(DIOM_BASED_URLS,\"/hyper-pay-logs/\").concat(logId),{method:'GET',headers:{Authorization:\"Bearer \"+token,Accept:\"*/*\",// \"Content-Type\": \"application/json\",\n\"Access-Control-Allow-Origin\":\"*\"}});case 3:response=_context.sent;if(response.ok){_context.next=6;break;}throw new Error(response.statusText);case 6:_context.next=8;return response.json();case 8:result=_context.sent;logsDataDeails=result;// console.log(\"logsDataDeails:::::::::::::logsDataDeails\",logsDataDeails.hyperPayMessage)\nsetLogsDataDetail(logsDataDeails);setModal_static(true);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.log(\"error\",_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function logdetialsfunc(_x){return _ref.apply(this,arguments);};}();var pageOptions={sizePerPage:pageSize,totalSize:total!==null&&total!==void 0?total:0,custom:true};var pagelengthnum=function pagelengthnum(e){if(e.target.value===\"1\"){setPageSize(10);}else if(e.target.value===\"2\"){setPageSize(30);}else if(e.target.value===\"3\"){setPageSize(50);}};var toggle=function toggle(){setIsOpen(!isOpen);};return{logdetialsfunc:logdetialsfunc,tog_static:tog_static,logsData:logsData,modal_static:modal_static,setModal_static:setModal_static,logsDataDetail:logsDataDetail,pageOptions:pageOptions,pagelengthnum:pagelengthnum,currentPage:currentPage,isOpen:isOpen,pageSize:pageSize,hasNextPage:hasNextPage,changeCurrentPage:changeCurrentPage,toggle:toggle};};export default UseDataLogs;","map":{"version":3,"names":["React","useState","useEffect","useQuery","getDataLogs","DIOM_BASED_URLS","useAllDataQuery","usePaginatedQuery","UseDataLogs","token","localStorage","getItem","modal_static","setModal_static","logsDataDetail","setLogsDataDetail","dataDetailId","setDataDetailId","isOpen","setIsOpen","currentPage","setCurrentPage","pageSize","setPageSize","changeCurrentPage","pageNum","logsDataa","data","logsData","hasNextPage","total","hasPreviousPage","removeBodyCss","document","body","classList","add","tog_static","logdetialsfunc","logId","fetch","method","headers","Authorization","Accept","response","ok","Error","statusText","json","result","logsDataDeails","console","log","pageOptions","sizePerPage","totalSize","custom","pagelengthnum","e","target","value","toggle"],"sources":["D:/diom working project/staging/src/pages/DataLogs/useDataLogs.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport { useQuery } from 'react-query';\r\nimport { getDataLogs } from '../../APIS/dataLogs';\r\nimport { DIOM_BASED_URLS } from '../../config/url';\r\nimport { useAllDataQuery, usePaginatedQuery } from '../../hooks/query';\r\n\r\nconst UseDataLogs = () => {\r\n    const token = localStorage.getItem(\"Token\");\r\n    const [modal_static, setModal_static] = useState(false);\r\n    const[logsDataDetail,setLogsDataDetail]=useState();\r\n    const [dataDetailId,setDataDetailId]=useState()\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [pageSize, setPageSize] = useState(50);\r\n  const changeCurrentPage = (pageNum) => setCurrentPage(pageNum);\r\n\r\n\r\n    const { data:logsDataa } = useAllDataQuery(\r\n        [\"GetDataLogsss\",`${currentPage}` ,`${pageSize}`],\r\n        () => getDataLogs(token,currentPage,pageSize)\r\n      );\r\n      const logsData = logsDataa?.data?.data;\r\n      const hasNextPage = logsDataa?.data?.hasNextPage;\r\n      const total = logsDataa?.data?.total;\r\n      const hasPreviousPage = logsDataa?.data?.hasPreviousPage\r\n\r\n      // console.log(\"hasNextPage : \",logsDataa.total )\r\n    const removeBodyCss = () => {\r\n      document.body.classList.add(\"no_padding\");\r\n    };\r\n      const tog_static = () => {\r\n        setModal_static(!modal_static);\r\n    \r\n        removeBodyCss();\r\n      };\r\n\r\n\r\n    \r\n\r\n\r\n    const  logdetialsfunc = async(logId)=>{\r\n        \r\n// console.log(\"its ID ===>\",logId)\r\n//starts\r\ntry{\r\nconst response = await   fetch(\r\n  `${DIOM_BASED_URLS}/hyper-pay-logs/${logId}`,\r\n  {\r\n    method: 'GET',\r\n    headers:{\r\nAuthorization:\"Bearer \" + token,\r\nAccept: \"*/*\",\r\n// \"Content-Type\": \"application/json\",\r\n\"Access-Control-Allow-Origin\": \"*\",\r\n    }\r\n  }\r\n)\r\n\r\nif (!response.ok) {\r\n  // if(response.status === 401){\r\n  //   setError(response.statusText)\r\n  //   history.push(\"/login\");\r\n  // }\r\n  throw new Error(response.statusText);\r\n}\r\nconst result = await response.json();\r\nconst logsDataDeails = result\r\n// console.log(\"logsDataDeails:::::::::::::logsDataDeails\",logsDataDeails.hyperPayMessage)\r\n       setLogsDataDetail(logsDataDeails)\r\n       setModal_static(true)\r\n} catch(error){ \r\n  console.log(\"error\", error)\r\n}\r\n//ends\r\n\r\n\r\n\r\n\r\n// setDataDetailId(logId)\r\n      }\r\n\r\n\r\n      const pageOptions = {\r\n        sizePerPage: pageSize,\r\n        totalSize: total ?? 0,\r\n        custom: true,\r\n      };\r\n\r\n      const pagelengthnum = (e) => {\r\n        if (e.target.value === \"1\") {\r\n          setPageSize(10);\r\n        } else if (e.target.value === \"2\") {\r\n          setPageSize(30);\r\n        } else if (e.target.value === \"3\") {\r\n          setPageSize(50);\r\n        }\r\n      };\r\n      const toggle = () => {\r\n        setIsOpen(!isOpen);\r\n      };\r\n     \r\n\r\n\r\n  return {\r\n    logdetialsfunc,\r\n    tog_static,\r\n    logsData,\r\n    modal_static, \r\n    setModal_static,\r\n    logsDataDetail,\r\n    pageOptions,\r\n    pagelengthnum,\r\n    currentPage,\r\n    isOpen,\r\n    pageSize,\r\n    hasNextPage,\r\n\r\n    changeCurrentPage,\r\n    toggle\r\n  }\r\n   \r\n  \r\n}\r\n\r\nexport default UseDataLogs"],"mappings":"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"},"metadata":{},"sourceType":"module"}