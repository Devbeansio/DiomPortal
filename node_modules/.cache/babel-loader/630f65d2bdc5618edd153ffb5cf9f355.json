{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tech sign\\\\Desktop\\\\1diom-frontend\\\\diom-frontend\\\\src\\\\pages\\\\Locations\\\\LocationDetailed\\\\useLocationDetailed.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { DIOM_BASED_URLS } from \"../../../config/url\";\nimport { getdiomlocationBrand, getLocation } from \"../../../APIS/locations\";\nimport { useQueryClient, useQuery } from \"react-query\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst UseLocationDetailed = () => {\n  _s();\n\n  const QueryClient = useQueryClient();\n  const [modal_static, setModal_static] = useState(false);\n  const [locationstite, setLocationstitle] = useState({});\n  const [amentiesImgUrl, setAmentiesImgUrl] = useState({});\n  const [nearByImages, setNearByImages] = useState({});\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [selectedFiles5, setSelectedFiles5] = useState([]);\n  const [selectedFiles2, setSelectedFiles2] = useState([]);\n  const [simple_color, setSimple_color] = useState([]);\n  const [emenitiesTitle, setEmenitiesTitle] = useState([]);\n  const [locationAddMoreBlock, setLocationAddMoreBlock] = useState(false);\n  const [nearbyAddMoreBlock, setNearbyAddMoreBlock] = useState(false);\n  const [amenitiesAddMoreBlock, setAmenitiesAddMoreBlock] = useState(false);\n  const [editeminitsbtn, setEditeminitsbtn] = useState(true);\n  const [selectedLocation, setSelectedLocation] = useState([]);\n  const [diomBrand, setDiomBrand] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\n  const [locationImgId, setLocationImgId] = useState(\"\");\n  const [emenitiesstag, setEmenitiesstag] = useState(\"\");\n  const [enableEdit, setEnableEdit] = useState(false);\n  const [enableementiesEdit, setEnableementiesEdit] = useState(false);\n  const [imentiesImgId, setImentiesImgId] = useState(\"\");\n  const {\n    id\n  } = useParams();\n  const token = localStorage.getItem(\"Token\");\n\n  function Offsymbol(text) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        fontSize: 12,\n        color: \"#fff\",\n        paddingRight: 2\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this);\n  }\n\n  function OnSymbol(text) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        height: \"100%\",\n        fontSize: 12,\n        color: \"#fff\",\n        paddingRight: 2\n      },\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n\n  const formatBytes = function (bytes) {\n    let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    if (bytes === 0) return \"0 Bytes\";\n    const k = 1024; // const k = 100;\n\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\n  };\n\n  const handleAcceptedFiles = files => {\n    files.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file),\n      htmlFormattedSize: formatBytes(file.size)\n    }));\n    setSelectedFiles(files);\n  };\n\n  const handleAcceptedFiles5 = files => {\n    files.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file),\n      htmlFormattedSize: formatBytes(file.size)\n    }));\n    setSelectedFiles5(files);\n  };\n\n  const handleAcceptedFiles2 = files => {\n    files.map(file => Object.assign(file, {\n      preview: URL.createObjectURL(file),\n      formattedSize: formatBytes(file.size)\n    }));\n    setSelectedFiles2(files);\n  };\n\n  const emenitiesedittagfunc = () => {\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/amenities/${imentiesImgId}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        locationAmenityTitle: `${emenitiesstag}`\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"locations\");\n        getlocations();\n      } else if (result3.status === 204) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"locations\");\n        getlocations();\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setEnableEdit(false);\n      setModal_static(false); // getdiomBrandfunc()\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const locationTagEditButtonfunc = () => {\n    setEnableEdit(true);\n  };\n\n  const emenitiesTagEditButtonfunc = () => {\n    setEnableementiesEdit(true);\n  };\n\n  const locationedittagfunc = () => {\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/${locationImgId}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        locationTag: locationEditTag\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"locations\");\n        QueryClient.invalidateQueries(\"locationbrands\");\n        getlocations();\n      } else if (result3.status === 204) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"locations\");\n        QueryClient.invalidateQueries(\"locationbrands\");\n        getlocations();\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setEnableEdit(false);\n      setModal_static(false); // getdiomBrandfunc()\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const uploadfilelocationfunc = async () => {\n    if (selectedFiles <= 1 || selectedLocation.length <= 1) {\n      return toast.error(\" Please fill all fields\");\n    } else {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", `Bearer ${localStorage.getItem(\"Token\")}`);\n      var formdata = new FormData();\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].preview);\n      formdata.append(\"locationTag\", selectedLocation);\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: formdata,\n        redirect: \"follow\"\n      };\n      await fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/uploadimages`, requestOptions).then(response => response.json()).then(result => {\n        setLocationstitle({ ...locationstite,\n          images: [...locationstite.images, result[0].data]\n        });\n\n        if (result[0].statusCode === 200) {\n          toast.success(\"Image uplaoded\", result[0].statusCode);\n          QueryClient.invalidateQueries(\"locations\");\n          QueryClient.invalidateQueries(\"locationbrands\");\n          setSelectedFiles([]);\n        } else if (result[0].statusCode === 204) {\n          toast.success(\"Image uplaoded\", result[0].statusCode);\n          QueryClient.invalidateQueries(\"locations\");\n          QueryClient.invalidateQueries(\"locationbrands\");\n          setSelectedFiles([]);\n        } else {\n          toast.error(\" Something went wrong\");\n        }\n\n        setModal_static(false);\n        setLocationAddMoreBlock(false);\n        getlocations();\n      }).catch(error => toast.error(\" Something went wrong\"));\n    }\n  };\n\n  const uploadfilenearbyfunc = async () => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Authorization\", `Bearer ${localStorage.getItem(\"Token\")}`);\n    var formdata = new FormData();\n    formdata.append(\"file\", selectedFiles5[0], selectedFiles5[0].preview); // formdata.append(\"facilityName\", selectedLocation);\n\n    var requestOptions = {\n      method: \"POST\",\n      headers: myHeaders,\n      body: formdata,\n      redirect: \"follow\"\n    };\n    await fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/nearbyfacilities`, requestOptions).then(response => response.json()).then(result => {\n      setNearByImages({ ...nearByImages,\n        images: [...nearByImages.nearByFacilities, result[0].data]\n      });\n\n      if (result[0].statusCode === 200) {\n        toast.success(\"Image uplaoded\", result[0].statusCode);\n        QueryClient.invalidateQueries(\"locations\");\n      } else if (result[0].statusCode === 204) {\n        toast.success(\"Image uplaoded\", result[0].statusCode);\n        QueryClient.invalidateQueries(\"locations\");\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setModal_static(false);\n      setNearbyAddMoreBlock(false);\n      getlocations();\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const uploadfileAmentiesfunc = () => {\n    if (selectedFiles2 <= 1 || emenitiesTitle.length <= 1) {\n      return toast.error(\" Please fill all fields\");\n    } else {\n      var myHeaders = new Headers();\n      myHeaders.append(\"Authorization\", `Bearer ${localStorage.getItem(\"Token\")}`);\n      var formdata = new FormData();\n      formdata.append(\"file\", selectedFiles2[0], selectedFiles2[0].preview);\n      formdata.append(\"title\", emenitiesTitle);\n      var requestOptions = {\n        method: \"POST\",\n        headers: myHeaders,\n        body: formdata,\n        redirect: \"follow\"\n      };\n      fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/amenityimage`, requestOptions).then(response => response.json()).then(result => {\n        setAmentiesImgUrl({ ...amentiesImgUrl,\n          amenities: [...amentiesImgUrl.amenities, result[0].data]\n        });\n\n        if (result[0].statusCode === 200) {\n          QueryClient.invalidateQueries(\"locations\");\n          toast.success(\"Image uplaoded\", {\n            toastId: \"Success1\"\n          });\n          setSelectedFiles2([]);\n        } else if (result[0].statusCode === 204) {\n          QueryClient.invalidateQueries(\"locations\");\n          toast.success(\"Image uplaoded\", {\n            toastId: \"Success1\"\n          });\n          setSelectedFiles2([]);\n        } else {\n          toast.error(\" Something went wrong\");\n        }\n\n        setAmenitiesAddMoreBlock(false);\n        setModal_static(false);\n        getlocations();\n      }).catch(error => alert(\"request not responed\"));\n    }\n  };\n\n  const updateLocationfunction = () => {\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}`, {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      },\n      body: JSON.stringify({\n        description: locationstite.description,\n        city: locationstite.city,\n        state: locationstite.state,\n        visibility: locationstite.visibility\n      })\n    }).then(result3 => {\n      if (result3.status === 200) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"locations\");\n      } else if (result3.status === 204) {\n        toast.success(\"Updated Successfully\");\n        QueryClient.invalidateQueries(\"locations\");\n      } else {\n        toast.error(\" Something went wrong\");\n      }\n\n      setModal_static(false);\n    }).catch(error => console.log(\"error\", error));\n  };\n\n  const imagedeletedfunc = _id => {\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(result3 => {\n      toast.success(\"Deleted Successfully\");\n      QueryClient.invalidateQueries(\"locationbrands\");\n      QueryClient.invalidateQueries(\"locations\");\n      getlocations();\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const nearbyimagedeletedfunc = _id => {\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/nearbyfacilities/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(result3 => {\n      toast.success(\"Deleted Successfully\");\n      QueryClient.invalidateQueries(\"locations\");\n      getlocations();\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const imagedeletedAmentiesfunc = _id => {\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations//${id}/amenities/${_id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json, text/plain\",\n        \"Content-Type\": \"application/json;charset=UTF-8\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(result3 => {\n      toast.success(\"Deleted Successfully\");\n      QueryClient.invalidateQueries(\"locations\");\n      getlocations();\n    }).catch(error => toast.error(\" Something went wrong\"));\n  };\n\n  const handellocationeditfunc = (e, e_id) => {\n    setLocationEditTag(e);\n    setLocationImgId(e_id);\n  };\n\n  const emenitiesEditfunc = (event, e_id) => {\n    // setEmenitiesstag((prev) => ({ ...prev, title: event.target.value }));\n    setEmenitiesstag(event.target.value);\n    setImentiesImgId(e_id);\n  };\n\n  const handellocationfunc = e => {\n    setSelectedLocation(e);\n  };\n\n  const districtfunc = e => {\n    setLocationstitle(prev => ({ ...prev,\n      state: e.target.value\n    }));\n  };\n\n  const cityfunc = e => {\n    setLocationstitle(prev => ({ ...prev,\n      city: e.target.value\n    }));\n  };\n\n  const textareachange = e => {\n    setLocationstitle(prev => ({ ...prev,\n      description: e.target.value\n    }));\n  };\n\n  const removeBodyCss = () => {\n    document.body.classList.add(\"no_padding\");\n  };\n\n  const tog_static = () => {\n    setModal_static(!modal_static);\n    removeBodyCss();\n  };\n\n  const getlocationStatusFunc = async e => {\n    if (e == true) {\n      const response = await fetch(`${DIOM_BASED_URLS}/admin-business-locations/active/${id}`, {\n        method: \"GET\",\n        redirect: \"follow\",\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      });\n\n      if (!response.ok) {\n        const message = `An error has occured: ${response.status}`;\n        throw new Error(message);\n      } else {\n        toast.success(\"Location Actived\");\n      }\n    } else if (e == false) {\n      fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}`, {\n        method: \"DELETE\",\n        redirect: \"follow\",\n        headers: {\n          Authorization: \"Bearer \" + token\n        }\n      }).then(response => response.json()).then(result => {\n        toast.success(\"Location Archived\");\n      }).catch(error => toast.error(\" Something went wrong\"));\n    }\n\n    setLocationstitle({ ...setLocationstitle,\n      visibility: !locationstite.visibility\n    });\n  }; // *************\n\n\n  const Locationdata = useQuery([\"locations\", id], () => getLocation(token, id));\n  const getLocationdata = Locationdata.data;\n  const isLoading = Locationdata; // *************\n\n  const getlocations = async () => {\n    setLocationstitle(getLocationdata);\n    setAmentiesImgUrl(getLocationdata);\n    setNearByImages(getLocationdata);\n  }; // *************\n\n\n  const diomlocationBrandddata = useQuery([\"locationbrands\", id], () => getdiomlocationBrand(token));\n  const diomlocationBrandata = diomlocationBrandddata.data; // *************\n\n  const getdiomBrandfunc = async () => {\n    const mapdata = diomlocationBrandata.map(element => ({\n      value: element.id,\n      label: element.name\n    }));\n    setDiomBrand([{\n      label: \"--All Tags\",\n      options: mapdata\n    }]);\n  };\n\n  useEffect(() => {\n    (async () => {\n      getLocationdata && (await getlocations());\n      diomlocationBrandata && (await getdiomBrandfunc());\n    })();\n  }, [getLocationdata, diomlocationBrandata]);\n  return {\n    modal_static,\n    setModal_static,\n    locationstite,\n    setLocationstitle,\n    amentiesImgUrl,\n    setAmentiesImgUrl,\n    nearByImages,\n    setNearByImages,\n    selectedFiles,\n    setSelectedFiles,\n    selectedFiles5,\n    setSelectedFiles5,\n    selectedFiles2,\n    setSelectedFiles2,\n    simple_color,\n    setSimple_color,\n    emenitiesTitle,\n    setEmenitiesTitle,\n    locationAddMoreBlock,\n    setLocationAddMoreBlock,\n    nearbyAddMoreBlock,\n    setNearbyAddMoreBlock,\n    amenitiesAddMoreBlock,\n    setAmenitiesAddMoreBlock,\n    editeminitsbtn,\n    setEditeminitsbtn,\n    selectedLocation,\n    setSelectedLocation,\n    diomBrand,\n    setDiomBrand,\n    loaded,\n    setLoaded,\n    getLocationdata,\n    isLoading,\n    locationEditTag,\n    setLocationEditTag,\n    locationImgId,\n    setLocationImgId,\n    emenitiesstag,\n    setEmenitiesstag,\n    enableEdit,\n    setEnableEdit,\n    enableementiesEdit,\n    setEnableementiesEdit,\n    imentiesImgId,\n    setImentiesImgId,\n    Offsymbol,\n    OnSymbol,\n    handleAcceptedFiles,\n    handleAcceptedFiles5,\n    handleAcceptedFiles2,\n    emenitiesedittagfunc,\n    locationTagEditButtonfunc,\n    emenitiesTagEditButtonfunc,\n    locationedittagfunc,\n    uploadfilelocationfunc,\n    uploadfilenearbyfunc,\n    uploadfileAmentiesfunc,\n    handellocationeditfunc,\n    emenitiesEditfunc,\n    handellocationfunc,\n    districtfunc,\n    cityfunc,\n    textareachange,\n    tog_static,\n    getlocationStatusFunc,\n    getlocations,\n    getdiomBrandfunc,\n    updateLocationfunction,\n    imagedeletedfunc,\n    nearbyimagedeletedfunc,\n    imagedeletedAmentiesfunc\n  };\n};\n\n_s(UseLocationDetailed, \"HozuQI3jMjtz17lH+9Cvi1ptH8Q=\", false, function () {\n  return [useQueryClient, useParams, useQuery, useQuery];\n});\n\n_c = UseLocationDetailed;\nexport default UseLocationDetailed;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseLocationDetailed\");","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/src/pages/Locations/LocationDetailed/useLocationDetailed.js"],"names":["React","useState","useEffect","useParams","toast","DIOM_BASED_URLS","getdiomlocationBrand","getLocation","useQueryClient","useQuery","UseLocationDetailed","QueryClient","modal_static","setModal_static","locationstite","setLocationstitle","amentiesImgUrl","setAmentiesImgUrl","nearByImages","setNearByImages","selectedFiles","setSelectedFiles","selectedFiles5","setSelectedFiles5","selectedFiles2","setSelectedFiles2","simple_color","setSimple_color","emenitiesTitle","setEmenitiesTitle","locationAddMoreBlock","setLocationAddMoreBlock","nearbyAddMoreBlock","setNearbyAddMoreBlock","amenitiesAddMoreBlock","setAmenitiesAddMoreBlock","editeminitsbtn","setEditeminitsbtn","selectedLocation","setSelectedLocation","diomBrand","setDiomBrand","loaded","setLoaded","locationEditTag","setLocationEditTag","locationImgId","setLocationImgId","emenitiesstag","setEmenitiesstag","enableEdit","setEnableEdit","enableementiesEdit","setEnableementiesEdit","imentiesImgId","setImentiesImgId","id","token","localStorage","getItem","Offsymbol","text","display","justifyContent","alignItems","height","fontSize","color","paddingRight","OnSymbol","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","pow","toFixed","handleAcceptedFiles","files","map","file","Object","assign","preview","URL","createObjectURL","htmlFormattedSize","size","handleAcceptedFiles5","handleAcceptedFiles2","formattedSize","emenitiesedittagfunc","fetch","method","headers","Accept","Authorization","body","JSON","stringify","locationAmenityTitle","then","result3","status","success","invalidateQueries","getlocations","error","catch","locationTagEditButtonfunc","emenitiesTagEditButtonfunc","locationedittagfunc","locationTag","uploadfilelocationfunc","length","myHeaders","Headers","append","formdata","FormData","requestOptions","redirect","response","json","result","images","data","statusCode","uploadfilenearbyfunc","nearByFacilities","uploadfileAmentiesfunc","amenities","toastId","alert","updateLocationfunction","description","city","state","visibility","console","imagedeletedfunc","_id","nearbyimagedeletedfunc","imagedeletedAmentiesfunc","handellocationeditfunc","e","e_id","emenitiesEditfunc","event","target","value","handellocationfunc","districtfunc","prev","cityfunc","textareachange","removeBodyCss","document","classList","add","tog_static","getlocationStatusFunc","ok","message","Error","Locationdata","getLocationdata","isLoading","diomlocationBrandddata","diomlocationBrandata","getdiomBrandfunc","mapdata","element","label","name","options"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { DIOM_BASED_URLS } from \"../../../config/url\";\r\nimport { getdiomlocationBrand, getLocation } from \"../../../APIS/locations\";\r\nimport { useQueryClient, useQuery } from \"react-query\";\r\n\r\nconst UseLocationDetailed = () => {\r\n  const QueryClient = useQueryClient();\r\n  const [modal_static, setModal_static] = useState(false);\r\n  const [locationstite, setLocationstitle] = useState({});\r\n  const [amentiesImgUrl, setAmentiesImgUrl] = useState({});\r\n  const [nearByImages, setNearByImages] = useState({});\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [selectedFiles5, setSelectedFiles5] = useState([]);\r\n  const [selectedFiles2, setSelectedFiles2] = useState([]);\r\n  const [simple_color, setSimple_color] = useState([]);\r\n  const [emenitiesTitle, setEmenitiesTitle] = useState([]);\r\n  const [locationAddMoreBlock, setLocationAddMoreBlock] = useState(false);\r\n  const [nearbyAddMoreBlock, setNearbyAddMoreBlock] = useState(false);\r\n  const [amenitiesAddMoreBlock, setAmenitiesAddMoreBlock] = useState(false);\r\n  const [editeminitsbtn, setEditeminitsbtn] = useState(true);\r\n  const [selectedLocation, setSelectedLocation] = useState([]);\r\n  const [diomBrand, setDiomBrand] = useState([]);\r\n  const [loaded, setLoaded] = useState(false);\r\n  const [locationEditTag, setLocationEditTag] = useState(\"\");\r\n  const [locationImgId, setLocationImgId] = useState(\"\");\r\n  const [emenitiesstag, setEmenitiesstag] = useState(\"\");\r\n  const [enableEdit, setEnableEdit] = useState(false);\r\n  const [enableementiesEdit, setEnableementiesEdit] = useState(false);\r\n  const [imentiesImgId, setImentiesImgId] = useState(\"\");\r\n\r\n  const { id } = useParams();\r\n  const token = localStorage.getItem(\"Token\");\r\n\r\n  function Offsymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  function OnSymbol(text) {\r\n    return (\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          fontSize: 12,\r\n          color: \"#fff\",\r\n          paddingRight: 2,\r\n        }}\r\n      >\r\n        {text}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const formatBytes = (bytes, decimals = 1) => {\r\n    if (bytes === 0) return \"0 Bytes\";\r\n    const k = 1024;\r\n    // const k = 100;\r\n    const dm = decimals < 0 ? 0 : decimals;\r\n    const sizes = [\"Bytes\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\r\n\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + \" \" + sizes[i];\r\n  };\r\n\r\n  const handleAcceptedFiles = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles(files);\r\n  };\r\n  const handleAcceptedFiles5 = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        htmlFormattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles5(files);\r\n  };\r\n\r\n  const handleAcceptedFiles2 = (files) => {\r\n    files.map((file) =>\r\n      Object.assign(file, {\r\n        preview: URL.createObjectURL(file),\r\n        formattedSize: formatBytes(file.size),\r\n      })\r\n    );\r\n\r\n    setSelectedFiles2(files);\r\n  };\r\n\r\n  const emenitiesedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/amenities/${imentiesImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationAmenityTitle: `${emenitiesstag}`,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          getlocations();\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          getlocations();\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n        // getdiomBrandfunc()\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const locationTagEditButtonfunc = () => {\r\n    setEnableEdit(true);\r\n  };\r\n  const emenitiesTagEditButtonfunc = () => {\r\n    setEnableementiesEdit(true);\r\n  };\r\n\r\n  const locationedittagfunc = () => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/${locationImgId}`,\r\n      {\r\n        method: \"PATCH\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n        body: JSON.stringify({\r\n          locationTag: locationEditTag,\r\n        }),\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          QueryClient.invalidateQueries(\"locationbrands\");\r\n          getlocations();\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n          QueryClient.invalidateQueries(\"locationbrands\");\r\n          getlocations();\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setEnableEdit(false);\r\n        setModal_static(false);\r\n\r\n        // getdiomBrandfunc()\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const uploadfilelocationfunc = async () => {\r\n    if (selectedFiles <= 1 || selectedLocation.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles[0], selectedFiles[0].preview);\r\n      formdata.append(\"locationTag\", selectedLocation);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      await fetch(\r\n        `${DIOM_BASED_URLS}/admin-business-locations/${id}/uploadimages`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          setLocationstitle({\r\n            ...locationstite,\r\n            images: [...locationstite.images, result[0].data],\r\n          });\r\n\r\n          if (result[0].statusCode === 200) {\r\n            toast.success(\"Image uplaoded\", result[0].statusCode);\r\n\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            QueryClient.invalidateQueries(\"locationbrands\");\r\n            setSelectedFiles([]);\r\n          } else if (result[0].statusCode === 204) {\r\n            toast.success(\"Image uplaoded\", result[0].statusCode);\r\n\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            QueryClient.invalidateQueries(\"locationbrands\");\r\n            setSelectedFiles([]);\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n\r\n          setModal_static(false);\r\n          setLocationAddMoreBlock(false);\r\n          getlocations();\r\n        })\r\n        .catch((error) => toast.error(\" Something went wrong\"));\r\n    }\r\n  };\r\n\r\n  const uploadfilenearbyfunc = async () => {\r\n    var myHeaders = new Headers();\r\n    myHeaders.append(\r\n      \"Authorization\",\r\n      `Bearer ${localStorage.getItem(\"Token\")}`\r\n    );\r\n\r\n    var formdata = new FormData();\r\n    formdata.append(\"file\", selectedFiles5[0], selectedFiles5[0].preview);\r\n    // formdata.append(\"facilityName\", selectedLocation);\r\n\r\n    var requestOptions = {\r\n      method: \"POST\",\r\n      headers: myHeaders,\r\n      body: formdata,\r\n      redirect: \"follow\",\r\n    };\r\n\r\n    await fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/nearbyfacilities`,\r\n      requestOptions\r\n    )\r\n      .then((response) => response.json())\r\n      .then((result) => {\r\n        setNearByImages({\r\n          ...nearByImages,\r\n          images: [...nearByImages.nearByFacilities, result[0].data],\r\n        });\r\n\r\n        if (result[0].statusCode === 200) {\r\n          toast.success(\"Image uplaoded\", result[0].statusCode);\r\n          QueryClient.invalidateQueries(\"locations\");\r\n        } else if (result[0].statusCode === 204) {\r\n          toast.success(\"Image uplaoded\", result[0].statusCode);\r\n          QueryClient.invalidateQueries(\"locations\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n\r\n        setModal_static(false);\r\n        setNearbyAddMoreBlock(false);\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const uploadfileAmentiesfunc = () => {\r\n    if (selectedFiles2 <= 1 || emenitiesTitle.length <= 1) {\r\n      return toast.error(\" Please fill all fields\");\r\n    } else {\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\r\n        \"Authorization\",\r\n        `Bearer ${localStorage.getItem(\"Token\")}`\r\n      );\r\n\r\n      var formdata = new FormData();\r\n      formdata.append(\"file\", selectedFiles2[0], selectedFiles2[0].preview);\r\n      formdata.append(\"title\", emenitiesTitle);\r\n\r\n      var requestOptions = {\r\n        method: \"POST\",\r\n        headers: myHeaders,\r\n        body: formdata,\r\n        redirect: \"follow\",\r\n      };\r\n\r\n      fetch(\r\n        `${DIOM_BASED_URLS}/admin-business-locations/${id}/amenityimage`,\r\n        requestOptions\r\n      )\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          setAmentiesImgUrl({\r\n            ...amentiesImgUrl,\r\n            amenities: [...amentiesImgUrl.amenities, result[0].data],\r\n          });\r\n\r\n          if (result[0].statusCode === 200) {\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            toast.success(\"Image uplaoded\", {\r\n              toastId: \"Success1\",\r\n            });\r\n            setSelectedFiles2([]);\r\n          } else if (result[0].statusCode === 204) {\r\n            QueryClient.invalidateQueries(\"locations\");\r\n            toast.success(\"Image uplaoded\", {\r\n              toastId: \"Success1\",\r\n            });\r\n            setSelectedFiles2([]);\r\n          } else {\r\n            toast.error(\" Something went wrong\");\r\n          }\r\n          setAmenitiesAddMoreBlock(false);\r\n          setModal_static(false);\r\n          getlocations();\r\n        })\r\n        .catch((error) => alert(\"request not responed\"));\r\n    }\r\n  };\r\n\r\n  const updateLocationfunction = () => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify({\r\n        description: locationstite.description,\r\n        city: locationstite.city,\r\n        state: locationstite.state,\r\n        visibility: locationstite.visibility,\r\n      }),\r\n    })\r\n      .then((result3) => {\r\n        if (result3.status === 200) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n        } else if (result3.status === 204) {\r\n          toast.success(\"Updated Successfully\");\r\n          QueryClient.invalidateQueries(\"locations\");\r\n        } else {\r\n          toast.error(\" Something went wrong\");\r\n        }\r\n        setModal_static(false);\r\n      })\r\n      .catch((error) => console.log(\"error\", error));\r\n  };\r\n\r\n  const imagedeletedfunc = (_id) => {\r\n    fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}/${_id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json, text/plain\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n    })\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"locationbrands\");\r\n        QueryClient.invalidateQueries(\"locations\");\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const nearbyimagedeletedfunc = (_id) => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations/${id}/nearbyfacilities/${_id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"locations\");\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const imagedeletedAmentiesfunc = (_id) => {\r\n    fetch(\r\n      `${DIOM_BASED_URLS}/admin-business-locations//${id}/amenities/${_id}`,\r\n      {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json, text/plain\",\r\n          \"Content-Type\": \"application/json;charset=UTF-8\",\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      }\r\n    )\r\n      .then((result3) => {\r\n        toast.success(\"Deleted Successfully\");\r\n        QueryClient.invalidateQueries(\"locations\");\r\n        getlocations();\r\n      })\r\n      .catch((error) => toast.error(\" Something went wrong\"));\r\n  };\r\n\r\n  const handellocationeditfunc = (e, e_id) => {\r\n    setLocationEditTag(e);\r\n    setLocationImgId(e_id);\r\n  };\r\n\r\n  const emenitiesEditfunc = (event, e_id) => {\r\n    // setEmenitiesstag((prev) => ({ ...prev, title: event.target.value }));\r\n    setEmenitiesstag(event.target.value);\r\n\r\n    setImentiesImgId(e_id);\r\n  };\r\n\r\n  const handellocationfunc = (e) => {\r\n    setSelectedLocation(e);\r\n  };\r\n\r\n  const districtfunc = (e) => {\r\n    setLocationstitle((prev) => ({\r\n      ...prev,\r\n      state: e.target.value,\r\n    }));\r\n  };\r\n  const cityfunc = (e) => {\r\n    setLocationstitle((prev) => ({\r\n      ...prev,\r\n      city: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const textareachange = (e) => {\r\n    setLocationstitle((prev) => ({\r\n      ...prev,\r\n      description: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const removeBodyCss = () => {\r\n    document.body.classList.add(\"no_padding\");\r\n  };\r\n  const tog_static = () => {\r\n    setModal_static(!modal_static);\r\n    removeBodyCss();\r\n  };\r\n\r\n  const getlocationStatusFunc = async (e) => {\r\n    if (e == true) {\r\n      const response = await fetch(\r\n        `${DIOM_BASED_URLS}/admin-business-locations/active/${id}`,\r\n        {\r\n          method: \"GET\",\r\n          redirect: \"follow\",\r\n          headers: {\r\n            Authorization: \"Bearer \" + token,\r\n          },\r\n        }\r\n      );\r\n\r\n      if (!response.ok) {\r\n        const message = `An error has occured: ${response.status}`;\r\n        throw new Error(message);\r\n      } else {\r\n        toast.success(\"Location Actived\");\r\n      }\r\n    } else if (e == false) {\r\n      fetch(`${DIOM_BASED_URLS}/admin-business-locations/${id}`, {\r\n        method: \"DELETE\",\r\n        redirect: \"follow\",\r\n        headers: {\r\n          Authorization: \"Bearer \" + token,\r\n        },\r\n      })\r\n        .then((response) => response.json())\r\n        .then((result) => {\r\n          toast.success(\"Location Archived\");\r\n        })\r\n        .catch((error) => toast.error(\" Something went wrong\"));\r\n    }\r\n\r\n    setLocationstitle({\r\n      ...setLocationstitle,\r\n      visibility: !locationstite.visibility,\r\n    });\r\n  };\r\n\r\n  // *************\r\n  const Locationdata = useQuery([\"locations\", id], () =>\r\n    getLocation(token, id)\r\n  );\r\n  const getLocationdata = Locationdata.data;\r\n  const isLoading = Locationdata;\r\n  // *************\r\n  const getlocations = async () => {\r\n    setLocationstitle(getLocationdata);\r\n    setAmentiesImgUrl(getLocationdata);\r\n    setNearByImages(getLocationdata);\r\n  };\r\n\r\n  // *************\r\n  const diomlocationBrandddata = useQuery([\"locationbrands\", id], () =>\r\n    getdiomlocationBrand(token)\r\n  );\r\n  const diomlocationBrandata = diomlocationBrandddata.data;\r\n\r\n  // *************\r\n\r\n  const getdiomBrandfunc = async () => {\r\n    const mapdata = diomlocationBrandata.map((element) => ({\r\n      value: element.id,\r\n      label: element.name,\r\n    }));\r\n    setDiomBrand([\r\n      {\r\n        label: \"--All Tags\",\r\n        options: mapdata,\r\n      },\r\n    ]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      getLocationdata && (await getlocations());\r\n      diomlocationBrandata && (await getdiomBrandfunc());\r\n    })();\r\n  }, [getLocationdata, diomlocationBrandata]);\r\n\r\n  return {\r\n    modal_static,\r\n    setModal_static,\r\n    locationstite,\r\n    setLocationstitle,\r\n    amentiesImgUrl,\r\n    setAmentiesImgUrl,\r\n    nearByImages,\r\n    setNearByImages,\r\n    selectedFiles,\r\n    setSelectedFiles,\r\n    selectedFiles5,\r\n    setSelectedFiles5,\r\n    selectedFiles2,\r\n    setSelectedFiles2,\r\n    simple_color,\r\n    setSimple_color,\r\n    emenitiesTitle,\r\n    setEmenitiesTitle,\r\n    locationAddMoreBlock,\r\n    setLocationAddMoreBlock,\r\n    nearbyAddMoreBlock,\r\n    setNearbyAddMoreBlock,\r\n    amenitiesAddMoreBlock,\r\n    setAmenitiesAddMoreBlock,\r\n    editeminitsbtn,\r\n    setEditeminitsbtn,\r\n    selectedLocation,\r\n    setSelectedLocation,\r\n    diomBrand,\r\n    setDiomBrand,\r\n    loaded,\r\n    setLoaded,\r\n    getLocationdata,\r\n    isLoading,\r\n    locationEditTag,\r\n    setLocationEditTag,\r\n    locationImgId,\r\n    setLocationImgId,\r\n    emenitiesstag,\r\n    setEmenitiesstag,\r\n    enableEdit,\r\n    setEnableEdit,\r\n    enableementiesEdit,\r\n    setEnableementiesEdit,\r\n    imentiesImgId,\r\n    setImentiesImgId,\r\n    Offsymbol,\r\n    OnSymbol,\r\n    handleAcceptedFiles,\r\n    handleAcceptedFiles5,\r\n    handleAcceptedFiles2,\r\n    emenitiesedittagfunc,\r\n    locationTagEditButtonfunc,\r\n    emenitiesTagEditButtonfunc,\r\n    locationedittagfunc,\r\n    uploadfilelocationfunc,\r\n    uploadfilenearbyfunc,\r\n    uploadfileAmentiesfunc,\r\n    handellocationeditfunc,\r\n    emenitiesEditfunc,\r\n    handellocationfunc,\r\n    districtfunc,\r\n    cityfunc,\r\n    textareachange,\r\n    tog_static,\r\n    getlocationStatusFunc,\r\n    getlocations,\r\n    getdiomBrandfunc,\r\n    updateLocationfunction,\r\n    imagedeletedfunc,\r\n    nearbyimagedeletedfunc,\r\n    imagedeletedAmentiesfunc,\r\n  };\r\n};\r\n\r\nexport default UseLocationDetailed;\r\n"]},"metadata":{},"sourceType":"module"}