{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useQueryClient, useQuery } from \"react-query\";\nimport { getLocations } from \"../../APIS\";\nimport { getreportLocationBrand, getreportLocations } from \"../../APIS/reports\";\nimport { getUserByProfession } from \"../../APIS/userProfle\";\nimport { useAllDataQuery } from \"../../hooks/query\";\n\nconst UseReports = () => {\n  _s();\n\n  const token = localStorage.getItem(\"Token\");\n  const [reportFinalData, setReportFinalData] = useState({});\n  const reportTypeOptions = [{\n    label: \"Booking Report\",\n    value: 0\n  }, {\n    label: \"User Report\",\n    value: 1\n  }, {\n    label: \"User Ananlysis Report\",\n    value: 2\n  }, {\n    label: \"Cancelled Bookings\",\n    value: 3\n  }];\n  const timeSlotOptions = [{\n    label: \"08 AM - 04 PM\",\n    value: 0\n  }, {\n    label: \"04 PM - 12 AM\",\n    value: 1\n  }, {\n    label: \"12 AM - 08 AM\",\n    value: 2\n  }];\n\n  const reportTypeHandeler = e => {\n    // console.log(\"reportTypeHandeler : \", e);\n    setReportFinalData({ ...reportFinalData,\n      reportType: e\n    });\n  };\n\n  const timeSlotHandler = e => {\n    setReportFinalData({ ...reportFinalData,\n      timeSlot: e\n    });\n  };\n\n  const diomBrandHandler = e => {\n    const brandValue = e.map(element => {\n      return element.value;\n    });\n    setReportFinalData({ ...reportFinalData,\n      diomBrand: brandValue\n    });\n  };\n\n  const diomLocationHandler = e => {\n    const locationValue = e.map(element => {\n      return element.value;\n    });\n    setReportFinalData({ ...reportFinalData,\n      diomLocations: locationValue\n    });\n  };\n\n  const resourceTypeHandler = e => {\n    const resourceTypeValue = e.map(element => {\n      return element.value;\n    });\n    setReportFinalData({ ...reportFinalData,\n      resourceTypes: resourceTypeValue\n    });\n  };\n\n  const userTypeIndustryHandler = e => {\n    const userTypeIndustryValue = e.map(element => {\n      return element.value;\n    });\n    setReportFinalData({ ...reportFinalData,\n      userTypeByIndustry: userTypeIndustryValue\n    });\n  };\n\n  const userTypePositionHandler = e => {\n    const userTypePositionValue = e.map(element => {\n      return element.value;\n    });\n    setReportFinalData({ ...reportFinalData,\n      userTypeByPosition: userTypePositionValue\n    });\n  };\n\n  const startdateFunc = e => {\n    const starttdate = e.target.value;\n    const startdate = new Date(starttdate).toISOString();\n    setReportFinalData({ ...reportFinalData,\n      startDate: startdate\n    });\n  };\n\n  const endDateFunc = e => {\n    const endddate = e.target.value;\n    const enddate = new Date(endddate).toISOString();\n    setReportFinalData({ ...reportFinalData,\n      endDate: enddate\n    });\n  }; // ***************\n\n\n  const {\n    data: locationsData,\n    isLoading: loadingLocations\n  } = useAllDataQuery([\"locationsreports\", \"visible\"], () => getreportLocations(token));\n  const locationData = locationsData; // *******************\n\n  const {\n    data: brandData\n  } = useAllDataQuery([\"reportlocationbrandData\", \"visible\"], () => getreportLocationBrand(token)); // *************\n\n  const userByProfession = useQuery([\"getuserbyprofession\"], () => getUserByProfession(token));\n  const userByProfessionData = userByProfession.data;\n  const userByProfessionDataa = userByProfessionData === null || userByProfessionData === void 0 ? void 0 : userByProfessionData.data; // console.log(\"userByProfessionData \", userByProfessionDataa);\n\n  const userbyprofessionindustry = userByProfessionDataa === null || userByProfessionDataa === void 0 ? void 0 : userByProfessionDataa.industries.map((element, index) => ({\n    value: element.id,\n    label: element.name\n  })); // console.log(\"userbyprofessionindustry \", userbyprofessionindustry);\n\n  const userbyprofessionPosition = userByProfessionDataa === null || userByProfessionDataa === void 0 ? void 0 : userByProfessionDataa.positions.map((element, index) => {\n    return {\n      //   ...element,\n      value: element.id,\n      label: element.name\n    };\n  }); // console.log(\"userbyprofessionPosition \", userbyprofessionPosition);\n  // *************\n\n  const reportExport = () => {\n    console.log(\"reportFinalData : \", reportFinalData);\n  };\n\n  return {\n    reportTypeOptions,\n    userByProfessionData,\n    userbyprofessionPosition,\n    userbyprofessionindustry,\n    timeSlotOptions,\n    locationData,\n    brandData,\n    reportTypeHandeler,\n    timeSlotHandler,\n    diomBrandHandler,\n    diomLocationHandler,\n    resourceTypeHandler,\n    userTypeIndustryHandler,\n    userTypePositionHandler,\n    startdateFunc,\n    endDateFunc,\n    reportExport\n  };\n};\n\n_s(UseReports, \"wGNrDSFln708D7eWz5XrDg+NHpI=\", false, function () {\n  return [useAllDataQuery, useAllDataQuery, useQuery];\n});\n\n_c = UseReports;\nexport default UseReports;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseReports\");","map":{"version":3,"sources":["C:/Users/tech sign/Desktop/1diom-frontend/diom-frontend/src/pages/Reports/useReports.js"],"names":["React","useState","useQueryClient","useQuery","getLocations","getreportLocationBrand","getreportLocations","getUserByProfession","useAllDataQuery","UseReports","token","localStorage","getItem","reportFinalData","setReportFinalData","reportTypeOptions","label","value","timeSlotOptions","reportTypeHandeler","e","reportType","timeSlotHandler","timeSlot","diomBrandHandler","brandValue","map","element","diomBrand","diomLocationHandler","locationValue","diomLocations","resourceTypeHandler","resourceTypeValue","resourceTypes","userTypeIndustryHandler","userTypeIndustryValue","userTypeByIndustry","userTypePositionHandler","userTypePositionValue","userTypeByPosition","startdateFunc","starttdate","target","startdate","Date","toISOString","startDate","endDateFunc","endddate","enddate","endDate","data","locationsData","isLoading","loadingLocations","locationData","brandData","userByProfession","userByProfessionData","userByProfessionDataa","userbyprofessionindustry","industries","index","id","name","userbyprofessionPosition","positions","reportExport","console","log"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useQueryClient, useQuery } from \"react-query\";\r\nimport { getLocations } from \"../../APIS\";\r\nimport { getreportLocationBrand, getreportLocations } from \"../../APIS/reports\";\r\nimport { getUserByProfession } from \"../../APIS/userProfle\";\r\nimport { useAllDataQuery } from \"../../hooks/query\";\r\n\r\nconst UseReports = () => {\r\n  const token = localStorage.getItem(\"Token\");\r\n  const [reportFinalData, setReportFinalData] = useState({});\r\n  const reportTypeOptions = [\r\n    { label: \"Booking Report\", value: 0 },\r\n    { label: \"User Report\", value: 1 },\r\n    { label: \"User Ananlysis Report\", value: 2 },\r\n    { label: \"Cancelled Bookings\", value: 3 },\r\n  ];\r\n  const timeSlotOptions = [\r\n    { label: \"08 AM - 04 PM\", value: 0 },\r\n    { label: \"04 PM - 12 AM\", value: 1 },\r\n    { label: \"12 AM - 08 AM\", value: 2 },\r\n  ];\r\n\r\n  const reportTypeHandeler = (e) => {\r\n    // console.log(\"reportTypeHandeler : \", e);\r\n    setReportFinalData({ ...reportFinalData, reportType: e });\r\n  };\r\n  const timeSlotHandler = (e) => {\r\n    setReportFinalData({ ...reportFinalData, timeSlot: e });\r\n  };\r\n  const diomBrandHandler = (e) => {\r\n    const brandValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n\r\n    setReportFinalData({ ...reportFinalData, diomBrand: brandValue });\r\n  };\r\n  const diomLocationHandler = (e) => {\r\n    const locationValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    setReportFinalData({ ...reportFinalData, diomLocations: locationValue });\r\n  };\r\n  const resourceTypeHandler = (e) => {\r\n    const resourceTypeValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    setReportFinalData({\r\n      ...reportFinalData,\r\n      resourceTypes: resourceTypeValue,\r\n    });\r\n  };\r\n  const userTypeIndustryHandler = (e) => {\r\n    const userTypeIndustryValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    setReportFinalData({\r\n      ...reportFinalData,\r\n      userTypeByIndustry: userTypeIndustryValue,\r\n    });\r\n  };\r\n  const userTypePositionHandler = (e) => {\r\n    const userTypePositionValue = e.map((element) => {\r\n      return element.value;\r\n    });\r\n    setReportFinalData({\r\n      ...reportFinalData,\r\n      userTypeByPosition: userTypePositionValue,\r\n    });\r\n  };\r\n  const startdateFunc = (e) => {\r\n    const starttdate = e.target.value;\r\n    const startdate = new Date(starttdate).toISOString();\r\n    setReportFinalData({ ...reportFinalData, startDate: startdate });\r\n  };\r\n  const endDateFunc = (e) => {\r\n    const endddate = e.target.value;\r\n    const enddate = new Date(endddate).toISOString();\r\n    setReportFinalData({ ...reportFinalData, endDate: enddate });\r\n  };\r\n\r\n  // ***************\r\n  const { data: locationsData, isLoading: loadingLocations } = useAllDataQuery(\r\n    [\"locationsreports\", \"visible\"],\r\n    () => getreportLocations(token)\r\n  );\r\n  const locationData = locationsData;\r\n\r\n  // *******************\r\n  const { data: brandData } = useAllDataQuery(\r\n    [\"reportlocationbrandData\", \"visible\"],\r\n    () => getreportLocationBrand(token)\r\n  );\r\n\r\n  // *************\r\n  const userByProfession = useQuery([\"getuserbyprofession\"], () =>\r\n    getUserByProfession(token)\r\n  );\r\n  const userByProfessionData = userByProfession.data;\r\n  const userByProfessionDataa = userByProfessionData?.data;\r\n  // console.log(\"userByProfessionData \", userByProfessionDataa);\r\n  const userbyprofessionindustry = userByProfessionDataa?.industries.map(\r\n    (element, index) => ({\r\n      value: element.id,\r\n      label: element.name,\r\n    })\r\n  );\r\n\r\n  // console.log(\"userbyprofessionindustry \", userbyprofessionindustry);\r\n  const userbyprofessionPosition = userByProfessionDataa?.positions.map(\r\n    (element, index) => {\r\n      return {\r\n        //   ...element,\r\n\r\n        value: element.id,\r\n        label: element.name,\r\n      };\r\n    }\r\n  );\r\n  // console.log(\"userbyprofessionPosition \", userbyprofessionPosition);\r\n  // *************\r\n\r\n  const reportExport = () => {\r\n    console.log(\"reportFinalData : \", reportFinalData);\r\n  };\r\n\r\n  return {\r\n    reportTypeOptions,\r\n    userByProfessionData,\r\n    userbyprofessionPosition,\r\n    userbyprofessionindustry,\r\n    timeSlotOptions,\r\n    locationData,\r\n    brandData,\r\n    reportTypeHandeler,\r\n    timeSlotHandler,\r\n    diomBrandHandler,\r\n    diomLocationHandler,\r\n    resourceTypeHandler,\r\n    userTypeIndustryHandler,\r\n    userTypePositionHandler,\r\n    startdateFunc,\r\n    endDateFunc,\r\n    reportExport,\r\n  };\r\n};\r\n\r\nexport default UseReports;\r\n"]},"metadata":{},"sourceType":"module"}